(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5e57"],{"+qaP":function(t,e,a){"use strict";var i=a("60OA");a.n(i).a},"2q6O":function(t,e,a){"use strict";var i=a("Scsy");a.n(i).a},"4NUT":function(t,e,a){},"4b9x":function(t,e,a){"use strict";var i=a("wgcy");a.n(i).a},"60OA":function(t,e,a){},"9p49":function(t,e,a){},DPt0:function(t,e,a){"use strict";var i=a("x6RV");a.n(i).a},Dd5M:function(t,e,a){},FCne:function(t,e,a){"use strict";var i=a("OCuP");a.n(i).a},KFE3:function(t,e,a){"use strict";var i=a("mSK5");a.n(i).a},NyLv:function(t,e,a){"use strict";var i=a("Rh6R");a.n(i).a},OCuP:function(t,e,a){},PYLh:function(t,e,a){},Px65:function(t,e,a){},PygS:function(t,e,a){"use strict";var i=a("TtMh");a.n(i).a},RTtG:function(t,e,a){"use strict";var i=a("Zgs2");a.n(i).a},Rh6R:function(t,e,a){},Scsy:function(t,e,a){},TOIk:function(t,e,a){},TRR9:function(t,e,a){},TtMh:function(t,e,a){},TudB:function(t,e,a){},"UbP/":function(t,e,a){},UdS4:function(t,e,a){"use strict";var i=a("WwJU");a.n(i).a},V9mB:function(t,e,a){"use strict";var i=a("Dd5M");a.n(i).a},"WvM+":function(t,e,a){"use strict";var i=a("TRR9");a.n(i).a},WwJU:function(t,e,a){},YcIK:function(t,e,a){"use strict";a.r(e);var i=a("lSNA"),s=a.n(i),n=a("MVZn"),l=a.n(n),r=a("L2JU"),o=a("mSNy"),u={name:"ActivityPub",computed:l()({},Object(r.b)(["activityPubConfig","userConfig"]),{activityPub:function(){return this.activityPubConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"},user:function(){return this.userConfig}}),methods:{updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},c=(a("qEST"),a("KHd+")),p=Object(c.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"activityPub",attrs:{model:t.activityPub,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Accept blocks"}},[a("el-switch",{attrs:{value:t.activityPub.accept_blocks},on:{change:function(e){return t.updateSetting(e,"activitypub","accept_blocks")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether to accept incoming block activities from other instances")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Unfollow blocked"}},[a("el-switch",{attrs:{value:t.activityPub.unfollow_blocked},on:{change:function(e){return t.updateSetting(e,"activitypub","unfollow_blocked")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether blocks result in people getting unfollowed")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Outgoing blocks"}},[a("el-switch",{attrs:{value:t.activityPub.outgoing_blocks},on:{change:function(e){return t.updateSetting(e,"activitypub","outgoing_blocks")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether to federate blocks to other instances")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Follow handshake timeout"}},[a("el-input-number",{staticClass:"top-margin",attrs:{value:t.activityPub.follow_handshake_timeout,step:100,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"activitypub","follow_handshake_timeout")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Sign object fetches"}},[a("el-switch",{attrs:{value:t.activityPub.sign_object_fetches},on:{change:function(e){return t.updateSetting(e,"activitypub","sign_object_fetches")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Sign object fetches with HTTP signatures")])],1)],1),t._v(" "),a("el-form",{ref:"user",attrs:{model:t.user,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Deny follow blocked"}},[a("el-switch",{attrs:{value:t.user.deny_follow_blocked},on:{change:function(e){return t.updateSetting(e,"user","deny_follow_blocked")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether to disallow following an account that has blocked the user in question")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null);p.options.__file="ActivityPub.vue";var m=p.exports,d={name:"Authentication",computed:l()({},Object(r.b)(["pleromaAuthenticatorConfig","ldapConfig","authConfig","ueberauthConfig","oauth2Config","facebookConfig","googleConfig","twitterConfig","microsoftConfig"]),{auth:function(){return this.authConfig},ldap:function(){return this.ldapConfig},oauth2:function(){return this.oauth2Config},pleromaAuthenticator:function(){return this.pleromaAuthenticatorConfig},ueberauth:function(){return this.ueberauthConfig},facebook:function(){return this.facebookConfig},google:function(){return this.googleConfig},twitter:function(){return this.twitterConfig},microsoft:function(){return this.microsoftConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},f=(a("4b9x"),Object(c.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"pleromaAuthenticator",attrs:{model:t.pleromaAuthenticator,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Authentication type"}},[a("el-select",{attrs:{value:t.pleromaAuthenticator.value,clearable:""},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Auth.Authenticator","value")}}},[a("el-option",{attrs:{label:"None",value:""}}),t._v(" "),a("el-option",{attrs:{label:"Pleroma.Web.Auth.PleromaAuthenticator // Default database authenticator",value:"Pleroma.Web.Auth.PleromaAuthenticator"}}),t._v(" "),a("el-option",{attrs:{label:"Pleroma.Web.Auth.LDAPAuthenticator // LDAP authenticator",value:"Pleroma.Web.Auth.LDAPAuthenticator"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"auth",attrs:{model:t.auth,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Authentication settings:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Auth template"}},[a("el-input",{attrs:{value:t.auth.auth_template},on:{input:function(e){return t.updateSetting(e,"auth","auth_template")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Authentication form template. By default it's\n        "),a("span",{staticClass:"code"},[t._v("show.html")]),t._v(" which corresponds to\n        "),a("span",{staticClass:"code"},[t._v("lib/pleroma/web/templates/o_auth/o_auth/show.html.eex.")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"OAuth consumer template"}},[a("el-input",{attrs:{value:t.auth.oauth_consumer_template},on:{input:function(e){return t.updateSetting(e,"auth","oauth_consumer_template")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("OAuth consumer mode authentication form template. By default it's\n        "),a("span",{staticClass:"code"},[t._v("consumer.html")]),t._v(" which corresponds to\n        "),a("span",{staticClass:"code"},[t._v("lib/pleroma/web/templates/o_auth/o_auth/consumer.html.eex.")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"OAuth consumer strategies"}},[a("el-input",{attrs:{value:t.auth.oauth_consumer_strategies},on:{input:function(e){return t.updateSetting(e,"auth","oauth_consumer_strategies")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The list of enabled OAuth consumer strategies; by default it's set by\n        "),a("span",{staticClass:"code"},[t._v("OAUTH_CONSUMER_STRATEGIES")]),t._v("\n        environment variable. You can enter values in the following format: "),a("span",{staticClass:"code"},[t._v("'a:foo b:baz'")])])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"ldap",attrs:{model:t.ldap,"label-width":t.labelWidth}},[a("el-form-item",{staticClass:"options-paragraph-container"},[a("p",{staticClass:"options-paragraph"},[t._v("Use LDAP for user authentication.  When a user logs in to the Pleroma\n      instance, the name and password will be verified by trying to authenticate\n      (bind) to an LDAP server.  If a user exists in the LDAP directory but there\n      is no account with the same name yet on the Pleroma instance then a new\n      Pleroma account will be created with the same name as the LDAP user name.")])]),t._v(" "),a("el-form-item",{attrs:{label:"LDAP Authenticator:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.ldap.enabled},on:{change:function(e){return t.updateSetting(e,"ldap","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enables LDAP authentication")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Host"}},[a("el-input",{attrs:{value:t.ldap.host},on:{input:function(e){return t.updateSetting(e,"ldap","host")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("LDAP server hostname")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{attrs:{value:t.ldap.port},on:{input:function(e){return t.updateSetting(e,"ldap","port")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("LDAP port, e.g. 389 or 636")])],1),t._v(" "),a("el-form-item",{attrs:{label:"SSL"}},[a("el-switch",{attrs:{value:t.ldap.ssl},on:{change:function(e){return t.updateSetting(e,"ldap","ssl")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("True to use SSL, usually implies the port 636")])],1),t._v(" "),a("el-form-item",{attrs:{label:"TLS"}},[a("el-switch",{attrs:{value:t.ldap.tls},on:{change:function(e){return t.updateSetting(e,"ldap","tls")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("True to start TLS, usually implies the port 389")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Base"}},[a("el-input",{attrs:{value:t.ldap.base},on:{input:function(e){return t.updateSetting(e,"ldap","base")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("LDAP base, e.g. "),a("span",{staticClass:"code"},[t._v("'dc=example,dc=com'")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"UID"}},[a("el-input",{attrs:{value:t.ldap.uid},on:{input:function(e){return t.updateSetting(e,"ldap","uid")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("LDAP attribute name to authenticate the user, e.g. when\n        "),a("span",{staticClass:"code"},[t._v("'cn'")]),t._v(", the filter will be "),a("span",{staticClass:"code"},[t._v("'cn=username,base'")])])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"ueberauth",attrs:{model:t.ueberauth,"label-width":t.labelWidth}},[a("el-form-item",{staticClass:"options-paragraph-container",attrs:{label:"OAuth consumer mode"}},[a("p",{staticClass:"options-paragraph"},[t._v("\n        OAuth consumer mode allows sign in / sign up via external OAuth providers\n        (e.g. Twitter, Facebook, Google, Microsoft, etc.). Implementation is based on Ueberauth; see the list of\n        "),a("a",{attrs:{href:"https://github.com/ueberauth/ueberauth/wiki/List-of-Strategies",rel:"nofollow noreferrer noopener",target:"_blank"}},[t._v("\n          available strategies.\n        ")])]),t._v(" "),a("p",{staticClass:"options-paragraph"},[t._v("\n        Note: each strategy is shipped as a separate dependency; in order to get the strategies, run\n        "),a("span",{staticClass:"code"},[t._v('OAUTH_CONSUMER_STRATEGIES="..." mix deps.get')]),t._v(",\n        e.g. "),a("span",{staticClass:"code"},[t._v('OAUTH_CONSUMER_STRATEGIES="twitter facebook google microsoft" mix deps.get')]),t._v(".\n        The server should also be started with "),a("span",{staticClass:"code"},[t._v('OAUTH_CONSUMER_STRATEGIES="..." mix phx.server')]),t._v("\n        in case you enable any strategies.\n      ")]),t._v(" "),a("p",{staticClass:"options-paragraph"},[t._v("\n        Note: each strategy requires separate setup (on external provider side and Pleroma side).\n        Below are the guidelines on setting up most popular strategies.\n      ")]),t._v(" "),a("p",{staticClass:"options-paragraph"},[t._v("\n        Note: make sure that "),a("span",{staticClass:"code"},[t._v("'SameSite=Lax'")]),t._v(" is set in\n        "),a("span",{staticClass:"code"},[t._v("extra_cookie_attrs")]),t._v(" when you have this feature enabled.\n        OAuth consumer mode will not work with "),a("span",{staticClass:"code"},[t._v("'SameSite=Strict'")])]),t._v(" "),a("p",{staticClass:"options-paragraph"},[t._v("For Twitter,\n        "),a("a",{attrs:{href:"https://developer.twitter.com/en/apps",rel:"nofollow noreferrer noopener",target:"_blank"}},[t._v("\n          register an app,\n        ")]),t._v("\n        configure callback URL to "),a("span",{staticClass:"code"},[t._v("https://<your_host>/oauth/twitter/callback")])]),t._v(" "),a("p",{staticClass:"options-paragraph"},[t._v("For Facebook,\n        "),a("a",{attrs:{href:"https://developers.facebook.com/apps",rel:"nofollow noreferrer noopener",target:"_blank"}},[t._v("\n          register an app,\n        ")]),t._v("\n        configure callback URL to "),a("span",{staticClass:"code"},[t._v("https://<your_host>/oauth/facebook/callback")]),t._v(",\n        enable Facebook Login service at\n        "),a("span",{staticClass:"code"},[t._v("https://developers.facebook.com/apps/<app_id>/fb-login/settings/")])]),t._v(" "),a("p",{staticClass:"options-paragraph"},[t._v("For Google,\n        "),a("a",{attrs:{href:"https://console.developers.google.com/",rel:"nofollow noreferrer noopener",target:"_blank"}},[t._v("\n          register an app,\n        ")]),t._v("\n        configure callback URL to "),a("span",{staticClass:"code"},[t._v("https://<your_host>/oauth/google/callback")])]),t._v(" "),a("p",{staticClass:"options-paragraph"},[t._v("For Microsoft,\n        "),a("a",{attrs:{href:"https://portal.azure.com",rel:"nofollow noreferrer noopener",target:"_blank"}},[t._v("\n          register an app,\n        ")]),t._v("\n        configure callback URL to "),a("span",{staticClass:"code"},[t._v("https://<your_host>/oauth/microsoft/callback")])]),t._v(" "),a("p",{staticClass:"options-paragraph"},[t._v("\n        Once the app is configured on external OAuth provider side, add app's credentials and strategy-specific settings\n        per strategy's documentation (e.g.\n        "),a("a",{attrs:{href:"https://github.com/ueberauth/ueberauth_twitter",rel:"nofollow noreferrer noopener",target:"_blank"}},[t._v("\n          ueberauth_twitter\n        ")]),t._v(").\n      ")])]),t._v(" "),a("el-form-item",{attrs:{label:"Ueberauth:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Base path"}},[a("el-input",{attrs:{value:t.ueberauth.base_path},on:{input:function(e){return t.updateSetting(e,"ueberauth","base_path")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"facebook",attrs:{model:t.facebook,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Facebook:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Client ID"}},[a("el-input",{attrs:{value:t.facebook.client_id},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Facebook.OAuth","client_id")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Client secret"}},[a("el-input",{attrs:{value:t.facebook.client_secret},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Facebook.OAuth","client_secret")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Redirect URI"}},[a("el-input",{attrs:{value:t.facebook.redirect_uri},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Facebook.OAuth","redirect_uri")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"twitter",attrs:{model:t.twitter,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Twitter:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Consumer key"}},[a("el-input",{attrs:{value:t.twitter.consumer_key},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Twitter.OAuth","consumer_key")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Consumer secret"}},[a("el-input",{attrs:{value:t.twitter.consumer_secret},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Twitter.OAuth","consumer_secret")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"google",attrs:{model:t.google,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Google:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Client ID"}},[a("el-input",{attrs:{value:t.google.client_id},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Google.OAuth","client_id")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Client secret"}},[a("el-input",{attrs:{value:t.google.client_secret},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Google.OAuth","client_secret")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Redirect URI"}},[a("el-input",{attrs:{value:t.google.redirect_uri},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Google.OAuth","redirect_uri")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"microsoft",attrs:{model:t.microsoft,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Microsoft:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Client ID"}},[a("el-input",{attrs:{value:t.microsoft.client_id},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Microsoft.OAuth","client_id")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Client secret"}},[a("el-input",{attrs:{value:t.microsoft.client_secret},on:{input:function(e){return t.updateSetting(e,"Ueberauth.Strategy.Microsoft.OAuth","client_secret")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"oauth2",attrs:{model:t.oauth2,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"OAuth 2.0 Provider:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Token expires in (s)"}},[a("el-input-number",{attrs:{value:t.oauth2.token_expires_in,step:10,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"oauth2","token_expires_in")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The lifetime in seconds of the access token")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Issue new refresh token"}},[a("el-switch",{attrs:{value:t.oauth2.issue_new_refresh_token},on:{change:function(e){return t.updateSetting(e,"oauth2","issue_new_refresh_token")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Keeps old refresh token or generate new refresh token when to obtain an access token")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Clean expired token"}},[a("el-switch",{attrs:{value:t.oauth2.clean_expired_tokens},on:{change:function(e){return t.updateSetting(e,"oauth2","clean_expired_tokens")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enable a background job to clean expired oauth tokens. Defaults to false.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Clean expired token interval"}},[a("el-input-number",{attrs:{value:t.oauth2.clean_expired_tokens_interval/36e5,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(36e5*e,"oauth2","clean_expired_tokens_interval")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Interval to run the job to clean expired tokens. Defaults to 24 hours.")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));f.options.__file="Authentication.vue";var v=f.exports,h={name:"AutoLinker",computed:l()({},Object(r.b)(["autoLinkerConfig"]),{auto_linker:function(){return this.autoLinkerConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"},loading:function(){return this.$store.state.settings.loading},booleanClass:function(){return this.getBooleanValue("class")},booleanRel:function(){return this.getBooleanValue("rel")},booleanTruncate:function(){return this.getBooleanValue("truncate")}}),methods:{getBooleanValue:function(t){var e=this.autoLinkerConfig.opts[t];return"string"==typeof e||"number"==typeof e},getNumValue:function(t){return this.autoLinkerConfig.opts[t]||0},getStringValue:function(t){return this.autoLinkerConfig.opts[t]||""},processTwoTypeValue:function(t,e,a,i){if(!0===t){var s="truncate"===i?0:"";this.processNestedData(s,e,a,i)}else this.processNestedData(t,e,a,i)},processNestedData:function(t,e,a,i){var n=l()({},this.$store.state.settings.settings[e][a],s()({},i,t));this.updateSetting(n,e,a)},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},_=(a("cyzs"),Object(c.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?t._e():a("el-form",{ref:"auto_linker",attrs:{model:t.auto_linker,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Class"}},[a("el-switch",{attrs:{value:t.booleanClass},on:{change:function(e){return t.processTwoTypeValue(e,"auto_linker","opts","class")}}}),t._v(" "),t.booleanClass?t._e():a("p",{staticClass:"expl"},[t._v("Specify the class to be added to the generated link. False to clear.")])],1),t._v(" "),t.booleanClass?a("el-form-item",[a("el-input",{attrs:{value:t.getStringValue("class")},on:{input:function(e){return t.processTwoTypeValue(e,"auto_linker","opts","class")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Specify the class to be added to the generated link. False to clear.")])],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Rel"}},[a("el-switch",{attrs:{value:t.booleanRel},on:{change:function(e){return t.processTwoTypeValue(e,"auto_linker","opts","rel")}}}),t._v(" "),t.booleanRel?t._e():a("p",{staticClass:"expl"},[t._v("Override the rel attribute. False to clear")])],1),t._v(" "),t.booleanRel?a("el-form-item",[a("el-input",{attrs:{value:t.getStringValue("rel")},on:{input:function(e){return t.processTwoTypeValue(e,"auto_linker","opts","rel")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Override the rel attribute. False to clear")])],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"New window"}},[a("el-switch",{attrs:{value:t.auto_linker.opts.new_window},on:{change:function(e){return t.processNestedData(e,"auto_linker","opts","new_window")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Set to false to remove "),a("span",{staticClass:"code"},[t._v("target='_blank'")]),t._v(" attribute")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Scheme"}},[a("el-switch",{attrs:{value:t.auto_linker.opts.scheme},on:{change:function(e){return t.processNestedData(e,"auto_linker","opts","scheme")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Set to true to link urls with schema "),a("span",{staticClass:"code"},[t._v("http://google.com")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Truncate"}},[a("el-switch",{attrs:{value:t.booleanTruncate},on:{change:function(e){return t.processTwoTypeValue(e,"auto_linker","opts","truncate")}}}),t._v(" "),t.booleanTruncate?t._e():a("p",{staticClass:"expl"},[t._v("Set to a number to truncate urls longer then the number.\n    Truncated urls will end in "),a("span",{staticClass:"code"},[t._v("..")])])],1),t._v(" "),t.booleanTruncate?a("el-form-item",[a("el-input-number",{attrs:{value:t.getStringValue("truncate"),step:1,min:0,size:"large"},on:{change:function(e){return t.processTwoTypeValue(e,"auto_linker","opts","truncate")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Specify the class to be added to the generated link. False to clear.")])],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Strip prefix"}},[a("el-switch",{attrs:{value:t.auto_linker.opts.strip_prefix},on:{change:function(e){return t.processNestedData(e,"auto_linker","opts","strip_prefix")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Strip the scheme prefix")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Extra"}},[a("el-switch",{attrs:{value:t.auto_linker.opts.extra},on:{change:function(e){return t.processNestedData(e,"auto_linker","opts","extra")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Link urls with rarely used schemes (magnet, ipfs, irc, etc.)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Validate TLD"}},[a("el-switch",{attrs:{value:t.auto_linker.opts.validate_tld},on:{change:function(e){return t.processNestedData(e,"auto_linker","opts","validate_tld")}}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)},[],!1,null,null,null));_.options.__file="AutoLinker.vue";var b=_.exports,g={name:"Captcha",computed:l()({},Object(r.b)(["captchaConfig","kocaptchaConfig"]),{captcha:function(){return this.captchaConfig},kocaptcha:function(){return this.kocaptchaConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},y=(a("2q6O"),Object(c.a)(g,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"captcha",attrs:{model:t.captcha,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.captcha.enabled},on:{change:function(e){return t.updateSetting(e,"Pleroma.Captcha","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether the captcha should be shown on registration")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Valid for (s)"}},[a("el-input-number",{attrs:{value:t.captcha.seconds_valid,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"Pleroma.Captcha","seconds_valid")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The time in seconds for which the captcha is valid")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Method"}},[a("el-select",{attrs:{value:t.captcha.method,placeholder:"Select"},on:{change:function(e){return t.updateSetting(e,"Pleroma.Captcha","method")}}},[a("el-option",{attrs:{label:"Pleroma.Captcha.Kocaptcha",value:"Pleroma.Captcha.Kocaptcha"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("The method/service to use for captcha")])],1)],1),t._v(" "),a("el-form",{ref:"kocaptcha",attrs:{model:t.kocaptcha,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Kocaptcha Endpoint"}},[a("el-input",{attrs:{value:t.kocaptcha.endpoint},on:{input:function(e){return t.updateSetting(e,"Pleroma.Captcha.Kocaptcha","endpoint")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Kocaptcha is a captcha service with a single API endpoint, the source code is\n        "),a("a",{attrs:{href:"https://github.com/koto-bank/kocaptcha",rel:"nofollow noreferrer noopener",target:"_blank"}},[t._v("here")]),t._v(".\n        The default endpoint "),a("span",{staticClass:"code"},[t._v("'https://captcha.kotobank.ch'")]),t._v(" is hosted by the developer.\n      ")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));y.options.__file="Captcha.vue";var C=y.exports,w={name:"Instance",computed:l()({},Object(r.b)(["databaseConfig","ectoReposConfig","pleromaRepoConfig"]),{database:function(){return this.databaseConfig},ectoRepos:function(){return this.ectoReposConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"},pleromaRepo:function(){return this.pleromaRepoConfig}}),methods:{updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},S=(a("RTtG"),Object(c.a)(w,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"database",attrs:{model:t.database,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Database settings:"}}),t._v(" "),a("el-form-item",{attrs:{label:"RUM enabled"}},[a("el-switch",{attrs:{value:t.database.rum_enabled},on:{change:function(e){return t.updateSetting(e,"database","rum_enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("RUM indexes are an alternative indexing scheme that is not included in PostgreSQL by default.\n      While they may eventually be mainlined, for now they have to be installed as a PostgreSQL extension from\n        "),a("a",{attrs:{href:"https://github.com/postgrespro/rum",rel:"nofollow noreferrer noopener",target:"_blank"}},[t._v("\n          https://github.com/postgrespro/rum.\n        ")])]),t._v(" "),a("p",{staticClass:"expl"},[t._v("Their advantage over the standard GIN indexes is that they allow efficient ordering of search results by timestamp,\n      which makes search queries a lot faster on larger servers, by one or two orders of magnitude.\n      They take up around 3 times as much space as GIN indexes.")]),t._v(" "),a("p",{staticClass:"expl"},[t._v("To enable them, both the "),a("span",{staticClass:"code"},[t._v("rum_enabled")]),t._v(" flag has to be set and the following special\n      migration has to be run: "),a("span",{staticClass:"code"},[t._v("mix ecto.migrate --migrations-path priv/repo/optional_migrations/rum_indexing/")])])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"ectoRepos",attrs:{model:t.ectoRepos,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Ecto repos"}},[a("el-select",{attrs:{value:t.ectoRepos.value||[],multiple:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"ecto_repos","value")}}},[a("el-option",{attrs:{label:"Pleroma.Repo",value:"Pleroma.Repo"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"pleromaRepo",attrs:{model:t.pleromaRepo,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Pleroma Repo configuration:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{value:t.pleromaRepo.name},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","name")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The name of the Repo supervisor process")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Priv"}},[a("el-input",{attrs:{value:t.pleromaRepo.priv},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","priv")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The directory where to keep repository data, like migrations, schema and more. Defaults to "),a("span",{staticClass:"code"},[t._v("\n        priv/YOUR_REPO")]),t._v(". It must always point to a subdirectory inside the priv directory")])],1),t._v(" "),a("el-form-item",{attrs:{label:"URL"}},[a("el-input",{attrs:{value:t.pleromaRepo.url},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","url")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("An URL that specifies storage information")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Log level"}},[a("el-select",{attrs:{value:t.pleromaRepo.log},on:{change:function(e){return t.updateSetting(e,"Pleroma.Repo","log")}}},[a("el-option",{attrs:{value:!1,label:"False - disables logging for that repository."}}),t._v(" "),a("el-option",{attrs:{value:":debug",label:":debug - for debug-related messages"}}),t._v(" "),a("el-option",{attrs:{value:":info",label:":info - for information of any kind"}}),t._v(" "),a("el-option",{attrs:{value:":warn",label:":warn - for warnings"}}),t._v(" "),a("el-option",{attrs:{value:":error",label:":error - for errors"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("The log level used when logging the query with Elixir's Logger")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Pool size"}},[a("el-input-number",{attrs:{value:t.pleromaRepo.pool_size,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"Pleroma.Repo","pool_size")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The size of the pool used by the connection module. Defaults to "),a("span",{staticClass:"code"},[t._v("10")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Telemetry prefix"}},[a("el-select",{attrs:{value:t.pleromaRepo.telemetry_prefix||[],multiple:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"Pleroma.Repo","telemetry_prefix")}}},[a("el-option",{attrs:{label:":my_app",value:":my_app"}}),t._v(" "),a("el-option",{attrs:{label:":repo",value:":repo"}}),t._v(" "),a("el-option",{attrs:{label:":query",value:":query"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Types"}},[a("el-input",{attrs:{value:t.pleromaRepo.types},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","types")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Telemetry event"}},[a("el-select",{attrs:{value:t.pleromaRepo.telemetry_event||[],multiple:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"Pleroma.Repo","telemetry_event")}}},[a("el-option",{attrs:{label:"Pleroma.Repo.Instrumenter",value:"Pleroma.Repo.Instrumenter"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Connection options:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Hostname"}},[a("el-input",{attrs:{value:t.pleromaRepo.hostname},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","hostname")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Server hostname")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Socket dir"}},[a("el-input",{attrs:{value:t.pleromaRepo.socket_dir},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","socket_dir")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Connect to Postgres via UNIX sockets in the given directory. The socket name is derived based on the port.\n      This is the preferred method for configuring sockets and it takes precedence over the hostname.\n      If you are connecting to a socket outside of the Postgres convention, use "),a("span",{staticClass:"code"},[t._v(":socket")]),t._v(" instead.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Socket"}},[a("el-input",{attrs:{value:t.pleromaRepo.socket},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","socket")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Connect to Postgres via UNIX sockets in the given path. This option takes precedence over the\n      "),a("span",{staticClass:"code"},[t._v(":hostname")]),t._v(" and "),a("span",{staticClass:"code"},[t._v(":socket_dir")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Username"}},[a("el-input",{attrs:{value:t.pleromaRepo.username},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","username")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Password"}},[a("el-input",{attrs:{value:t.pleromaRepo.password},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","password")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{attrs:{value:t.pleromaRepo.port},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","port")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Server port (default: 5432)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Database"}},[a("el-input",{attrs:{value:t.pleromaRepo.database},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","database")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The database to connect to")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Maintenance database"}},[a("el-input",{attrs:{value:t.pleromaRepo.maintenance_database},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","maintenance_database")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v('Specifies the name of the database to connect to when creating or dropping the database. Defaults to "postgres"')])],1),t._v(" "),a("el-form-item",{attrs:{label:"Pool"}},[a("el-input",{attrs:{value:t.pleromaRepo.pool},on:{input:function(e){return t.updateSetting(e,"Pleroma.Repo","pool")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The connection pool module, defaults to "),a("span",{staticClass:"code"},[t._v("DBConnection.ConnectionPool")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"SSL"}},[a("el-switch",{attrs:{value:t.pleromaRepo.ssl},on:{change:function(e){return t.updateSetting(e,"Pleroma.Repo","ssl")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Set to true if ssl should be used")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Connect timeout"}},[a("el-input-number",{attrs:{value:t.pleromaRepo.connect_timeout,step:1e3,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"Pleroma.Repo","connect_timeout")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The timeout for establishing new connections. Defaults to 5000")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Prepare"}},[a("el-select",{attrs:{value:t.pleromaRepo.prepare},on:{change:function(e){return t.updateSetting(e,"Pleroma.Repo","prepare")}}},[a("el-option",{attrs:{label:"named",value:":named"}}),t._v(" "),a("el-option",{attrs:{label:"unnamed",value:":unnamed"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("How to prepare queries, either "),a("span",{staticClass:"code"},[t._v(":named")]),t._v(" to use named queries or\n      "),a("span",{staticClass:"code"},[t._v(":unnamed")]),t._v(" to force unnamed queries (default: :named)")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));S.options.__file="Database.vue";var x=S.exports,k={federationPublisherModulesOptions:[{label:"Pleroma.Web.ActivityPub.Publisher",value:"Pleroma.Web.ActivityPub.Publisher"},{label:"Pleroma.Web.Websub",value:"Pleroma.Web.Websub"},{label:"Pleroma.Web.Salmon",value:"Pleroma.Web.Salmon"}],rewritePolicyOptions:[{label:"NoOpPolicy",value:"Pleroma.Web.ActivityPub.MRF.NoOpPolicy",expl:"NoOpPolicy: Doesn’t modify activities (default)"},{label:"DropPolicy",value:"Pleroma.Web.ActivityPub.MRF.DropPolicy",expl:"DropPolicy: Drops all activities. It generally doesn’t makes sense to use in production"},{label:"SimplePolicy",value:"Pleroma.Web.ActivityPub.MRF.SimplePolicy",expl:"SimplePolicy: Restrict the visibility of activities from certains instances (See :mrf_simple section)"},{label:"TagPolicy",value:"Pleroma.Web.ActivityPub.MRF.TagPolicy",expl:"Applies policies to individual users based on tags, which can be set using pleroma-fe/admin-fe/any other app that supports Pleroma Admin API. For example it allows marking posts from individual users nsfw (sensitive)"},{label:"SubchainPolicy",value:"Pleroma.Web.ActivityPub.MRF.SubchainPolicy",expl:"Selectively runs other MRF policies when messages match (see :mrf_subchain section)"},{label:"RejectNonPublic",value:"Pleroma.Web.ActivityPub.MRF.RejectNonPublic",expl:"RejectNonPublic: Drops posts with non-public visibility settings (See :mrf_rejectnonpublic section)"},{label:"EnsureRePrepended",value:"Pleroma.Web.ActivityPub.MRF.EnsureRePrepended",expl:"EnsureRePrepended: Rewrites posts to ensure that replies to posts with subjects do not have an identical subject and instead begin with re:"},{label:"AntiLinkSpamPolicy",value:"Pleroma.Web.ActivityPub.MRF.AntiLinkSpamPolicy",expl:"Rejects posts from likely spambots by rejecting posts from new users that contain links"},{label:"MediaProxyWarmingPolicy",value:"Pleroma.Web.ActivityPub.MRF.MediaProxyWarmingPolicy",expl:"Crawls attachments using their MediaProxy URLs so that the MediaProxy cache is primed"},{label:"MentionPolicy",value:"Pleroma.Web.ActivityPub.MRF.MentionPolicy",expl:"Drops posts mentioning configurable users. (see :mrf_mention section)"}],quarantinedInstancesOptions:[],autofollowedNicknamesOptions:[],uriSchemesOptions:[{label:"https",value:"https"},{label:"http",value:"http"},{label:"dat",value:"dat"},{label:"dweb",value:"dweb"},{label:"gopher",value:"gopher"},{label:"ipfs",value:"ipfs"},{label:"ipns",value:"ipns"},{label:"irc",value:"irc"},{label:"ircs",value:"ircs"},{label:"magnet",value:"magnet"},{label:"mailto",value:"mailto"},{label:"mumble",value:"mumble"},{label:"ssb",value:"ssb"},{label:"xmpp",value:"xmpp"}],themeOptions:[{label:"pleroma-dark",value:"pleroma-dark"},{label:"pleroma-light",value:"pleroma-light"},{label:"classic-dark",value:"classic-dark"},{label:"bird",value:"bird"},{label:"ir-black",value:"ir-black"},{label:"monokai",value:"monokai"},{label:"mammal",value:"mammal"},{label:"redmond-xx",value:"redmond-xx"},{label:"redmond-xx-se",value:"redmond-xx-se"},{label:"redmond-xxi",value:"redmond-xxi"},{label:"breezy-dark",value:"breezy-dark"},{label:"breezy-light",value:"breezy-light"}],instrumentersOptions:[{label:"Pleroma.Web.Endpoint.Instrumenter",value:"Pleroma.Web.Endpoint.Instrumenter"}],extraCookieAttrsOptions:[{label:"SameSite=Lax",value:"SameSite=Lax"}],hackneyPoolsOptions:[{label:"Federation",value:":federation",max_connections:50,timeout:15e4},{label:"Media",value:":media",max_connections:50,timeout:15e4},{label:"Upload",value:":upload",max_connections:25,timeout:3e5}],whitelistedContentTypesOptions:[{label:"image/gif",value:"image/gif"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/jpg",value:"image/jpg"},{label:"image/png",value:"image/png"},{label:"image/svg+xml",value:"image/svg+xml"},{label:"audio/mpeg",value:"audio/mpeg"},{label:"audio/mp3",value:"audio/mp3"},{label:"video/webm",value:"video/webm"},{label:"video/mp4",value:"video/mp4"},{label:"video/quicktime",value:"video/quicktime"}],mogrifyActionsOptions:[{label:"strip",value:"strip"},{label:"auto-orient",value:"auto-orient"}],adapterOptions:[{label:"Swoosh.Adapters.Sendmail",value:"Swoosh.Adapters.Sendmail"},{label:"Swoosh.Adapters.SMTP",value:"Swoosh.Adapters.SMTP"},{label:"Swoosh.Adapters.Sendgrid",value:"Swoosh.Adapters.Sendgrid"},{label:"Swoosh.Adapters.Mandrill",value:"Swoosh.Adapters.Mandrill"},{label:"Swoosh.Adapters.Mailgun",value:"Swoosh.Adapters.Mailgun"},{label:"Swoosh.Adapters.Mailjet",value:"Swoosh.Adapters.Mailjet"},{label:"Swoosh.Adapters.Postmark",value:"Swoosh.Adapters.Postmark"},{label:"Swoosh.Adapters.SparkPost",value:"Swoosh.Adapters.SparkPost"},{label:"Swoosh.Adapters.AmazonSES",value:"Swoosh.Adapters.AmazonSES"},{label:"Swoosh.Adapters.Dyn",value:"Swoosh.Adapters.Dyn"},{label:"Swoosh.Adapters.SocketLabs",value:"Swoosh.Adapters.SocketLabs"},{label:"Swoosh.Adapters.Gmail",value:"Swoosh.Adapters.Gmail"},{label:"Swoosh.Adapters.Local",value:"Swoosh.Adapters.Local"}],loggerBackendsOptions:[{label:"Console // log to stdout",value:JSON.stringify(":console")},{label:"Ex_syslogger // log to syslog",value:JSON.stringify({tuple:["ExSyslogger",":ex_syslogger"]})},{label:"Quack.Logger // log to Slack",value:JSON.stringify("Quack.Logger")}],restrictedNicknamesOptions:[{value:".well-known"},{value:"~"},{value:"about"},{value:"activities"},{value:"api"},{value:"auth"},{value:"check_password"},{value:"dev"},{value:"friend-requests"},{value:"inbox"},{value:"internal"},{value:"main"},{value:"media"},{value:"nodeinfo"},{value:"notice"},{value:"oauth"},{value:"objects"},{value:"ostatus_subscribe"},{value:"pleroma"},{value:"proxy"},{value:"push"},{value:"registration"},{value:"relay"},{value:"settings"},{value:"status"},{value:"tag"},{value:"user-search"},{value:"user_exists"},{value:"users"},{value:"web"}]},A=a("fJ7X"),P=a.n(A),U=(a("nBvS"),a("Lrpg"),{name:"Endpoint",components:{editor:P.a},computed:l()({},Object(r.b)(["endpointConfig"]),{editorContentHttp:{get:function(){return this.endpointConfig.http.dispatch?this.endpointConfig.http.dispatch[0]:""},set:function(t){this.processNestedData([t],"Pleroma.Web.Endpoint","http","dispatch")}},editorContentHttps:{get:function(){return this.endpointConfig.https.dispatch?this.endpointConfig.https.dispatch[0]:""},set:function(t){this.processNestedData([t],"Pleroma.Web.Endpoint","https","dispatch")}},configureHttp:function(){return!1==!this.endpoint.http},configureHttps:function(){return!1==!this.endpoint.https},endpoint:function(){return this.endpointConfig},endpointHttp:function(){return this.endpoint.http||{}},endpointHttps:function(){return this.endpoint.https||{}},extraCookieAttrsOptions:function(){return k.extraCookieAttrsOptions},instrumentersOptions:function(){return k.instrumentersOptions},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"},loading:function(){return this.$store.state.settings.loading}}),methods:{processNestedData:function(t,e,a,i){var n=l()({},this.$store.state.settings.settings[e][a],s()({},i,t));this.updateSetting(n,e,a)},showServerConfig:function(t,e){t?this.updateSetting({},"Pleroma.Web.Endpoint",e):this.updateSetting(t,"Pleroma.Web.Endpoint",e)},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}}),L=(a("NyLv"),Object(c.a)(U,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?t._e():a("el-form",{ref:"endpoint",attrs:{model:t.endpoint,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Instrumenters"}},[a("el-select",{attrs:{value:t.endpoint.instrumenters||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","instrumenters")}}},t._l(t.instrumentersOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Compile-time configuration:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Code reloader"}},[a("el-switch",{attrs:{value:t.endpoint.code_reloader},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","code_reloader")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enables code reloading functionality")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Debug errors"}},[a("el-switch",{attrs:{value:t.endpoint.debug_errors},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","debug_errors")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enables using "),a("span",{staticClass:"code"},[t._v("Plug.Debugger")]),t._v(" functionality for debugging failures in the application.\n    Recommended to be set to true only in development as it allows listing of the application source code during debugging. Defaults to false.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Render errors:"}}),t._v(" "),a("el-form-item",{attrs:{label:"View"}},[a("el-input",{attrs:{value:t.endpoint.render_errors.view},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","render_errors","view")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Accepts"}},[a("el-input",{attrs:{value:t.endpoint.render_errors.accepts},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","render_errors","accepts")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Layout"}},[a("el-switch",{attrs:{value:t.endpoint.render_errors.layout},on:{change:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","render_errors","layout")}}})],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Runtime configuration:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Cache static manifest"}},[a("el-input",{attrs:{value:t.endpoint.cache_static_manifest},on:{input:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","cache_static_manifest")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("A path to a json manifest file that contains static files and their digested version.\n    This is typically set to "),a("span",{staticClass:"code"},[t._v("'priv/static/cache_manifest.json'")]),t._v("\n      which is the file automatically generated by "),a("span",{staticClass:"code"},[t._v("mix phx.digest")])])],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"HTTP:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Configure HTTP server"}},[a("el-switch",{attrs:{value:t.configureHttp},on:{change:function(e){return t.showServerConfig(e,"http")}}})],1),t._v(" "),t.configureHttp?a("div",[a("el-form-item",{attrs:{label:"Dispatch"}},[a("editor",{attrs:{height:"150",width:"100%",lang:"elixir",theme:"chrome"},model:{value:t.editorContentHttp,callback:function(e){t.editorContentHttp=e},expression:"editorContentHttp"}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("You can type in Elixir code here")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{attrs:{value:t.endpointHttp.port},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","http","port")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The port to run the server. Defaults to 4000 (http) and 4040 (https).")])],1),t._v(" "),a("el-form-item",{attrs:{label:"IP"}},[a("el-input",{attrs:{value:t.endpointHttp.ip,placeholder:"xxx.xxx.xxx.xx"},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","http","ip")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The ip to bind the server to")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Reference name"}},[a("el-input",{attrs:{value:t.endpointHttp.ref},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","http","ref")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The reference name to be used. Defaults to "),a("span",{staticClass:"code"},[t._v("plug.HTTP")]),t._v(" (http) and\n      "),a("span",{staticClass:"code"},[t._v("plug.HTTPS")]),t._v(" (https). This is the value that needs to be given on shutdown.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Compress"}},[a("el-switch",{attrs:{value:t.endpointHttp.compress},on:{change:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","http","compress")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Cowboy will attempt to compress the response body. Defaults to false.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Timeout in s"}},[a("el-input-number",{attrs:{value:t.endpointHttp.timeout/1e3,step:1,min:0,size:"large"},on:{input:function(e){return t.processNestedData(1e3*e,"Pleroma.Web.Endpoint","http","timeout")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Time in s with no requests before Cowboy closes the connection. Defaults to 5 s.")])],1),t._v(" "),a("div",{staticClass:"line"})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"HTTPS:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Configure HTTPS server"}},[a("el-switch",{attrs:{value:t.configureHttps},on:{change:function(e){return t.showServerConfig(e,"https")}}})],1),t._v(" "),t.configureHttps?a("div",[a("el-form-item",{attrs:{label:"Dispatch"}},[a("editor",{attrs:{height:"150",width:"100%",lang:"elixir",theme:"chrome"},model:{value:t.editorContentHttps,callback:function(e){t.editorContentHttps=e},expression:"editorContentHttps"}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("You can type in Elixir code here")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{attrs:{value:t.endpointHttps.port},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","https","port")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The port to run the server. Defaults to 4000 (http) and 4040 (https).")])],1),t._v(" "),a("el-form-item",{attrs:{label:"IP"}},[a("el-input",{attrs:{value:t.endpointHttps.ip,placeholder:"xxx.xxx.xxx.xx"},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","https","ip")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The ip to bind the server to")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Reference name"}},[a("el-input",{attrs:{value:t.endpointHttps.ref},on:{input:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","https","ref")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The reference name to be used. Defaults to "),a("span",{staticClass:"code"},[t._v("plug.HTTP")]),t._v(" (http) and\n      "),a("span",{staticClass:"code"},[t._v("plug.HTTPS")]),t._v(" (https). This is the value that needs to be given on shutdown.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Compress"}},[a("el-switch",{attrs:{value:t.endpointHttps.compress},on:{change:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","https","compress")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Cowboy will attempt to compress the response body. Defaults to false.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Timeout in s"}},[a("el-input-number",{attrs:{value:t.endpointHttps.timeout/1e3,step:1,min:0,size:"large"},on:{input:function(e){return t.processNestedData(1e3*e,"Pleroma.Web.Endpoint","https","timeout")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Time in s with no requests before Cowboy closes the connection. Defaults to 5 s.")])],1),t._v(" "),a("div",{staticClass:"line"})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Secret key base"}},[a("el-input",{attrs:{value:t.endpoint.secret_key_base},on:{input:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","secret_key_base")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("A secret key used as a base to generate secrets for encrypting and signing data. For example, cookies and tokens are signed by default, but they may also be encrypted if desired. Defaults to nil as it must be set per application")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Server"}},[a("el-switch",{attrs:{value:t.endpoint.server},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","server")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("When true, starts the web server when the endpoint supervision tree starts. Defaults to false. The "),a("span",{staticClass:"code"},[t._v("mix phx.server")]),t._v(" task automatically sets this to true.")])],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"URL:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Host"}},[a("el-input",{attrs:{value:t.endpoint.url.host},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","url","host")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The host without the scheme and a post (e.g "),a("span",{staticClass:"code"},[t._v("example.com")]),t._v(", not "),a("span",{staticClass:"code"},[t._v("https://example.com:2020")]),t._v(")")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Scheme"}},[a("el-input",{attrs:{value:t.endpoint.url.scheme},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","url","scheme")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("e.g http, https")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{attrs:{value:t.endpoint.url.port},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","url","port")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Path"}},[a("el-input",{attrs:{value:t.endpoint.url.path},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","url","path")}}})],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Protocol"}},[a("el-input",{attrs:{value:t.endpoint.protocol},on:{input:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","protocol")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Signing salt"}},[a("el-input",{attrs:{value:t.endpoint.signing_salt},on:{input:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","signing_salt")}}})],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"PubSub:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{value:t.endpoint.pubsub.name},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","pubsub","name")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Adapter"}},[a("el-input",{attrs:{value:t.endpoint.pubsub.adapter},on:{input:function(e){return t.processNestedData(e,"Pleroma.Web.Endpoint","pubsub","adapter")}}})],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Secure cookie flag"}},[a("el-switch",{attrs:{value:t.endpoint.secure_cookie_flag},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","secure_cookie_flag")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Extra cookie attrs"}},[a("el-select",{attrs:{value:t.endpoint.extra_cookie_attrs||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Endpoint","extra_cookie_attrs")}}},t._l(t.extraCookieAttrsOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{staticClass:"options-paragraph-container"},[a("p",{staticClass:"options-paragraph"},[t._v("Only common options are listed here. You can add more (all configuration options can be viewed\n      "),a("a",{attrs:{href:"https://hexdocs.pm/phoenix/Phoenix.Endpoint.html#module-dynamic-configuration",rel:"nofollow noreferrer noopener",target:"_blank"}},[t._v("here")]),t._v(")\n    ")])]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)},[],!1,null,null,null));L.options.__file="Endpoint.vue";var R=L.exports,M={name:"Instance",computed:l()({},Object(r.b)(["enabledConfig","handlerConfig","passwordAuthenticatorConfig","portConfig","privDirConfig"]),{enabled:function(){return this.enabledConfig},handler:function(){return this.handlerConfig},passwordAuthenticator:function(){return this.passwordAuthenticatorConfig},port:function(){return this.portConfig},privDir:function(){return this.privDirConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{toggleEsshd:function(t){this.$store.dispatch("ToggleEsshd",t)},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},T=(a("FCne"),Object(c.a)(M,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{"label-width":t.labelWidth}},[a("el-form-item",[a("p",{staticClass:"expl"},[t._v("Before enabling this you must:\n        "),a("ol",{staticClass:"esshd-list"},[a("li",[t._v("Add "),a("span",{staticClass:"code"},[t._v(":esshd")]),t._v(" to "),a("span",{staticClass:"code"},[t._v("mix.exs")]),t._v(" as one of the\n            "),a("span",{staticClass:"code"},[t._v("extra_applications")])]),t._v(" "),a("li",[t._v("Generate host keys in your\n            "),a("span",{staticClass:"code"},[t._v("priv")]),t._v(" dir with\n            "),a("span",{staticClass:"code"},[t._v('ssh-keygen -m PEM -N "" -b 2048 -t rsa -f ssh_host_rsa_key')])])])])])],1),t._v(" "),a("el-form",{ref:"enabled",attrs:{model:t.enabled,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.enabled.value},on:{change:function(e){return t.updateSetting(e,"enabled","value")}}})],1)],1),t._v(" "),a("el-form",{ref:"privDir",attrs:{model:t.privDir,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Priv dir"}},[a("el-input",{attrs:{value:t.privDir.value},on:{input:function(e){return t.updateSetting(e,"priv_dir","value")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("You can input relative path here")])],1)],1),t._v(" "),a("el-form",{ref:"handler",attrs:{model:t.handler,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Handler"}},[a("el-input",{attrs:{value:t.handler.value},on:{input:function(e){return t.updateSetting(e,"handler","value")}}})],1)],1),t._v(" "),a("el-form",{ref:"port",attrs:{model:t.port,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{attrs:{value:t.port.value},on:{input:function(e){return t.updateSetting(e,"port","value")}}})],1)],1),t._v(" "),a("el-form",{ref:"passwordAuthenticator",attrs:{model:t.passwordAuthenticator,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Password authenticator"}},[a("el-input",{attrs:{value:t.passwordAuthenticator.value},on:{input:function(e){return t.updateSetting(e,"password_authenticator","value")}}})],1),t._v(" "),a("el-form-item",[a("p",{staticClass:"expl"},[t._v("Feel free to adjust the priv_dir and port number.\n      Then you will have to create the key for the keys (in the example "),a("span",{staticClass:"code"},[t._v("priv/ssh_keys")]),t._v(") and create the host keys with\n        "),a("span",{staticClass:"code"},[t._v('ssh-keygen -m PEM -N "" -b 2048 -t rsa -f ssh_host_rsa_key')]),t._v(".\n        After restarting, you should be able to connect to your Pleroma instance with "),a("span",{staticClass:"code"},[t._v("ssh username@server -p $PORT")])])]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));T.options.__file="Esshd.vue";var D=T.exports,W={name:"Frontend",computed:l()({},Object(r.b)(["assetsConfig","frontendConfig","emojiConfig","chatConfig","markupConfig"]),{assets:function(){return this.assetsConfig},chat:function(){return this.chatConfig},emoji:function(){return this.emojiConfig},frontend:function(){return this.frontendConfig},groups:function(){var t=this;return Object.keys(this.emojiConfig.groups).map(function(e){return[e,t.emojiConfig.groups[e]]})},markup:function(){return this.markupConfig},mascots:function(){var t=this;return Object.keys(this.assetsConfig.mascots).map(function(e){return[e,t.assetsConfig.mascots[e].url,t.assetsConfig.mascots[e].mime_type]})},themeOptions:function(){return k.themeOptions},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{addRowToGroups:function(){var t=this.groups.reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.updateSetting(l()({},t,{"":[]}),"emoji","groups")},addRowToMascots:function(){var t=this.mascots.reduce(function(t,e,a){return l()({},t,s()({},e[0],{url:e[1],mime_type:e[2]}))},{});this.updateSetting(l()({},t,{"":{url:"",mime_type:""}}),"assets","mascots")},deleteGroupsRow:function(t){var e=this.groups.filter(function(e,a){return t!==a}).reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.updateSetting(e,"emoji","groups")},deleteMascotsRow:function(t){var e=this.mascots.filter(function(e,a){return t!==a}).reduce(function(t,e,a){return l()({},t,s()({},e[0],{url:e[1],mime_type:e[2]}))},{});this.updateSetting(e,"assets","mascots")},parseGroups:function(t,e,a){var i=this.groups.reduce(function(i,n,r){return a===r?"key"===e?l()({},i,s()({},t,n[1])):l()({},i,s()({},n[0],t)):l()({},i,s()({},n[0],n[1]))},{});this.updateSetting(i,"emoji","groups")},parseMascots:function(t,e,a){var i=this.mascots.reduce(function(i,n,r){return a===r?"name"===e?l()({},i,s()({},t,{url:n[1],mime_type:n[2]})):"url"===e?l()({},i,s()({},n[0],{url:t,mime_type:n[2]})):l()({},i,s()({},n[0],{url:n[1],mime_type:t})):l()({},i,s()({},n[0],{url:n[1],mime_type:n[2]}))},{});this.updateSetting(i,"assets","mascots")},processNestedData:function(t,e,a,i){var n=l()({},this.$store.state.settings.settings[e][a],s()({},i,t));this.updateSetting(n,e,a)},sendBackgroundMasto:function(t){var e=t.file;this.$store.dispatch("UploadMedia",{file:e,tab:"frontend_configurations",inputName:"masto_fe",childName:"background"})},sendBackgroundPleroma:function(t){var e=t.file;this.$store.dispatch("UploadMedia",{file:e,tab:"frontend_configurations",inputName:"pleroma_fe",childName:"background"})},sendLogoMasto:function(t){var e=t.file;this.$store.dispatch("UploadMedia",{file:e,tab:"frontend_configurations",inputName:"masto_fe",childName:"logo"})},sendLogoPleroma:function(t){var e=t.file;this.$store.dispatch("UploadMedia",{file:e,tab:"frontend_configurations",inputName:"pleroma_fe",childName:"logo"})},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},E=(a("hVXW"),Object(c.a)(W,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"frontend",attrs:{model:t.frontend,"label-width":t.labelWidth}},[a("el-form-item",[a("p",{staticClass:"expl"},[t._v("This form can be used to configure a keyword list that keeps the configuration data for any kind of frontend.\n      By default, settings for "),a("span",{staticClass:"code"},[t._v("pleroma_fe")]),t._v(" and "),a("span",{staticClass:"code"},[t._v("masto_fe")]),t._v(" are configured.\n      If you want to add your own configuration your settings need to be complete as they will override the defaults.")])]),t._v(" "),a("el-form-item",{attrs:{label:"Pleroma FE:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Theme"}},[a("el-select",{attrs:{value:t.frontend.pleroma_fe.theme},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","theme")}}},t._l(t.themeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Which theme to use")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Background"}},[a("el-input",{attrs:{value:t.frontend.pleroma_fe.background},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","background")}}}),t._v(" "),a("div",{staticClass:"upload-container"},[a("p",{staticClass:"text"},[t._v("or")]),t._v(" "),a("el-upload",{attrs:{"http-request":t.sendBackgroundPleroma,multiple:!1,"show-file-list":!1,action:"/api/v1/media"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Click to upload")])],1)],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("URL of the background, unless viewing a user profile with a background that is set")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Logo"}},[a("el-input",{attrs:{value:t.frontend.pleroma_fe.logo},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","logo")}}}),t._v(" "),a("div",{staticClass:"upload-container"},[a("p",{staticClass:"text"},[t._v("or")]),t._v(" "),a("el-upload",{attrs:{"http-request":t.sendLogoPleroma,multiple:!1,"show-file-list":!1,action:"/api/v1/media"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Click to upload")])],1)],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("URL of the logo")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Logo mask"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.logoMask},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","logoMask")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether to use only the logo's shape as a mask (true) or as a regular image (false)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Logo margin (em)"}},[a("el-input-number",{attrs:{value:t.frontend.pleroma_fe.logoMargin,step:.1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","logoMargin")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("What margin to use around the logo")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Redirect URL"}},[a("el-input",{attrs:{value:t.frontend.pleroma_fe.redirectRootNoLogin},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","redirectRootNoLogin")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Relative URL which indicates where to redirect when a user is logged in")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Redirect for anonymous user"}},[a("el-input",{attrs:{value:t.frontend.pleroma_fe.redirectRootLogin},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","redirectRootLogin")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Relative URL which indicates where to redirect when a user isn’t logged in")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Show instance panel"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.showInstanceSpecificPanel},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","showInstanceSpecificPanel")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whenether to show the instance’s specific panel")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Scope options enabled"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.scopeOptionsEnabled},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","scopeOptionsEnabled")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Formatting options enabled"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.formattingOptionsEnabled},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","formattingOptionsEnabled")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Collapse msg with subject"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.collapseMessageWithSubject},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","collapseMessageWithSubject")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("When a message has a subject (aka Content Warning), collapse it by default")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Scope copy"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.scopeCopy},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","scopeCopy")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Copy the scope "),a("span",{staticClass:"code"},[t._v("(private/unlisted/public)")]),t._v(" in replies to posts by default")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Subject line behavior"}},[a("el-select",{attrs:{value:t.frontend.pleroma_fe.subjectLineBehavior},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","subjectLineBehavior")}}},[a("el-option",{attrs:{label:"Email",value:"email"}},[t._v("Email / Copy and preprend re:, as in email")]),t._v(" "),a("el-option",{attrs:{label:"Masto",value:"masto"}},[t._v("Masto / Copy verbatim, as in Mastodon")]),t._v(" "),a("el-option",{attrs:{label:"Noop",value:"noop"}},[t._v("Noop / Don't copy the subject")])],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Allows changing the default behaviour of subject lines in replies")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Post content type"}},[a("el-input",{attrs:{value:t.frontend.pleroma_fe.postContentType},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","postContentType")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Always show subject input"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.alwaysShowSubjectInput},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","alwaysShowSubjectInput")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("When set to false, auto-hide the subject field when it's empty")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Hide post statistics"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.hidePostStats},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","hidePostStats")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Hide notices statistics(repeats, favorites, …)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Hide user statistics"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.hideUserStats},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","hideUserStats")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Hide profile statistics(posts, posts per day, followers, followings, …)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Login method"}},[a("el-input",{attrs:{value:t.frontend.pleroma_fe.loginMethod},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","loginMethod")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Web push notifications"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.webPushNotifications},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","webPushNotifications")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"No attachment links"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.noAttachmentLinks},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","noAttachmentLinks")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"NSFW Censor image"}},[a("el-input",{attrs:{value:t.frontend.pleroma_fe.nsfwCensorImage},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","nsfwCensorImage")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Show features panel"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.showFeaturesPanel},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","showFeaturesPanel")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Minimal scopes mode"}},[a("el-switch",{attrs:{value:t.frontend.pleroma_fe.minimalScopesMode},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","pleroma_fe","minimalScopesMode")}}})],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Masto FE:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Theme"}},[a("el-select",{attrs:{value:t.frontend.masto_fe.theme},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","theme")}}},t._l(t.themeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Which theme to use")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Background"}},[a("el-input",{attrs:{value:t.frontend.masto_fe.background},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","background")}}}),t._v(" "),a("div",{staticClass:"upload-container"},[a("p",{staticClass:"text"},[t._v("or")]),t._v(" "),a("el-upload",{attrs:{"http-request":t.sendBackgroundMasto,multiple:!1,"show-file-list":!1,action:"/api/v1/media"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Click to upload")])],1)],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("URL of the background, unless viewing a user profile with a background that is set")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Logo"}},[a("el-input",{attrs:{value:t.frontend.masto_fe.logo},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","logo")}}}),t._v(" "),a("div",{staticClass:"upload-container"},[a("p",{staticClass:"text"},[t._v("or")]),t._v(" "),a("el-upload",{attrs:{"http-request":t.sendLogoMasto,multiple:!1,"show-file-list":!1,action:"/api/v1/media"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Click to upload")])],1)],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("URL of the logo")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Logo mask"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.logoMask},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","logoMask")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether to use only the logo's shape as a mask (true) or as a regular image (false)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Logo margin (em)"}},[a("el-input-number",{attrs:{value:t.frontend.masto_fe.logoMargin,step:.1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","logoMargin")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("What margin to use around the logo")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Redirect URL"}},[a("el-input",{attrs:{value:t.frontend.masto_fe.redirectRootNoLogin},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","redirectRootNoLogin")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Relative URL which indicates where to redirect when a user is logged in")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Redirect for anonymous user"}},[a("el-input",{attrs:{value:t.frontend.masto_fe.redirectRootLogin},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","redirectRootLogin")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Relative URL which indicates where to redirect when a user isn’t logged in")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Show instance panel"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.showInstanceSpecificPanel},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","showInstanceSpecificPanel")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whenether to show the instance’s specific panel")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Scope options enabled"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.scopeOptionsEnabled},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","scopeOptionsEnabled")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Formatting options enabled"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.formattingOptionsEnabled},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","formattingOptionsEnabled")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Collapse msg with subjects"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.collapseMessageWithSubject},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","collapseMessageWithSubject")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("When a message has a subject (aka Content Warning), collapse it by default")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Scope copy"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.scopeCopy},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","scopeCopy")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Copy the scope "),a("span",{staticClass:"code"},[t._v("(private/unlisted/public)")]),t._v(" in replies to posts by default")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Subject line behavior"}},[a("el-select",{attrs:{value:t.frontend.masto_fe.subjectLineBehavior},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","subjectLineBehavior")}}},[a("el-option",{attrs:{label:"Email",value:"email"}},[t._v("Email / Copy and preprend re:, as in email")]),t._v(" "),a("el-option",{attrs:{label:"Masto",value:"masto"}},[t._v("Masto / Copy verbatim, as in Mastodon")]),t._v(" "),a("el-option",{attrs:{label:"Noop",value:"noop"}},[t._v("Noop / Don't copy the subject")])],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Allows changing the default behaviour of subject lines in replies")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Post content type"}},[a("el-input",{attrs:{value:t.frontend.masto_fe.postContentType},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","postContentType")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Always show subject input"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.alwaysShowSubjectInput},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","alwaysShowSubjectInput")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("When set to false, auto-hide the subject field when it's empty")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Hide post statistics"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.hidePostStats},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","hidePostStats")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Hide notices statistics(repeats, favorites, …)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Hide user statistics"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.hideUserStats},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","hideUserStats")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Hide profile statistics(posts, posts per day, followers, followings, …)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Login method"}},[a("el-input",{attrs:{value:t.frontend.masto_fe.loginMethod},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","loginMethod")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Web push notifications"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.webPushNotifications},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","webPushNotifications")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"No attachment links"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.noAttachmentLinks},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","noAttachmentLinks")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"NSFW Censor image"}},[a("el-input",{attrs:{value:t.frontend.masto_fe.nsfwCensorImage},on:{input:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","nsfwCensorImage")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Show features panel"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.showFeaturesPanel},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","showFeaturesPanel")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Minimal scopes mode"}},[a("el-switch",{attrs:{value:t.frontend.masto_fe.minimalScopesMode},on:{change:function(e){return t.processNestedData(e,"frontend_configurations","masto_fe","minimalScopesMode")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"assets",attrs:{model:t.assets,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Assets:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Default mascot"}},[a("el-select",{attrs:{value:t.assets.default_mascot},on:{change:function(e){return t.updateSetting(e,"assets","default_mascot")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("An element from mascots - This will be used as the default mascot on MastoFE\n      (default: "),a("span",{staticClass:"code"},[t._v(":pleroma_fox_tan")]),t._v(")")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Mascots"}},[t._l(t.mascots,function(e,i){var s=e[0],n=e[1],l=e[2];return a("div",{key:i,staticClass:"mascot-container"},[a("div",{staticClass:"mascot-name-container"},[a("el-input",{staticClass:"mascot-name-input",attrs:{value:s,placeholder:"Name"},on:{input:function(e){return t.parseMascots(e,"name",i)}}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteMascotsRow(i,"emoji","groups")}}})],1),t._v(" "),a("el-input",{staticClass:"mascot-input",attrs:{value:n,placeholder:"URL"},on:{input:function(e){return t.parseMascots(e,"url",i)}}}),t._v(" "),a("el-input",{staticClass:"mascot-input",attrs:{value:l,placeholder:"Mime type"},on:{input:function(e){return t.parseMascots(e,"mimeType",i)}}})],1)}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:t.addRowToMascots}})],2)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"emoji",attrs:{model:t.emoji,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Emoji:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Location of emoji files"}},[a("el-select",{attrs:{value:t.emoji.shortcode_globs||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"emoji","shortcode_globs")}}},[a("el-option",{attrs:{label:"/emoji/custom/**/*.png",value:"/emoji/custom/**/*.png"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Location of custom emoji files. "),a("span",{staticClass:"code"},[t._v("*")]),t._v(" can be used as a wildcard.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Pack extensions"}},[a("el-select",{attrs:{value:t.emoji.pack_extensions||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"emoji","pack_extensions")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("A list of file extensions for emojis, when no "),a("span",{staticClass:"code"},[t._v("emoji.txt")]),t._v(" for a pack is present. ")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Group"}},[t._l(t.groups,function(e,i){var s=e[0],n=e[1];return a("div",{key:i,staticClass:"setting-input"},[a("el-input",{staticClass:"name-input",attrs:{value:s,placeholder:"key"},on:{input:function(e){return t.parseGroups(e,"key",i)}}}),t._v(" :\n        "),a("el-select",{staticClass:"value-input",attrs:{value:n,multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.parseGroups(e,"value",i)}}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteGroupsRow(i)}}})],1)}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:t.addRowToGroups}})],2),t._v(" "),a("el-form-item",{attrs:{label:"Location of JSON-manifest"}},[a("el-input",{attrs:{value:t.emoji.default_manifest},on:{input:function(e){return t.updateSetting(e,"emoji","default_manifest")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Location of the JSON-manifest. This manifest contains information about the emoji-packs you can download. Currently only one manifest can be added (no arrays).")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"chat",attrs:{model:t.chat,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Chat enabled"}},[a("el-switch",{attrs:{value:t.chat.enabled},on:{input:function(e){return t.updateSetting(e,"chat","enabled")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"markup",attrs:{model:t.markup,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Markup settings:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Allow inline images"}},[a("el-switch",{attrs:{value:t.markup.allow_inline_images},on:{input:function(e){return t.updateSetting(e,"markup","allow_inline_images")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Allow headings"}},[a("el-switch",{attrs:{value:t.markup.allow_headings},on:{input:function(e){return t.updateSetting(e,"markup","allow_headings")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Allow tables"}},[a("el-switch",{attrs:{value:t.markup.allow_tables},on:{input:function(e){return t.updateSetting(e,"markup","allow_tables")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Allow fonts"}},[a("el-switch",{attrs:{value:t.markup.allow_fonts},on:{input:function(e){return t.updateSetting(e,"markup","allow_fonts")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Scrub policy"}},[a("el-select",{attrs:{value:t.markup.scrub_policy||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"markup","scrub_policy")}}},[a("el-option",{attrs:{label:"Pleroma.HTML.Transform.MediaProxy",value:"Pleroma.HTML.Transform.MediaProxy"}}),t._v(" "),a("el-option",{attrs:{label:"Pleroma.HTML.Scrubber.Default",value:"Pleroma.HTML.Scrubber.Default"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));E.options.__file="Frontend.vue";var N=E.exports,O={name:"Gopher",computed:l()({},Object(r.b)(["gopherConfig"]),{gopher:function(){return this.gopherConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},j=(a("w5cJ"),Object(c.a)(O,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"gopher",attrs:{model:t.gopher,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.gopher.enabled},on:{change:function(e){return t.updateSetting(e,"gopher","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enables the gopher interface")])],1),t._v(" "),a("el-form-item",{attrs:{label:"IP address"}},[a("el-input",{attrs:{value:t.gopher.ip,placeholder:"xxx.xxx.xxx.xx"},on:{input:function(e){return t.updateSetting(e,"gopher","ip")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enables the gopher interface")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{attrs:{value:t.gopher.port},on:{input:function(e){return t.updateSetting(e,"gopher","port")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Port to bind to")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Dst port"}},[a("el-input",{attrs:{value:t.gopher.dstport},on:{input:function(e){return t.updateSetting(e,"gopher","dstport")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Port advertised in urls (optional, defaults to port)")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)},[],!1,null,null,null));j.options.__file="Gopher.vue";var I=j.exports,$={name:"HTTP",computed:l()({},Object(r.b)(["corsPlugCredentials","corsPlugExposeConfig","corsPlugHeaders","corsPlugMaxAge","corsPlugMethods","hackneyPoolsConfig","httpConfig","httpSecurityConfig","metricsExporter"]),{corsPlugExpose:function(){return this.corsPlugExposeConfig},hackneyPools:function(){return this.hackneyPoolsConfig},http:function(){return this.httpConfig},httpSecurity:function(){return this.httpSecurityConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{processNestedData:function(t,e,a,i){var n=l()({},this.$store.state.settings.settings[e][a],s()({},i,t));this.updateSetting(n,e,a)},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},F=(a("KFE3"),Object(c.a)($,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"http",attrs:{model:t.http,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"HTTP settings:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Proxy url"}},[a("el-input",{attrs:{value:t.http.proxy_url},on:{input:function(e){return t.updateSetting(e,"http","proxy_url")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Send user agent"}},[a("el-switch",{attrs:{value:t.http.send_user_agent},on:{change:function(e){return t.updateSetting(e,"http","send_user_agent")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Adapter:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Versions"}},[a("el-select",{attrs:{value:t.http.adapter.versions||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.processNestedData(e,"http","adapter","versions")}}},[a("el-option",{attrs:{value:":tlsv1"}}),t._v(" "),a("el-option",{attrs:{value:":'tlsv1.1'"}}),t._v(" "),a("el-option",{attrs:{value:":'tlsv1.2'"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"corsPlugMaxAge",attrs:{model:t.corsPlugMaxAge,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Cors plug config:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Max age (days)"}},[a("el-input-number",{attrs:{value:t.corsPlugMaxAge.value/86400,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(86400*e,"max_age","value")}}})],1)],1),t._v(" "),a("el-form",{ref:"corsPlugMethods",attrs:{model:t.corsPlugMethods,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Methods"}},[a("el-select",{attrs:{value:t.corsPlugMethods.value||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"methods","value")}}},[a("el-option",{attrs:{value:"POST"}}),t._v(" "),a("el-option",{attrs:{value:"PUT"}}),t._v(" "),a("el-option",{attrs:{value:"DELETE"}}),t._v(" "),a("el-option",{attrs:{value:"GET"}}),t._v(" "),a("el-option",{attrs:{value:"PATCH"}}),t._v(" "),a("el-option",{attrs:{value:"OPTIONS"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"corsPlugExpose",attrs:{model:t.corsPlugExpose,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Expose"}},[a("el-select",{attrs:{value:t.corsPlugExpose.value||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"expose","value")}}},[a("el-option",{attrs:{value:"Link"}}),t._v(" "),a("el-option",{attrs:{value:"X-RateLimit-Reset"}}),t._v(" "),a("el-option",{attrs:{value:"X-RateLimit-Limit"}}),t._v(" "),a("el-option",{attrs:{value:"X-RateLimit-Remaining"}}),t._v(" "),a("el-option",{attrs:{value:"X-Request-Id"}}),t._v(" "),a("el-option",{attrs:{value:"Idempotency-Key"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"corsPlugCredentials",attrs:{model:t.corsPlugCredentials,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Credentials"}},[a("el-switch",{attrs:{value:t.corsPlugCredentials.value},on:{change:function(e){return t.updateSetting(e,"credentials","value")}}})],1)],1),t._v(" "),a("el-form",{ref:"corsPlugHeaders",attrs:{model:t.corsPlugHeaders,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Headers"}},[a("el-select",{attrs:{value:t.corsPlugHeaders.value||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"headers","value")}}},[a("el-option",{attrs:{value:"Authorization"}}),t._v(" "),a("el-option",{attrs:{value:"Content-Type"}}),t._v(" "),a("el-option",{attrs:{value:"Idempotency-Key"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"httpSecurity",attrs:{model:t.httpSecurity,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"HTTP security:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Security policy"}},[a("el-switch",{attrs:{value:t.httpSecurity.enabled},on:{change:function(e){return t.updateSetting(e,"http_security","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether the managed content security policy is enabled")])],1),t._v(" "),a("el-form-item",{attrs:{label:"STS"}},[a("el-switch",{attrs:{value:t.httpSecurity.sts},on:{change:function(e){return t.updateSetting(e,"http_security","sts")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether to additionally send a "),a("span",{staticClass:"code"},[t._v("Strict-Transport-Security header")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"STS max age (days)"}},[a("el-input-number",{attrs:{value:t.httpSecurity.sts_max_age/86400,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(86400*e,"http_security","sts_max_age")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The maximum age for the "),a("span",{staticClass:"code"},[t._v("Strict-Transport-Security")]),t._v(" header if sent")])],1),t._v(" "),a("el-form-item",{attrs:{label:"CT max age (days)"}},[a("el-input-number",{attrs:{value:t.httpSecurity.ct_max_age/86400,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(86400*e,"http_security","ct_max_age")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The maximum age for the "),a("span",{staticClass:"code"},[t._v("Expect-CT")]),t._v(" header if sent")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Referrer policy"}},[a("el-select",{attrs:{value:t.httpSecurity.referrer_policy,placeholder:"Select"},on:{change:function(e){return t.updateSetting(e,"http_security","referrer_policy")}}},[a("el-option",{attrs:{label:"same-origin",value:"same-origin"}}),t._v(" "),a("el-option",{attrs:{label:"no-referrer",value:"no-referrer"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("The referrer policy to use")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Report URI"}},[a("el-input",{attrs:{value:t.httpSecurity.report_uri},on:{input:function(e){return t.updateSetting(e,"http_security","report_uri")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Adds the specified url to "),a("span",{staticClass:"code"},[t._v("report-uri")]),t._v(" and "),a("span",{staticClass:"code"},[t._v("report-to")]),t._v(" group in CSP header")])],1)],1),t._v(" "),a("el-form",{ref:"hackneyPools",attrs:{model:t.hackneyPools,"label-width":t.labelWidth}},[a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Hackney pools:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Federation:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Max connections"}},[a("el-input-number",{attrs:{value:t.hackneyPools.federation.max_connections,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"hackney_pools","federation","max_connections")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("You may want this pool "),a("span",{staticClass:"code"},[t._v("max_connections")]),t._v(" to be at least equal to the number of federator jobs + retry queue jobs.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Timeout (s)"}},[a("el-input-number",{attrs:{value:t.hackneyPools.federation.timeout/1e3,step:10,min:0,size:"large"},on:{change:function(e){return t.processNestedData(1e3*e,"hackney_pools","federation","timeout")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("For the federation jobs")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Media:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Max connections"}},[a("el-input-number",{attrs:{value:t.hackneyPools.media.max_connections,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"hackney_pools","media","max_connections")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Timeout (s)"}},[a("el-input-number",{attrs:{value:t.hackneyPools.media.timeout/1e3,step:10,min:0,size:"large"},on:{change:function(e){return t.processNestedData(1e3*e,"hackney_pools","media","timeout")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("For rich media, media proxy")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Upload:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Max connections"}},[a("el-input-number",{attrs:{value:t.hackneyPools.upload.max_connections,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"hackney_pools","upload","max_connections")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Timeout (s)"}},[a("el-input-number",{attrs:{value:t.hackneyPools.upload.timeout/1e3,step:10,min:0,size:"large"},on:{change:function(e){return t.processNestedData(1e3*e,"hackney_pools","upload","timeout")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("For uploaded media (if using a remote uploader and "),a("span",{staticClass:"code"},[t._v("proxy_remote: true")]),t._v(")")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));F.options.__file="Http.vue";var z=F.exports,H={name:"Instance",computed:l()({},Object(r.b)(["adminTokenConfig","fetchInitialPostsConfig","instanceConfig","pleromaUserConfig","scheduledActivityConfig","suggestionsConfig","uriSchemesConfig"]),{admin_token:function(){return this.adminTokenConfig},autofollowedNicknamesOptions:function(){return k.autofollowedNicknamesOptions},federationPublisherModulesOptions:function(){return k.federationPublisherModulesOptions},fetch_initial_posts:function(){return this.fetchInitialPostsConfig},instance:function(){return this.instanceConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"},pleromaUser:function(){return this.pleromaUserConfig},quarantinedInstancesOptions:function(){return k.quarantinedInstancesOptions},restrictedNicknamesOptions:function(){return k.restrictedNicknamesOptions},rewritePolicy:function(){return"string"==typeof this.instance.rewrite_policy?[this.instance.rewrite_policy]:this.instance.rewrite_policy},rewritePolicyOptions:function(){return k.rewritePolicyOptions},scheduled_activity:function(){return this.scheduledActivityConfig},suggestions:function(){return this.suggestionsConfig},uri_schemes:function(){return this.uriSchemesConfig},uriSchemesOptions:function(){return k.uriSchemesOptions}}),methods:{getRewritePolicyExpl:function(t){return k.rewritePolicyOptions.find(function(e){return e.value===t}).expl},processNestedData:function(t,e,a,i){var n=l()({},this.$store.state.settings.settings[e][a],s()({},i,t));this.updateSetting(n,e,a)},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},q=(a("e0P1"),Object(c.a)(H,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"instance",attrs:{model:t.instance,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{value:t.instance.name},on:{input:function(e){return t.updateSetting(e,"instance","name")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The instance’s name")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{value:t.instance.email},on:{input:function(e){return t.updateSetting(e,"instance","email")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Email used to reach an Administrator/Moderator of the instance")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Notify email"}},[a("el-input",{attrs:{value:t.instance.notify_email},on:{input:function(e){return t.updateSetting(e,"instance","notify_email")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Email used for notifications")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Description"}},[a("el-input",{attrs:{value:t.instance.description},on:{input:function(e){return t.updateSetting(e,"instance","description")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The instance’s description, can be seen in nodeinfo and "),a("span",{staticClass:"code"},[t._v("/api/v1/instance")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Limit"}},[a("el-input-number",{attrs:{value:t.instance.limit,step:1e3,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"instance","limit")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Posts character limit (CW/Subject included in the counter)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Remote limit"}},[a("el-input-number",{attrs:{value:t.instance.remote_limit,step:1e3,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"instance","remote_limit")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Hard character limit beyond which remote posts will be dropped")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Upload limit (MB)"}},[a("el-input-number",{attrs:{value:t.instance.upload_limit/1048576,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(1048576*e,"instance","upload_limit")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("File size limit of uploads (except for avatar, background, banner)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Avatar upload limit (MB)"}},[a("el-input-number",{attrs:{value:t.instance.avatar_upload_limit/1048576,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(1048576*e,"instance","avatar_upload_limit")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("File size limit of user’s profile avatars")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Background upload limit (MB)"}},[a("el-input-number",{attrs:{value:t.instance.background_upload_limit/1048576,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(1048576*e,"instance","background_upload_limit")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("File size limit of user’s profile backgrounds")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Banner upload limit (MB)"}},[a("el-input-number",{attrs:{value:t.instance.banner_upload_limit/1048576,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(1048576*e,"instance","banner_upload_limit")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("File size limit of user’s profile banners")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Poll limits:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Max options"}},[a("el-input-number",{attrs:{value:t.instance.poll_limits.max_options,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"instance","poll_limits","max_options")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Maximum number of options")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max characters per option"}},[a("el-input-number",{attrs:{value:t.instance.poll_limits.max_option_chars,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"instance","poll_limits","max_option_chars")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Maximum number of characters per option")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Minimum expiration (days)"}},[a("el-input-number",{attrs:{value:t.instance.poll_limits.min_expiration,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"instance","poll_limits","min_expiration")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Minimum expiration time")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max expiration (days)"}},[a("el-input-number",{attrs:{value:t.instance.poll_limits.max_expiration/86400,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(86400*e,"instance","poll_limits","max_expiration")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Maximum expiration time")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Registrations open"}},[a("el-switch",{attrs:{value:t.instance.registrations_open},on:{change:function(e){return t.updateSetting(e,"instance","registrations_open")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enable registrations for anyone, invitations can be enabled when false")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Invites enabled"}},[a("el-switch",{attrs:{value:t.instance.invites_enabled},on:{change:function(e){return t.updateSetting(e,"instance","invites_enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enable user invitations for admins (depends on "),a("span",{staticClass:"code"},[t._v("registrations_open: false)")]),t._v(".")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Account activation required"}},[a("el-switch",{attrs:{value:t.instance.account_activation_required},on:{change:function(e){return t.updateSetting(e,"instance","account_activation_required")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Require users to confirm their emails before signing in")])],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Federating"}},[a("el-switch",{attrs:{value:t.instance.federating},on:{change:function(e){return t.updateSetting(e,"instance","federating")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enable federation with other instances")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Fed. replies max depth"}},[a("el-input-number",{attrs:{value:t.instance.federation_incoming_replies_max_depth,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"instance","federation_incoming_replies_max_depth")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Max. depth of reply-to activities fetching on incoming federation, to prevent out-of-memory situations while fetching very long threads. Lower this value if you experience out-of-memory crashes.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Fed. reachability timeout"}},[a("el-input-number",{attrs:{value:t.instance.federation_reachability_timeout_days,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"instance","federation_reachability_timeout_days")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Timeout (in days) of each external federation target being unreachable prior to pausing federating to it")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Federation publisher modules"}},[a("el-select",{attrs:{value:t.instance.federation_publisher_modules||[],multiple:""},on:{change:function(e){return t.updateSetting(e,"instance","federation_publisher_modules")}}},t._l(t.federationPublisherModulesOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Allow relay"}},[a("el-switch",{attrs:{value:t.instance.allow_relay},on:{change:function(e){return t.updateSetting(e,"instance","allow_relay")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enable Pleroma’s Relay, which makes it possible to follow a whole instance")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Rewrite policy"}},[a("el-select",{attrs:{value:t.rewritePolicy||[],multiple:""},on:{change:function(e){return t.updateSetting(e,"instance","rewrite_policy")}}},t._l(t.rewritePolicyOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),t._l(t.rewritePolicy,function(e){return a("p",{key:e,staticClass:"expl"},[t._v(t._s(t.getRewritePolicyExpl(e)))])})],2),t._v(" "),a("el-form-item",{attrs:{label:"Public"}},[a("el-switch",{attrs:{value:t.instance.public},on:{change:function(e){return t.updateSetting(e,"instance","public")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Makes the client API in authentificated mode-only except for user-profiles. Useful for disabling the Local Timeline and The Whole Known Network")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Quarantined instances"}},[a("el-select",{attrs:{value:t.instance.quarantined_instances||[],multiple:"",placeholder:"Select"},on:{change:function(e){return t.updateSetting(e,"instance","quarantined_instances")}}},t._l(t.quarantinedInstancesOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of ActivityPub instances where private (DMs, followers-only) activities will not be send")])],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Managed config"}},[a("el-switch",{attrs:{value:t.instance.managed_config},on:{change:function(e){return t.updateSetting(e,"instance","managed_config")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whenether the config for pleroma-fe is configured in this config or in "),a("span",{staticClass:"code"},[t._v("static/config.json")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Static directory"}},[a("el-input",{attrs:{value:t.instance.static_dir},on:{input:function(e){return t.updateSetting(e,"instance","static_dir")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Allowed post formats"}},[a("el-select",{attrs:{value:t.instance.allowed_post_formats||[],multiple:"",placeholder:"Select"},on:{change:function(e){return t.updateSetting(e,"instance","allowed_post_formats")}}},[a("el-option",{attrs:{label:"text/plain",value:"text/plain"}}),t._v(" "),a("el-option",{attrs:{label:"text/html",value:"text/html"}}),t._v(" "),a("el-option",{attrs:{label:"text/markdown",value:"text/markdown"}}),t._v(" "),a("el-option",{attrs:{label:"text/bbcode",value:"text/bbcode"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("MIME-type list of formats allowed to be posted (transformed into HTML)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"MRF transparency"}},[a("el-switch",{attrs:{value:t.instance.mrf_transparency},on:{change:function(e){return t.updateSetting(e,"instance","mrf_transparency")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Make the content of your Message Rewrite Facility settings public (via nodeinfo)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"MRF transparency exclusions"}},[a("el-select",{attrs:{value:t.instance.mrf_transparency_exclusions||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"instance","mrf_transparency_exclusions")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Scope copy"}},[a("el-switch",{attrs:{value:t.instance.scope_copy},on:{change:function(e){return t.updateSetting(e,"instance","scope_copy")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Copy the scope "),a("span",{staticClass:"code"},[t._v("(private/unlisted/public)")]),t._v(" in replies to posts by default")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Subject line behavior"}},[a("el-select",{attrs:{value:t.instance.subject_line_behavior},on:{change:function(e){return t.updateSetting(e,"instance","subject_line_behavior")}}},[a("el-option",{attrs:{label:"Email",value:"email"}},[t._v("Email / Copy and preprend re:, as in email")]),t._v(" "),a("el-option",{attrs:{label:"Masto",value:"masto"}},[t._v("Masto / Copy verbatim, as in Mastodon")]),t._v(" "),a("el-option",{attrs:{label:"Noop",value:"noop"}},[t._v("Noop / Don't copy the subject")])],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Allows changing the default behaviour of subject lines in replies")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Always show subject input"}},[a("el-switch",{attrs:{value:t.instance.always_show_subject_input},on:{change:function(e){return t.updateSetting(e,"instance","always_show_subject_input")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("When set to false, auto-hide the subject field when it's empty")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Extended nickname format"}},[a("el-switch",{attrs:{value:t.instance.extended_nickname_format},on:{change:function(e){return t.updateSetting(e,"instance","extended_nickname_format")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Set to "),a("span",{staticClass:"code"},[t._v("true")]),t._v(" to use extended local nicknames format (allows underscores/dashes). This will break federation with older software for theses nicknames")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max pinned statuses"}},[a("el-input-number",{attrs:{value:t.instance.max_pinned_statuses,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"instance","max_pinned_statuses")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The maximum number of pinned statuses. '0' will disable the feature")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Autofollowed nicknames"}},[a("el-select",{attrs:{value:t.instance.autofollowed_nicknames||[],multiple:"",placeholder:"Select"},on:{change:function(e){return t.updateSetting(e,"instance","autofollowed_nicknames")}}},t._l(t.autofollowedNicknamesOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Set to nicknames of (local) users that every new user should automatically follow")])],1),t._v(" "),a("el-form-item",{attrs:{label:"No attachment links"}},[a("el-switch",{attrs:{value:t.instance.no_attachment_links},on:{change:function(e){return t.updateSetting(e,"instance","no_attachment_links")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Set to true to disable automatically adding attachment link text to statuses")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Welcome message"}},[a("el-input",{attrs:{value:t.instance.welcome_message},on:{input:function(e){return t.updateSetting(e,"instance","welcome_message")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("A message that will be send to a newly registered users as a direct message")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Welcome user nickname"}},[a("el-input",{attrs:{value:t.instance.welcome_user_nickname},on:{input:function(e){return t.updateSetting(e,"instance","welcome_user_nickname")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The nickname of the local user that sends the welcome message")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max report comment size"}},[a("el-input-number",{attrs:{value:t.instance.max_report_comment_size,step:100,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"instance","max_report_comment_size")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The maximum size of the report comment")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Safe DM mentions"}},[a("el-switch",{attrs:{value:t.instance.safe_dm_mentions},on:{change:function(e){return t.updateSetting(e,"instance","safe_dm_mentions")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("If set to true, only mentions at the beginning of a post will be used to address people in direct messages. This is to prevent accidental mentioning of people when talking about them")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Healthcheck"}},[a("el-switch",{attrs:{value:t.instance.healthcheck},on:{change:function(e){return t.updateSetting(e,"instance","healthcheck")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("If set to true, system data will be shown on "),a("span",{staticClass:"code"},[t._v("/api/pleroma/healthcheck")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Remote post retention days"}},[a("el-input-number",{attrs:{value:t.instance.remote_post_retention_days,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"instance","remote_post_retention_days")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The default amount of days to retain remote posts when pruning the database.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Skip thread containment"}},[a("el-switch",{attrs:{value:t.instance.skip_thread_containment},on:{change:function(e){return t.updateSetting(e,"instance","skip_thread_containment")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Skip filter out broken threads.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Limit to local content"}},[a("el-select",{attrs:{value:t.instance.limit_to_local_content},on:{change:function(e){return t.updateSetting(e,"instance","limit_to_local_content")}}},[a("el-option",{attrs:{label:"Unauthenticated",value:":unauthenticated"}}),t._v(" "),a("el-option",{attrs:{label:"All",value:":all"}}),t._v(" "),a("el-option",{attrs:{label:"False",value:"false"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Dynamic configuration"}},[a("el-switch",{attrs:{value:t.instance.dynamic_configuration},on:{change:function(e){return t.updateSetting(e,"instance","dynamic_configuration")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Allow transferring configuration to DB with the subsequent customization from Admin API")])],1),t._v(" "),a("el-form-item",{attrs:{label:"External user synchronization"}},[a("el-switch",{attrs:{value:t.instance.external_user_synchronization},on:{change:function(e){return t.updateSetting(e,"instance","external_user_synchronization")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enabling following/followers counters synchronization for external users.")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"uri_schemes",attrs:{model:t.uri_schemes,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"URI schemes"}},[a("el-select",{attrs:{value:t.uri_schemes.valid_schemes||[],multiple:"",filterable:"","allow-create":"",placeholder:"Select"},on:{change:function(e){return t.updateSetting(e,"uri_schemes","valid_schemes")}}},t._l(t.uriSchemesOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of the scheme part that is considered valid to be an URL")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"admin_token",attrs:{model:t.admin_token,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Admin token"}},[a("el-input",{attrs:{value:t.admin_token.value},on:{input:function(e){return t.updateSetting(e,"admin_token","value")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Allows to set a token that can be used to authenticate with the admin api without using an actual user by giving it as the "),a("span",{staticClass:"code"},[t._v("admin_token")]),t._v(" parameter.")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"scheduled_activity",attrs:{model:t.scheduled_activity,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Scheduled activity:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Daily user limit"}},[a("el-input-number",{attrs:{value:t.scheduled_activity.daily_user_limit,step:5,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"Pleroma.ScheduledActivity","daily_user_limit")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The number of scheduled activities a user is allowed to create in a single day (Default: 25)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Total user limit"}},[a("el-input-number",{attrs:{value:t.scheduled_activity.total_user_limit,step:10,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"Pleroma.ScheduledActivity","total_user_limit")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The number of scheduled activities a user is allowed to create in total (Default: 300)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.scheduled_activity.enabled},on:{change:function(e){return t.updateSetting(e,"Pleroma.ScheduledActivity","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Whether scheduled activities are sent to the job queue to be executed")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"fetch_initial_posts",attrs:{model:t.fetch_initial_posts,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Fetch initial posts"}},[a("el-switch",{attrs:{value:t.fetch_initial_posts.enabled},on:{change:function(e){return t.updateSetting(e,"fetch_initial_posts","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("If enabled, when a new user is federated with, fetch some of their latest posts")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Pages"}},[a("el-input-number",{attrs:{value:t.fetch_initial_posts.pages,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"fetch_initial_posts","pages")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The amount of pages to fetch")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"suggestions",attrs:{model:t.suggestions,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Suggestions:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.suggestions.enabled},on:{change:function(e){return t.updateSetting(e,"suggestions","enabled")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Third party engine"}},[a("el-input",{attrs:{value:t.suggestions.third_party_engine},on:{input:function(e){return t.updateSetting(e,"suggestions","third_party_engine")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Timeout"}},[a("el-input-number",{attrs:{value:t.suggestions.timeout,step:1e3,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"suggestions","timeout")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Limit"}},[a("el-input-number",{attrs:{value:t.suggestions.limit,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"suggestions","limit")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Web"}},[a("el-input",{attrs:{value:t.suggestions.web},on:{input:function(e){return t.updateSetting(e,"suggestions","web")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"pleromaUser",attrs:{model:t.pleromaUser,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Restricted nicknames"}},[a("el-select",{attrs:{value:t.pleromaUser.restricted_nicknames||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"Pleroma.User","restricted_nicknames")}}},t._l(t.restrictedNicknamesOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));q.options.__file="Instance.vue";var B=q.exports,G={name:"JobQueue",computed:l()({},Object(r.b)(["queuesConfig","retryQueueConfig"]),{queues:function(){return this.queuesConfig},retryQueue:function(){return this.retryQueueConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},V=(a("lNpP"),Object(c.a)(G,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"queues",attrs:{model:t.queues,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Job queues:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Outgoing federation"}},[a("el-input-number",{attrs:{value:t.queues.federator_outgoing,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"queues","federator_outgoing")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Incoming federation"}},[a("el-input-number",{attrs:{value:t.queues.federator_incoming,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"queues","federator_incoming")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Email sender"}},[a("el-input-number",{attrs:{value:t.queues.mailer,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"queues","mailer")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Transmogrifier"}},[a("el-input-number",{attrs:{value:t.queues.transmogrifier,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"queues","transmogrifier")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Web push notifications"}},[a("el-input-number",{attrs:{value:t.queues.web_push,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"queues","web_push")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Scheduled activities"}},[a("el-input-number",{attrs:{value:t.queues.scheduled_activities,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"queues","scheduled_activities")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Background"}},[a("el-input-number",{attrs:{value:t.queues.background,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"queues","background")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"retryQueue",attrs:{model:t.retryQueue,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Retry queue:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.retryQueue.enabled},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Federator.RetryQueue","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("If set to true, failed federation jobs will be retried")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max jobs"}},[a("el-input-number",{attrs:{value:t.retryQueue.max_jobs,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Federator.RetryQueue","max_jobs")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The maximum amount of parallel federation jobs running at the same time.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Initial timeout (s)"}},[a("el-input-number",{attrs:{value:t.retryQueue.initial_timeout,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Federator.RetryQueue","initial_timeout")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The initial timeout in seconds")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max retries"}},[a("el-input-number",{attrs:{value:t.retryQueue.max_retries,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Federator.RetryQueue","max_retries")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The maximum number of times a federation job is retried")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));V.options.__file="JobQueue.vue";var K=V.exports,Q={name:"Logger",computed:l()({},Object(r.b)(["consoleConfig","exsysloggerConfig","levelConfig","loggerBackendsConfig","metaConfig","webhookUrlConfig"]),{consoleLogger:function(){return this.consoleConfig},exsyslogger:function(){return this.exsysloggerConfig},level:function(){return this.levelConfig},loggerBackends:function(){return this.loggerBackendsConfig},loggerBackendsValue:function(){return this.loggerBackends.value?this.loggerBackends.value.map(function(t){return JSON.stringify(t)}):[]},loggerBackendsOptions:function(){return k.loggerBackendsOptions},meta:function(){return this.metaConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"},webhookUrl:function(){return this.webhookUrlConfig}}),methods:{processNestedData:function(t,e,a,i){var n=l()({},this.$store.state.settings.settings[e][a],s()({},i,t));this.updateSetting(n,e,a)},updateloggerBackends:function(t,e,a){var i=t.map(function(t){return JSON.parse(t)});this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,i)})},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},J=(a("mADP"),Object(c.a)(Q,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"loggerBackends",attrs:{model:t.loggerBackends,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Backends"}},[a("el-select",{attrs:{value:t.loggerBackendsValue,multiple:""},on:{change:function(e){return t.updateloggerBackends(e,"backends","value")}}},t._l(t.loggerBackendsOptions,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of instances to remove medias from")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"consoleLogger",attrs:{model:t.consoleLogger,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Console logger:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Level"}},[a("el-select",{attrs:{value:t.consoleLogger.level},on:{change:function(e){return t.updateSetting(e,"console","level")}}},[a("el-option",{attrs:{value:":debug",label:":debug - for debug-related messages"}}),t._v(" "),a("el-option",{attrs:{value:":info",label:":info - for information of any kind"}}),t._v(" "),a("el-option",{attrs:{value:":warn",label:":warn - for warnings"}}),t._v(" "),a("el-option",{attrs:{value:":error",label:":error - for errors"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("The level to be logged by this backend. Note that messages are filtered by the general\n      "),a("span",{staticClass:"code"},[t._v(":level")]),t._v(" configuration for the "),a("span",{staticClass:"code"},[t._v(":logger")]),t._v(" application first.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Format"}},[a("el-input",{attrs:{value:t.consoleLogger.format},on:{input:function(e){return t.updateSetting(e,"console","format")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The format message used to print logs. ")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Metadata"}},[a("el-select",{attrs:{value:t.consoleLogger.metadata||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"console","metadata")}}},[a("el-option",{attrs:{value:":all"}}),t._v(" "),a("el-option",{attrs:{value:":request_id"}}),t._v(" "),a("el-option",{attrs:{value:":line"}}),t._v(" "),a("el-option",{attrs:{value:":user_id"}}),t._v(" "),a("el-option",{attrs:{value:":application"}}),t._v(" "),a("el-option",{attrs:{value:":function"}}),t._v(" "),a("el-option",{attrs:{value:":file"}}),t._v(" "),a("el-option",{attrs:{value:":pid"}}),t._v(" "),a("el-option",{attrs:{value:":crash_reason"}}),t._v(" "),a("el-option",{attrs:{value:":initial_call"}}),t._v(" "),a("el-option",{attrs:{value:":registered_name"}}),t._v(" "),a("el-option",{attrs:{value:":none"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Device"}},[a("el-input",{attrs:{value:t.consoleLogger.device},on:{input:function(e){return t.updateSetting(e,"console","device")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The device to log error messages to. Defaults to "),a("span",{staticClass:"code"},[t._v(":user")]),t._v("\n        but can be changed to something else such as "),a("span",{staticClass:"code"},[t._v(":standard_error")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max buffer"}},[a("el-input-number",{attrs:{value:t.consoleLogger.max_buffer,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"console","max_buffer")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Maximum events to buffer while waiting for a confirmation from the IO device (default: 32). Once the buffer is full, the backend will block until a confirmation is received.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Colors:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.consoleLogger.colors.enabled},on:{change:function(e){return t.processNestedData(e,"console","colors","enabled")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Debug message"}},[a("el-input",{attrs:{value:t.consoleLogger.colors.debug},on:{input:function(e){return t.processNestedData(e,"console","colors","debug")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Defaults to: "),a("span",{staticClass:"code"},[t._v(":cyan")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Info message"}},[a("el-input",{attrs:{value:t.consoleLogger.colors.info},on:{input:function(e){return t.processNestedData(e,"console","colors","info")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Defaults to: "),a("span",{staticClass:"code"},[t._v(":normal")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Warn message"}},[a("el-input",{attrs:{value:t.consoleLogger.colors.warn},on:{input:function(e){return t.processNestedData(e,"console","colors","warn")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Defaults to: "),a("span",{staticClass:"code"},[t._v(":yellow")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Error message"}},[a("el-input",{attrs:{value:t.consoleLogger.colors.error},on:{input:function(e){return t.processNestedData(e,"console","colors","error")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Defaults to: "),a("span",{staticClass:"code"},[t._v(":red")])])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"exsyslogger",attrs:{model:t.exsyslogger,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"ExSyslogger:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Level"}},[a("el-select",{attrs:{value:t.exsyslogger.level},on:{change:function(e){return t.updateSetting(e,"ex_syslogger","level")}}},[a("el-option",{attrs:{value:":debug",label:":debug - for debug-related messages"}}),t._v(" "),a("el-option",{attrs:{value:":info",label:":info - for information of any kind"}}),t._v(" "),a("el-option",{attrs:{value:":warn",label:":warn - for warnings"}}),t._v(" "),a("el-option",{attrs:{value:":error",label:":error - for errors"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Logging level. It defaults to "),a("span",{staticClass:"code"},[t._v(":info.")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Format"}},[a("el-input",{attrs:{value:t.exsyslogger.format},on:{input:function(e){return t.updateSetting(e,"ex_syslogger","format")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The format message used to print logs.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Formatter"}},[a("el-input",{attrs:{value:t.exsyslogger.formatter},on:{input:function(e){return t.updateSetting(e,"ex_syslogger","formatter")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Formatter that will be used to format the log. It default to "),a("span",{staticClass:"code"},[t._v("Logger.Formatter")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Metadata"}},[a("el-select",{attrs:{value:t.exsyslogger.metadata||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"ex_syslogger","metadata")}}},[a("el-option",{attrs:{value:":all"}}),t._v(" "),a("el-option",{attrs:{value:":request_id"}}),t._v(" "),a("el-option",{attrs:{value:":line"}}),t._v(" "),a("el-option",{attrs:{value:":user_id"}}),t._v(" "),a("el-option",{attrs:{value:":application"}}),t._v(" "),a("el-option",{attrs:{value:":function"}}),t._v(" "),a("el-option",{attrs:{value:":file"}}),t._v(" "),a("el-option",{attrs:{value:":pid"}}),t._v(" "),a("el-option",{attrs:{value:":crash_reason"}}),t._v(" "),a("el-option",{attrs:{value:":initial_call"}}),t._v(" "),a("el-option",{attrs:{value:":registered_name"}}),t._v(" "),a("el-option",{attrs:{value:":none"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Ident"}},[a("el-input",{attrs:{value:t.exsyslogger.ident},on:{input:function(e){return t.updateSetting(e,"ex_syslogger","ident")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("A string that’s prepended to every message, and is typically set to the app name. It defaults to "),a("span",{staticClass:"code"},[t._v("Elixir")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Facility"}},[a("el-input",{attrs:{value:t.exsyslogger.facility},on:{input:function(e){return t.updateSetting(e,"ex_syslogger","facility")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Syslog facility to be used. It defaults to "),a("span",{staticClass:"code"},[t._v(":local0")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Options"}},[a("el-select",{attrs:{value:t.exsyslogger.option||[],multiple:""},on:{change:function(e){return t.updateSetting(e,"ex_syslogger","option")}}},[a("el-option",{attrs:{value:":pid"}}),t._v(" "),a("el-option",{attrs:{value:":cons"}}),t._v(" "),a("el-option",{attrs:{value:":odelay"}}),t._v(" "),a("el-option",{attrs:{value:":ndelay"}}),t._v(" "),a("el-option",{attrs:{value:":perror"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Syslog option to be used. It defaults to "),a("span",{staticClass:"code"},[t._v(":ndelay.")])])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"webhookUrl",attrs:{model:t.webhookUrl,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Quack logger:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Webhook URL"}},[a("el-input",{attrs:{value:t.webhookUrl.value},on:{input:function(e){return t.updateSetting(e,"webhook_url","value")}}})],1)],1),t._v(" "),a("el-form",{ref:"level",attrs:{model:t.level,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Level"}},[a("el-select",{attrs:{value:t.level.value},on:{change:function(e){return t.updateSetting(e,"level","value")}}},[a("el-option",{attrs:{value:":debug",label:":debug - for debug-related messages"}}),t._v(" "),a("el-option",{attrs:{value:":info",label:":info - for information of any kind"}}),t._v(" "),a("el-option",{attrs:{value:":warn",label:":warn - for warnings"}}),t._v(" "),a("el-option",{attrs:{value:":error",label:":error - for errors"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("Logging level. It defaults to "),a("span",{staticClass:"code"},[t._v(":info.")])])],1)],1),t._v(" "),a("el-form",{ref:"meta",attrs:{model:t.meta,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Metadata"}},[a("el-select",{attrs:{value:t.meta.value||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"meta","value")}}},[a("el-option",{attrs:{value:":all"}}),t._v(" "),a("el-option",{attrs:{value:":module"}}),t._v(" "),a("el-option",{attrs:{value:":function"}}),t._v(" "),a("el-option",{attrs:{value:":file"}}),t._v(" "),a("el-option",{attrs:{value:":application"}}),t._v(" "),a("el-option",{attrs:{value:":line"}}),t._v(" "),a("el-option",{attrs:{value:":pid"}}),t._v(" "),a("el-option",{attrs:{value:":crash_reason"}}),t._v(" "),a("el-option",{attrs:{value:":initial_call"}}),t._v(" "),a("el-option",{attrs:{value:":registered_name"}}),t._v(" "),a("el-option",{attrs:{value:":none"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));J.options.__file="Logger.vue";var Y=J.exports,X={name:"Mailer",components:{editor:P.a},computed:l()({},Object(r.b)(["mailerConfig"]),{editorContent:{get:function(){return this.mailerConfig.dkim?this.mailerConfig.dkim[0]:""},set:function(t){this.updateSetting([t],"Pleroma.Emails.Mailer","dkim")}},mailer:function(){return this.mailerConfig},adapterOptions:function(){return k.adapterOptions},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},Z=(a("PygS"),Object(c.a)(X,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"mailer",attrs:{model:t.mailer,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.mailer.enabled},on:{change:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Allows to enable or disable sending emails. Defaults to false.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Adapter"}},[a("el-select",{attrs:{value:t.mailer.adapter},on:{change:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","adapter")}}},t._l(t.adapterOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),"Swoosh.Adapters.Sendmail"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"CMD Path"}},[a("el-input",{attrs:{value:t.mailer.cmd_path},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","cmd_path")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("E. g. "),a("span",{staticClass:"code"},[t._v('/usr/bin/sendmail"')])])],1),t._v(" "),a("el-form-item",{attrs:{label:"CMD Args"}},[a("el-input",{attrs:{value:t.mailer.cmd_args},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","cmd_args")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("E. g. "),a("span",{staticClass:"code"},[t._v("-N delay,failure,success")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Qmail"}},[a("el-switch",{attrs:{value:t.mailer.qmail},on:{change:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","qmail")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.SMTP"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"Relay"}},[a("el-input",{attrs:{value:t.mailer.relay},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","relay")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("E. g. "),a("span",{staticClass:"code"},[t._v("smtp.avengers.com")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Username"}},[a("el-input",{attrs:{value:t.mailer.username},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","username")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Password"}},[a("el-input",{attrs:{value:t.mailer.password},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","password")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"SSL"}},[a("el-switch",{attrs:{value:t.mailer.ssl},on:{change:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","ssl")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"TLS"}},[a("el-input",{attrs:{value:t.mailer.tls},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","tls")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("E.g. "),a("span",{staticClass:"code"},[t._v(":always")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Auth"}},[a("el-input",{attrs:{value:t.mailer.auth},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","auth")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("E.g. "),a("span",{staticClass:"code"},[t._v(":always")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{attrs:{value:t.mailer.port},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","port")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"DKIM"}},[a("editor",{attrs:{height:"150",width:"100%",lang:"elixir",theme:"chrome"},model:{value:t.editorContent,callback:function(e){t.editorContent=e},expression:"editorContent"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Retries"}},[a("el-input-number",{attrs:{value:t.mailer.retries,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","retries")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"No mx lookups"}},[a("el-switch",{attrs:{value:t.mailer.no_mx_lookups},on:{change:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","no_mx_lookups")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.Sendgrid"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"API key"}},[a("el-input",{attrs:{value:t.mailer.api_key},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","api_key")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.Mandrill"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"API key"}},[a("el-input",{attrs:{value:t.mailer.api_key},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","api_key")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.Mailgun"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"API key"}},[a("el-input",{attrs:{value:t.mailer.api_key},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","api_key")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Domain"}},[a("el-input",{attrs:{value:t.mailer.domain},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","domain")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.Mailjet"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"API key"}},[a("el-input",{attrs:{value:t.mailer.api_key},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","api_key")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Secret"}},[a("el-input",{attrs:{value:t.mailer.secret},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","secret")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.Postmark"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"API key"}},[a("el-input",{attrs:{value:t.mailer.api_key},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","api_key")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.SparkPost"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"API key"}},[a("el-input",{attrs:{value:t.mailer.api_key},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","api_key")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Endpoint"}},[a("el-input",{attrs:{value:t.mailer.endpoint},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","endpoint")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.AmazonSES"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"Region"}},[a("el-input",{attrs:{value:t.mailer.region},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","region")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Access key"}},[a("el-input",{attrs:{value:t.mailer.access_key},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","access_key")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Secret"}},[a("el-input",{attrs:{value:t.mailer.secret},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","secret")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.Dyn"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"API key"}},[a("el-input",{attrs:{value:t.mailer.api_key},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","api_key")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.SocketLabs"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"Server ID"}},[a("el-input",{attrs:{value:t.mailer.server_id},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","server_id")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"API key"}},[a("el-input",{attrs:{value:t.mailer.api_key},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","api_key")}}})],1)],1):t._e(),t._v(" "),"Swoosh.Adapters.Gmail"===t.mailer.adapter?a("div",[a("el-form-item",{attrs:{label:"Access token"}},[a("el-input",{attrs:{value:t.mailer.access_token},on:{input:function(e){return t.updateSetting(e,"Pleroma.Emails.Mailer","access_token")}}})],1)],1):t._e(),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)},[],!1,null,null,null));Z.options.__file="Mailer.vue";var tt=Z.exports,et={name:"MediaProxy",computed:l()({},Object(r.b)(["mediaProxyConfig"]),{inlineContentTypes:function(){return Array.isArray(this.mediaProxy.proxy_opts.inline_content_types)?"whitelistedTypeArray":this.mediaProxy.proxy_opts.inline_content_types},http:function(){return this.mediaProxy.proxy_opts.http||{}},mediaProxy:function(){return this.mediaProxyConfig},reqHeadersOptions:function(){return this.mediaProxySettings.reqHeadersOptions},hackneyPoolsOptions:function(){return k.hackneyPoolsOptions},whitelistedContentTypes:function(){return Array.isArray(this.mediaProxy.proxy_opts.inline_content_types)?this.mediaProxy.proxy_opts.inline_content_types:[]},whitelistedContentTypesOptions:function(){return k.whitelistedContentTypesOptions},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{getPoolExpl:function(t){var e=this.hackneyPoolsOptions.find(function(e){return e.value===t});return e?"Max connections: "+e.max_connections+", timeout: "+e.timeout:""},processHttpSettings:function(t,e,a,i,n){var r=l()({},this.mediaProxy[a][i],s()({},n,t));this.processNestedData(r,e,a,i)},processNestedData:function(t,e,a,i){var n=l()({},this.$store.state.settings.settings[e][a],s()({},i,t));this.updateSetting(n,e,a)},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},at=(a("UdS4"),Object(c.a)(et,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"mediaProxy",attrs:{model:t.mediaProxy,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.mediaProxy.enabled},on:{change:function(e){return t.updateSetting(e,"media_proxy","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Enables proxying of remote media to the instance’s proxy")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Base URL"}},[a("el-input",{attrs:{value:t.mediaProxy.base_url},on:{input:function(e){return t.updateSetting(e,"media_proxy","base_url")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The base URL to access a user-uploaded file. Useful when you want to proxy the media files via another host/CDN fronts.")])],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Proxy options:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Redirect on failure"}},[a("el-switch",{attrs:{value:t.mediaProxy.proxy_opts.redirect_on_failure},on:{change:function(e){return t.processNestedData(e,"media_proxy","proxy_opts","redirect_on_failure")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Redirects the client to the real remote URL if there's any HTTP errors. Any error during body processing will not be redirected as the response is chunked")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max body length (MB)"}},[a("el-input-number",{attrs:{value:t.mediaProxy.proxy_opts.max_body_length/1048576,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(1048576*e,"media_proxy","proxy_opts","max_body_length")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Limits the content length to be approximately the specified length")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max read duration (s)"}},[a("el-input-number",{attrs:{value:t.mediaProxy.proxy_opts.max_read_duration,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"media_proxy","proxy_opts","max_read_duration")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The total time the connection is allowed to read from the remote upstream")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Inline content types"}},[a("el-select",{attrs:{value:t.inlineContentTypes},on:{change:function(e){return t.processNestedData(e,"media_proxy","proxy_opts","inline_content_types")}}},[a("el-option",{attrs:{value:!0,label:"True"}}),t._v(" "),a("el-option",{attrs:{value:!1,label:"False"}}),t._v(" "),a("el-option",{attrs:{value:"whitelistedTypeArray",label:"List of whitelisted content types"}}),t._v(" "),a("el-option",{attrs:{value:"keepUserAgent",label:"Forward client's user-agent to the upstream"}})],1),t._v(" "),!0===t.inlineContentTypes?a("p",{staticClass:"expl"},[t._v("Will not alter "),a("span",{staticClass:"code"},[t._v("content-disposition")]),t._v(" (up to the upstream)")]):t._e(),t._v(" "),t.inlineContentTypes?t._e():a("p",{staticClass:"expl"},[t._v("Will add "),a("span",{staticClass:"code"},[t._v("content-disposition: attachment")]),t._v(" to any request")]),t._v(" "),"keepUserAgent"===t.inlineContentTypes?a("p",{staticClass:"expl"},[t._v("\n      Will forward the client's user-agent to the upstream. This may be useful if the upstream is\n      doing content transformation (encoding, …) depending on the request.\n    ")]):t._e()],1),t._v(" "),"whitelistedTypeArray"===t.inlineContentTypes?a("el-form-item",{attrs:{label:"Whitelisted content types"}},[a("el-select",{attrs:{value:t.whitelistedContentTypes,multiple:""},on:{change:function(e){return t.processNestedData(e,"media_proxy","proxy_opts","inline_content_types")}}},t._l(t.whitelistedContentTypesOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Request headers"}},[a("el-select",{attrs:{value:t.mediaProxy.proxy_opts.req_headers||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.processNestedData(e,"media_proxy","proxy_opts","req_headers")}}}),t._v(" "),a("p",{staticClass:"expl"},[a("span",{staticClass:"code"},[t._v("resp_headers")]),t._v(" additional headers")])],1),t._v(" "),a("el-form-item",{attrs:{label:"HTTP:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Follow redirect"}},[a("el-switch",{attrs:{value:t.http.follow_redirect},on:{change:function(e){return t.processHttpSettings(e,"media_proxy","proxy_opts","http","follow_redirect")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Pool"}},[a("el-select",{attrs:{value:t.http.pool},on:{change:function(e){return t.processHttpSettings(e,"media_proxy","proxy_opts","http","pool")}}},t._l(t.hackneyPoolsOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("p",{staticClass:"expl"},[t._v(t._s(t.getPoolExpl(t.http.pool)))])],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Whitelist"}},[a("el-select",{attrs:{value:t.mediaProxy.whitelist||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"media_proxy","whitelist")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of domains to bypass the mediaproxy")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)},[],!1,null,null,null));at.options.__file="MediaProxy.vue";var it=at.exports,st={name:"Metadata",computed:l()({},Object(r.b)(["metadataConfig","richMediaConfig"]),{metadata:function(){return this.metadataConfig},richMedia:function(){return this.richMediaConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},nt=(a("apN7"),Object(c.a)(st,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"metadata",attrs:{model:t.metadata,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Providers"}},[a("el-select",{attrs:{value:t.metadata.providers||[],multiple:""},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Metadata","providers")}}},[a("el-option",{attrs:{value:"Pleroma.Web.Metadata.Providers.OpenGraph"}}),t._v(" "),a("el-option",{attrs:{value:"Pleroma.Web.Metadata.Providers.TwitterCard"}}),t._v(" "),a("el-option",{attrs:{value:"Pleroma.Web.Metadata.Providers.RelMe"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("A list of metadata providers to enable.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Unfurl NSFW"}},[a("el-switch",{attrs:{value:t.metadata.unfurl_nsfw},on:{change:function(e){return t.updateSetting(e,"Pleroma.Web.Metadata","unfurl_nsfw")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("If set to true nsfw attachments will be shown in previews.")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"richMedia",attrs:{model:t.richMedia,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Rich media:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Enabled"}},[a("el-switch",{attrs:{value:t.richMedia.enabled},on:{change:function(e){return t.updateSetting(e,"rich_media","enabled")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("If enabled the instance will parse metadata from attached links to generate link previews.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Ignore hosts"}},[a("el-select",{attrs:{value:t.richMedia.ignore_hosts||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"rich_media","ignore_hosts")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of hosts which will be ignored by the metadata parser.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Ignore TLD"}},[a("el-select",{attrs:{value:t.richMedia.ignore_tld||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"rich_media","ignore_tld")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List TLDs (top-level domains) which will ignore for parse metadata.\n      Default is "),a("span",{staticClass:"code"},[t._v('["local", "localdomain", "lan"]')])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Parsers"}},[a("el-select",{attrs:{value:t.richMedia.parsers||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"rich_media","parsers")}}},[a("el-option",{attrs:{value:"Pleroma.Web.RichMedia.Parsers.TwitterCard"}}),t._v(" "),a("el-option",{attrs:{value:"Pleroma.Web.RichMedia.Parsers.OGP"}}),t._v(" "),a("el-option",{attrs:{value:"Pleroma.Web.RichMedia.Parsers.OEmbed"}})],1),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of Rich Media parsers")])],1),t._v(" "),a("el-form-item",{attrs:{label:"TTL Setters"}},[a("el-select",{attrs:{value:t.richMedia.ttl_setters||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"rich_media","ttl_setters")}}},[a("el-option",{attrs:{value:"Pleroma.Web.RichMedia.Parser.TTL.AwsSignedUrl"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));nt.options.__file="Metadata.vue";var lt=nt.exports,rt={name:"MRF",data:function(){return{removableDoubleOptions:["replace","mrfUserAllowlist"],removableSingleOptions:["keywordReject","federatedTimelineRemoval"]}},computed:l()({},Object(r.b)(["mrfHellthreadConfig","mrfKeywordConfig","mrfMentionConfig","mrfNormalizeMarkupConfig","mrfSimpleConfig","mrfSubchainConfig","mrfRejectnonpublicConfig","mrfUserAllowlistConfig"]),{matchActor:function(){var t=this;return Object.keys(this.mrfSubchain.match_actor).map(function(e){return[e,t.mrfSubchain.match_actor[e]]})},mrfHellthread:function(){return this.mrfHellthreadConfig},mrfKeyword:function(){return this.mrfKeywordConfig},mrfMention:function(){return this.mrfMentionConfig},mrfNormalizeMarkup:function(){return this.mrfNormalizeMarkupConfig},mrfSimple:function(){return this.mrfSimpleConfig},mrfSubchain:function(){return this.mrfSubchainConfig},mrfRejectnonpublic:function(){return this.mrfRejectnonpublicConfig},mrfUserAllowlist:function(){return this.mrfUserAllowlistConfig},policiesOptions:function(){return k.rewritePolicyOptions},replacePatterns:function(){var t=this;return Object.keys(this.mrfKeywordConfig.replace).map(function(e){return[e,t.mrfKeywordConfig.replace[e]]})},userAllowlist:function(){var t=this;return Object.keys(this.mrfUserAllowlist).map(function(e){return[e,t.mrfUserAllowlist[e]]})},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{addMrfSubchainRow:function(){var t=this.matchActor.reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.updateSetting(l()({},t,{"":[]}),"mrf_subchain","match_actor")},addMrfUserAllowlistRow:function(){var t=this.userAllowlist.reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.$store.dispatch("RewriteConfig",{data:l()({},t,{"":[]}),tab:"mrf_user_allowlist"})},addReplaceRow:function(){var t=this.replacePatterns.reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.updateSetting(l()({},t,{"":""}),"mrf_keyword","replace")},deleteMrfSubchainRow:function(t){var e=this.matchActor.filter(function(e,a){return t!==a}).reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.updateSetting(e,"mrf_subchain","match_actor")},deleteMrfUserAllowlistRow:function(t){var e=this.userAllowlist.filter(function(e,a){return t!==a}).reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.$store.dispatch("RewriteConfig",{data:e,tab:"mrf_user_allowlist"})},deleteReplaceRow:function(t){var e=this.replacePatterns.filter(function(e,a){return t!==a}).reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.updateSetting(e,"mrf_keyword","replace")},parseMrfSubchain:function(t,e,a){var i=this.matchActor.reduce(function(i,n,r){return a===r?"regExp"===e?l()({},i,s()({},t,n[1])):l()({},i,s()({},n[0],t)):l()({},i,s()({},n[0],n[1]))},{});this.updateSetting(i,"mrf_subchain","match_actor")},parseMrfUserAllowlist:function(t,e,a){var i=this.userAllowlist.reduce(function(i,n,r){return a===r?"domain"===e?l()({},i,s()({},t,n[1])):l()({},i,s()({},n[0],t)):l()({},i,s()({},n[0],n[1]))},{});this.$store.dispatch("RewriteConfig",{data:i,tab:"mrf_user_allowlist"})},parseReplace:function(t,e,a){var i=this.replacePatterns.reduce(function(i,n,r){return a===r?"key"===e?l()({},i,s()({},t,n[1])):l()({},i,s()({},n[0],t)):l()({},i,s()({},n[0],n[1]))},{});this.updateSetting(i,"mrf_keyword","replace")},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},ot=(a("h9z7"),Object(c.a)(rt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"mrfSimple",attrs:{model:t.mrfSimple,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"MRF Simple:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Media removal"}},[a("el-select",{attrs:{value:t.mrfSimple.media_removal||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_simple","media_removal")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of instances to remove medias from")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Media NSFW"}},[a("el-select",{attrs:{value:t.mrfSimple.media_nsfw||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_simple","media_nsfw")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of instances to put medias as NSFW (sensitive)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Federated timeline removal"}},[a("el-select",{attrs:{value:t.mrfSimple.federated_timeline_removal||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_simple","federated_timeline_removal")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of instances to remove from Federated (aka The Whole Known Network) Timeline")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Reject"}},[a("el-select",{attrs:{value:t.mrfSimple.reject||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_simple","reject")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of instances to reject any activities from")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Accept"}},[a("el-select",{attrs:{value:t.mrfSimple.accept||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_simple","accept")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of instances to accept any activities from")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Report removal"}},[a("el-select",{attrs:{value:t.mrfSimple.report_removal||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_simple","report_removal")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of instances to reject reports from")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Avatar removal"}},[a("el-select",{attrs:{value:t.mrfSimple.avatar_removal||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_simple","avatar_removal")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of instances to strip avatars from")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Banner removal"}},[a("el-select",{attrs:{value:t.mrfSimple.banner_removal||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_simple","banner_removal")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("List of instances to strip banners from")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"mrfRejectnonpublic",attrs:{model:t.mrfRejectnonpublic,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"MRF Reject non public:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Allow followers-only posts"}},[a("el-switch",{attrs:{value:t.mrfRejectnonpublic.allow_followersonly},on:{change:function(e){return t.updateSetting(e,"mrf_rejectnonpublic","allow_followersonly")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Allow direct messages"}},[a("el-switch",{attrs:{value:t.mrfRejectnonpublic.allow_direct},on:{change:function(e){return t.updateSetting(e,"mrf_rejectnonpublic","allow_direct")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"mrfHellthread",attrs:{model:t.mrfHellthread,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"MRF Hellthread:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Delist threshold"}},[a("el-input-number",{attrs:{value:t.mrfHellthread.delist_threshold,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"mrf_hellthread","delist_threshold")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Number of mentioned users after which the message gets delisted\n      (the message can still be seen, but it will not show up in public timelines and mentioned users won't get notifications about it).\n      Set to 0 to disable.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Reject threshold"}},[a("el-input-number",{attrs:{value:t.mrfHellthread.reject_threshold,step:1,min:0,size:"large"},on:{change:function(e){return t.updateSetting(e,"mrf_hellthread","reject_threshold")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Number of mentioned users after which the messaged gets rejected. Set to 0 to disable.")])],1)],1),t._v(" "),a("el-form",{ref:"mrfKeyword",attrs:{model:t.mrfKeyword,"label-width":t.labelWidth}},[a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"MRF Keyword:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Reject"}},[a("el-select",{attrs:{value:t.mrfKeyword.reject||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_keyword","reject")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("A list of patterns which result in message being rejected")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Federated timeline removal"}},[a("el-select",{attrs:{value:t.mrfKeyword.federated_timeline_removal,multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_keyword","federated_timeline_removal")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("A list of patterns which result in message being removed from federated timelines (a.k.a unlisted)")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Replace"}},[t._l(t.replacePatterns,function(e,i){var s=e[0],n=e[1];return a("div",{key:i,staticClass:"setting-input"},[a("el-input",{staticClass:"name-input",attrs:{value:s,placeholder:"pattern"},on:{input:function(e){return t.parseReplace(e,"key",i)}}}),t._v(" :\n        "),a("el-input",{staticClass:"value-input",attrs:{value:n,placeholder:"replacement"},on:{input:function(e){return t.parseReplace(e,"value",i)}}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteReplaceRow(i)}}})],1)}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:t.addReplaceRow}})],2)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"mrfSubchain",attrs:{model:t.mrfSubchain,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"MRF Subchain:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Match actor:"}},[t._l(t.matchActor,function(e,i){var s=e[0],n=e[1];return a("div",{key:i,staticClass:"setting-input"},[a("el-input",{staticClass:"name-input",attrs:{value:s,placeholder:"Regular expression"},on:{input:function(e){return t.parseMrfSubchain(e,"regExp",i)}}}),t._v(" :\n        "),a("el-select",{staticClass:"value-input",attrs:{value:n,placeholder:"Policy modules",multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.parseMrfSubchain(e,"policies",i)}}},t._l(t.policiesOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteMrfSubchainRow(i)}}})],1)}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:t.addMrfSubchainRow}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Matches a series of regular expressions against the actor field.")])],2)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"mrfMention",attrs:{model:t.mrfMention,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"MRF Mention:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Actors"}},[a("el-select",{attrs:{value:t.mrfMention.actors||[],multiple:"","allow-create":"",filterable:""},on:{change:function(e){return t.updateSetting(e,"mrf_mention","actors")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("A list of actors, for which to drop any posts mentioning.")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"mrfUserAllowlist",attrs:{model:t.mrfUserAllowlist,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"MRF User allowlist"}},[t._l(t.userAllowlist,function(e,i){var s=e[0],n=e[1];return a("div",{key:i,staticClass:"setting-input"},[a("el-input",{staticClass:"name-input",attrs:{value:s,placeholder:"domain"},on:{input:function(e){return t.parseMrfUserAllowlist(e,"domain",i)}}}),t._v(" :\n        "),a("el-select",{staticClass:"value-input",attrs:{value:n,placeholder:"list of users",multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.parseMrfUserAllowlist(e,"users",i)}}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteMrfUserAllowlistRow(i)}}})],1)}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:t.addMrfUserAllowlistRow}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The keys in this section are the domain names that the policy should apply to. Each key should be assigned a list of users that should be allowed through by their ActivityPub ID.")])],2)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"mrfNormalizeMarkup",attrs:{model:t.mrfNormalizeMarkup,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"MRF normalize markup:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Scrub policy"}},[a("el-input",{attrs:{value:t.mrfNormalizeMarkup.scrub_policy},on:{input:function(e){return t.updateSetting(e,"mrf_normalize_markup","scrub_policy")}}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));ot.options.__file="MRF.vue";var ut=ot.exports,ct={name:"Other",computed:l()({},Object(r.b)(["formatEncodersConfig","mimeTypesConfig","teslaAdapterConfig"]),{formatEncoders:function(){return this.formatEncodersConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"},mimeTypes:function(){var t=this;return Object.keys(this.mimeTypesConfig.value).map(function(e){return[e,t.mimeTypesConfig.value[e]]})},teslaAdapter:function(){return this.teslaAdapterConfig}}),methods:{addRowToMimeTypes:function(){var t=this.mimeTypes.reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.updateSetting(l()({},t,{"":[]}),"types","value")},deleteMimeTypes:function(t){var e=this.mimeTypes.filter(function(e,a){return t!==a}).reduce(function(t,e,a){return l()({},t,s()({},e[0],e[1]))},{});this.updateSetting(e,"types","value")},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})},parseMimeTypes:function(t,e,a){var i=this.mimeTypes.reduce(function(i,n,r){return a===r?"type"===e?l()({},i,s()({},t,n[1])):l()({},i,s()({},n[0],t)):l()({},i,s()({},n[0],n[1]))},{});this.updateSetting(i,"types","value")},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})}}},pt=(a("gFOO"),Object(c.a)(ct,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"formatEncoders",attrs:{model:t.formatEncoders,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Phoenix Format encoders:"}}),t._v(" "),a("el-form-item",{attrs:{label:"JSON"}},[a("el-input",{attrs:{value:t.formatEncoders.json},on:{input:function(e){return t.updateSetting(e,"format_encoders","json")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"teslaAdapter",attrs:{model:t.teslaAdapter,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Tesla adapter"}},[a("el-input",{attrs:{value:t.teslaAdapter.value},on:{input:function(e){return t.updateSetting(e,"adapter","value")}}})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"mimeTypesConfig",attrs:{model:t.mimeTypesConfig,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Mime types"}},[t._l(t.mimeTypes,function(e,i){var s=e[0],n=e[1];return a("div",{key:i,staticClass:"setting-input"},[a("el-input",{staticClass:"name-input",attrs:{value:s,placeholder:"type"},on:{input:function(e){return t.parseMimeTypes(e,"type",i)}}}),t._v(" :\n        "),a("el-select",{staticClass:"value-input",attrs:{value:n,multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.parseMimeTypes(e,"value",i)}}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteMimeTypes(i)}}})],1)}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:t.addRowToMimeTypes}})],2),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));pt.options.__file="Other.vue";var mt=pt.exports,dt={name:"RateLimiters",computed:l()({},Object(r.b)(["rateLimitersConfig"]),{accountConfirmationResendAllUsers:function(){return this.rateLimiters.account_confirmation_resend?this.rateLimiters.account_confirmation_resend.tuple:[null,null]},accountConfirmationResendAuthUsers:function(){return!!Array.isArray(this.rateLimiters.account_confirmation_resend)&&this.rateLimiters.account_confirmation_resend[1].tuple},accountConfirmationResendUnauthUsers:function(){return!!Array.isArray(this.rateLimiters.account_confirmation_resend)&&this.rateLimiters.account_confirmation_resend[0].tuple},appAccountCreationAllUsers:function(){return this.rateLimiters.app_account_creation?this.rateLimiters.app_account_creation.tuple:[null,null]},appAccountCreationAuthUsers:function(){return!!Array.isArray(this.rateLimiters.app_account_creation)&&this.rateLimiters.app_account_creation[1].tuple},appAccountCreationUnauthUsers:function(){return!!Array.isArray(this.rateLimiters.app_account_creation)&&this.rateLimiters.app_account_creation[0].tuple},rateLimiters:function(){return this.rateLimitersConfig},passwordResetAllUsers:function(){return this.rateLimiters.password_reset?this.rateLimiters.password_reset.tuple:[null,null]},passwordResetAuthUsers:function(){return!!Array.isArray(this.rateLimiters.password_reset)&&this.rateLimiters.password_reset[1].tuple},passwordResetUnauthUsers:function(){return!!Array.isArray(this.rateLimiters.password_reset)&&this.rateLimiters.password_reset[0].tuple},relationsActionsAllUsers:function(){return this.rateLimiters.relations_actions?this.rateLimiters.relations_actions.tuple:[null,null]},relationsActionsAuthUsers:function(){return!!Array.isArray(this.rateLimiters.relations_actions)&&this.rateLimiters.relations_actions[1].tuple},relationsActionsUnauthUsers:function(){return!!Array.isArray(this.rateLimiters.relations_actions)&&this.rateLimiters.relations_actions[0].tuple},relationIdActionAllUsers:function(){return this.rateLimiters.relation_id_action?this.rateLimiters.relation_id_action.tuple:[null,null]},relationIdActionAuthUsers:function(){return!!Array.isArray(this.rateLimiters.relation_id_action)&&this.rateLimiters.relation_id_action[1].tuple},relationIdActionUnauthUsers:function(){return!!Array.isArray(this.rateLimiters.relation_id_action)&&this.rateLimiters.relation_id_action[0].tuple},searchLimitAllUsers:function(){return this.rateLimiters.search?this.rateLimiters.search.tuple:[null,null]},searchLimitAuthUsers:function(){return!!Array.isArray(this.rateLimiters.search)&&this.rateLimiters.search[1].tuple},searchLimitUnauthUsers:function(){return!!Array.isArray(this.rateLimiters.search)&&this.rateLimiters.search[0].tuple},statusesActionsAllUsers:function(){return this.rateLimiters.statuses_actions?this.rateLimiters.statuses_actions.tuple:[null,null]},statusesActionsAuthUsers:function(){return!!Array.isArray(this.rateLimiters.statuses_actions)&&this.rateLimiters.statuses_actions[1].tuple},statusesActionsUnauthUsers:function(){return!!Array.isArray(this.rateLimiters.statuses_actions)&&this.rateLimiters.statuses_actions[0].tuple},statusIdActionAllUsers:function(){return this.rateLimiters.status_id_action?this.rateLimiters.status_id_action.tuple:[null,null]},statusIdActionAuthUsers:function(){return!!Array.isArray(this.rateLimiters.status_id_action)&&this.rateLimiters.status_id_action[1].tuple},statusIdActionUnauthUsers:function(){return!!Array.isArray(this.rateLimiters.status_id_action)&&this.rateLimiters.status_id_action[0].tuple},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{parseRateLimiter:function(t,e,a,i,s){if("oneLimit"===i){var n="scale"===a?{tuple:[t,s[1]]}:{tuple:[s[0],t]};this.updateSetting(n,"rate_limit",e)}else if("authUserslimit"===i){var l="scale"===a?[{tuple:[s[0][0],s[0][1]]},{tuple:[t,s[1][1]]}]:[{tuple:[s[0][0],s[0][1]]},{tuple:[s[1][0],t]}];this.updateSetting(l,"rate_limit",e)}else if("unauthUsersLimit"===i){var r="scale"===a?[{tuple:[t,s[0][1]]},{tuple:[s[1][0],s[1][1]]}]:[{tuple:[s[0][0],t]},{tuple:[s[1][0],s[1][1]]}];this.updateSetting(r,"rate_limit",e)}},toggleLimits:function(t,e){this.updateSetting(t,"rate_limit",e)},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},ft=(a("WvM+"),Object(c.a)(dt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"rateLimiters",attrs:{model:t.rateLimiters,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Search:"}},[t.searchLimitAuthUsers?t._e():a("div",[a("el-input",{staticClass:"scale-input",attrs:{value:t.searchLimitAllUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"search","scale","oneLimit",t.searchLimitAllUsers)}}}),t._v(" :\n      "),a("el-input",{staticClass:"limit-input",attrs:{value:t.searchLimitAllUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"search","limit","oneLimit",t.searchLimitAllUsers)}}}),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){return t.toggleLimits([{tuple:[null,null]},{tuple:[null,null]}],"search")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set different limits for unauthenticated and authenticated users")])],1)],1),t._v(" "),t.searchLimitAuthUsers?a("div",[a("el-form-item",{attrs:{label:"Authenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.searchLimitAuthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"search","scale","authUserslimit",[t.searchLimitUnauthUsers,t.searchLimitAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.searchLimitAuthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"search","limit","authUserslimit",[t.searchLimitUnauthUsers,t.searchLimitAuthUsers])}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Unauthenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.searchLimitUnauthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"search","scale","unauthUsersLimit",[t.searchLimitUnauthUsers,t.searchLimitAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.searchLimitUnauthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"search","limit","unauthUsersLimit",[t.searchLimitUnauthUsers,t.searchLimitAuthUsers])}}})],1),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.toggleLimits({tuple:[null,null]},"search")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set limit for all users")])],1)],1):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"App account creation:"}},[t.appAccountCreationAuthUsers?t._e():a("div",[a("el-input",{staticClass:"scale-input",attrs:{value:t.appAccountCreationAllUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"app_account_creation","scale","oneLimit",t.appAccountCreationAllUsers)}}}),t._v(" :\n      "),a("el-input",{staticClass:"limit-input",attrs:{value:t.appAccountCreationAllUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"app_account_creation","limit","oneLimit",t.appAccountCreationAllUsers)}}}),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){return t.toggleLimits([{tuple:[null,null]},{tuple:[null,null]}],"app_account_creation")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set different limits for unauthenticated and authenticated users")])],1)],1),t._v(" "),t.appAccountCreationAuthUsers?a("div",[a("el-form-item",{attrs:{label:"Authenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.appAccountCreationAuthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"app_account_creation","scale","authUserslimit",[t.appAccountCreationUnauthUsers,t.appAccountCreationAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.appAccountCreationAuthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"app_account_creation","limit","authUserslimit",[t.appAccountCreationUnauthUsers,t.appAccountCreationAuthUsers])}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Unauthenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.appAccountCreationUnauthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"app_account_creation","scale","unauthUsersLimit",[t.appAccountCreationUnauthUsers,t.appAccountCreationAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.appAccountCreationUnauthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"app_account_creation","limit","unauthUsersLimit",[t.appAccountCreationUnauthUsers,t.appAccountCreationAuthUsers])}}})],1),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.toggleLimits({tuple:[null,null]},"app_account_creation")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set limit for all users")])],1)],1):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"Relations actions:"}},[t.relationsActionsAuthUsers?t._e():a("div",[a("el-input",{staticClass:"scale-input",attrs:{value:t.relationsActionsAllUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"relations_actions","scale","oneLimit",t.relationsActionsAllUsers)}}}),t._v(" :\n      "),a("el-input",{staticClass:"limit-input",attrs:{value:t.relationsActionsAllUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"relations_actions","limit","oneLimit",t.relationsActionsAllUsers)}}}),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){return t.toggleLimits([{tuple:[null,null]},{tuple:[null,null]}],"relations_actions")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set different limits for unauthenticated and authenticated users")])],1)],1),t._v(" "),t.relationsActionsAuthUsers?a("div",[a("el-form-item",{attrs:{label:"Authenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.relationsActionsAuthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"relations_actions","scale","authUserslimit",[t.relationsActionsUnauthUsers,t.relationsActionsAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.relationsActionsAuthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"relations_actions","limit","authUserslimit",[t.relationsActionsUnauthUsers,t.relationsActionsAuthUsers])}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Unauthenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.relationsActionsUnauthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"relations_actions","scale","unauthUsersLimit",[t.relationsActionsUnauthUsers,t.relationsActionsAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.relationsActionsUnauthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"relations_actions","limit","unauthUsersLimit",[t.relationsActionsUnauthUsers,t.relationsActionsAuthUsers])}}})],1),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.toggleLimits({tuple:[null,null]},"relations_actions")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set limit for all users")])],1)],1):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"Relation ID Action:"}},[t.relationIdActionAuthUsers?t._e():a("div",[a("el-input",{staticClass:"scale-input",attrs:{value:t.relationIdActionAllUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"relation_id_action","scale","oneLimit",t.relationIdActionAllUsers)}}}),t._v(" :\n      "),a("el-input",{staticClass:"limit-input",attrs:{value:t.relationIdActionAllUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"relation_id_action","limit","oneLimit",t.relationIdActionAllUsers)}}}),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){return t.toggleLimits([{tuple:[null,null]},{tuple:[null,null]}],"relation_id_action")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set different limits for unauthenticated and authenticated users")])],1)],1),t._v(" "),t.relationIdActionAuthUsers?a("div",[a("el-form-item",{attrs:{label:"Authenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.relationIdActionAuthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"relation_id_action","scale","authUserslimit",[t.relationIdActionUnauthUsers,t.relationIdActionAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.relationIdActionAuthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"relation_id_action","limit","authUserslimit",[t.relationIdActionUnauthUsers,t.relationIdActionAuthUsers])}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Unauthenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.relationIdActionUnauthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"relation_id_action","scale","unauthUsersLimit",[t.relationIdActionUnauthUsers,t.relationIdActionAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.relationIdActionUnauthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"relation_id_action","limit","unauthUsersLimit",[t.relationIdActionUnauthUsers,t.relationIdActionAuthUsers])}}})],1),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.toggleLimits({tuple:[null,null]},"relation_id_action")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set limit for all users")])],1)],1):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"Statuses actions:"}},[t.statusesActionsAuthUsers?t._e():a("div",[a("el-input",{staticClass:"scale-input",attrs:{value:t.statusesActionsAllUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"statuses_actions","scale","oneLimit",t.statusesActionsAllUsers)}}}),t._v(" :\n      "),a("el-input",{staticClass:"limit-input",attrs:{value:t.statusesActionsAllUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"statuses_actions","limit","oneLimit",t.statusesActionsAllUsers)}}}),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){return t.toggleLimits([{tuple:[null,null]},{tuple:[null,null]}],"statuses_actions")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set different limits for unauthenticated and authenticated users")])],1)],1),t._v(" "),t.statusesActionsAuthUsers?a("div",[a("el-form-item",{attrs:{label:"Authenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.statusesActionsAuthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"statuses_actions","scale","authUserslimit",[t.statusesActionsUnauthUsers,t.statusesActionsAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.statusesActionsAuthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"statuses_actions","limit","authUserslimit",[t.statusesActionsUnauthUsers,t.statusesActionsAuthUsers])}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Unauthenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.statusesActionsUnauthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"statuses_actions","scale","unauthUsersLimit",[t.statusesActionsUnauthUsers,t.statusesActionsAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.statusesActionsUnauthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"statuses_actions","limit","unauthUsersLimit",[t.statusesActionsUnauthUsers,t.statusesActionsAuthUsers])}}})],1),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.toggleLimits({tuple:[null,null]},"statuses_actions")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set limit for all users")])],1)],1):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"Status ID Action:"}},[t.statusIdActionAuthUsers?t._e():a("div",[a("el-input",{staticClass:"scale-input",attrs:{value:t.statusIdActionAllUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"status_id_action","scale","oneLimit",t.statusIdActionAllUsers)}}}),t._v(" :\n      "),a("el-input",{staticClass:"limit-input",attrs:{value:t.statusIdActionAllUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"status_id_action","limit","oneLimit",t.statusIdActionAllUsers)}}}),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){return t.toggleLimits([{tuple:[null,null]},{tuple:[null,null]}],"status_id_action")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set different limits for unauthenticated and authenticated users")])],1)],1),t._v(" "),t.statusIdActionAuthUsers?a("div",[a("el-form-item",{attrs:{label:"Authenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.statusIdActionAuthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"status_id_action","scale","authUserslimit",[t.statusIdActionUnauthUsers,t.statusIdActionAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.statusIdActionAuthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"status_id_action","limit","authUserslimit",[t.statusIdActionUnauthUsers,t.statusIdActionAuthUsers])}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Unauthenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.statusIdActionUnauthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"status_id_action","scale","unauthUsersLimit",[t.statusIdActionUnauthUsers,t.statusIdActionAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.statusIdActionUnauthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"status_id_action","limit","unauthUsersLimit",[t.statusIdActionUnauthUsers,t.statusIdActionAuthUsers])}}})],1),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.toggleLimits({tuple:[null,null]},"status_id_action")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set limit for all users")])],1)],1):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"Password reset:"}},[t.passwordResetAuthUsers?t._e():a("div",[a("el-input",{staticClass:"scale-input",attrs:{value:t.passwordResetAllUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"password_reset","scale","oneLimit",t.passwordResetAllUsers)}}}),t._v(" :\n      "),a("el-input",{staticClass:"limit-input",attrs:{value:t.passwordResetAllUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"password_reset","limit","oneLimit",t.passwordResetAllUsers)}}}),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){return t.toggleLimits([{tuple:[null,null]},{tuple:[null,null]}],"password_reset")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set different limits for unauthenticated and authenticated users")])],1)],1),t._v(" "),t.passwordResetAuthUsers?a("div",[a("el-form-item",{attrs:{label:"Authenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.passwordResetAuthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"password_reset","scale","authUserslimit",[t.passwordResetUnauthUsers,t.passwordResetAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.passwordResetAuthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"password_reset","limit","authUserslimit",[t.passwordResetUnauthUsers,t.passwordResetAuthUsers])}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Unauthenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.passwordResetUnauthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"password_reset","scale","unauthUsersLimit",[t.passwordResetUnauthUsers,t.passwordResetAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.passwordResetUnauthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"password_reset","limit","unauthUsersLimit",[t.passwordResetUnauthUsers,t.passwordResetAuthUsers])}}})],1),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.toggleLimits({tuple:[null,null]},"password_reset")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set limit for all users")])],1)],1):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"Account confirmation resend:"}},[t.accountConfirmationResendAuthUsers?t._e():a("div",[a("el-input",{staticClass:"scale-input",attrs:{value:t.accountConfirmationResendAllUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"account_confirmation_resend","scale","oneLimit",t.accountConfirmationResendAllUsers)}}}),t._v(" :\n      "),a("el-input",{staticClass:"limit-input",attrs:{value:t.accountConfirmationResendAllUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"account_confirmation_resend","limit","oneLimit",t.accountConfirmationResendAllUsers)}}}),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){return t.toggleLimits([{tuple:[null,null]},{tuple:[null,null]}],"account_confirmation_resend")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set different limits for unauthenticated and authenticated users")])],1)],1),t._v(" "),t.accountConfirmationResendAuthUsers?a("div",[a("el-form-item",{attrs:{label:"Authenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.accountConfirmationResendAuthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"account_confirmation_resend","scale","authUserslimit",[t.accountConfirmationResendUnauthUsers,t.accountConfirmationResendAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.accountConfirmationResendAuthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"account_confirmation_resend","limit","authUserslimit",[t.accountConfirmationResendUnauthUsers,t.accountConfirmationResendAuthUsers])}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Unauthenticated users:"}},[a("el-input",{staticClass:"scale-input",attrs:{value:t.accountConfirmationResendUnauthUsers[0],placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,"account_confirmation_resend","scale","unauthUsersLimit",[t.accountConfirmationResendUnauthUsers,t.accountConfirmationResendAuthUsers])}}}),t._v(" :\n        "),a("el-input",{staticClass:"limit-input",attrs:{value:t.accountConfirmationResendUnauthUsers[1],placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,"account_confirmation_resend","limit","unauthUsersLimit",[t.accountConfirmationResendUnauthUsers,t.accountConfirmationResendAuthUsers])}}})],1),t._v(" "),a("div",{staticClass:"limit-button-container"},[a("el-button",{attrs:{icon:"el-icon-minus",circle:""},on:{click:function(e){return t.toggleLimits({tuple:[null,null]},"account_confirmation_resend")}}}),t._v(" "),a("p",{staticClass:"expl limit-expl"},[t._v("Set limit for all users")])],1)],1):t._e()]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)},[],!1,null,null,null));ft.options.__file="RateLimiters.vue";var vt=ft.exports,ht={name:"Upload",computed:l()({},Object(r.b)(["uploadAnonymizeFilenameConfig","uploadConfig","uploadFilterMogrifyConfig","uploadersLocalConfig","uploadMDIIConfig","uploadS3Config"]),{inlineContentTypes:function(){return Array.isArray(this.upload.proxy_opts.inline_content_types)?"whitelistedTypeArray":this.upload.proxy_opts.inline_content_types},http:function(){return this.upload.proxy_opts.http||{}},upload:function(){return this.uploadConfig},uploadersLocal:function(){return this.uploadersLocalConfig},uploadAnonymizeFilename:function(){return this.uploadAnonymizeFilenameConfig},uploadFilterMogrify:function(){return this.uploadFilterMogrifyConfig},uploadMDII:function(){return this.uploadMDIIConfig},uploadS3:function(){return this.uploadS3Config},hackneyPoolsOptions:function(){return k.hackneyPoolsOptions},whitelistedContentTypes:function(){return Array.isArray(this.upload.proxy_opts.inline_content_types)?this.upload.proxy_opts.inline_content_types:[]},whitelistedContentTypesOptions:function(){return k.whitelistedContentTypesOptions},mogrifyActionsOptions:function(){return k.mogrifyActionsOptions},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{getPoolExpl:function(t){var e=this.hackneyPoolsOptions.find(function(e){return e.value===t});return e?"Max connections: "+e.max_connections+", timeout: "+e.timeout:""},processHttpSettings:function(t,e,a,i,n){var r=l()({},this.uploadConfig[a][i],s()({},n,t));this.processNestedData(r,e,a,i)},processNestedData:function(t,e,a,i){var n=l()({},this.$store.state.settings.settings[e][a],s()({},i,t));this.updateSetting(n,e,a)},updateInlineContentTypes:function(){"whitelistedTypeArray"===this.$data.inlineContentTypes?this.processNestedData(this.$data.whitelistedContentTypes,"Pleroma.Upload","proxy_opts","inline_content_types"):this.processNestedData(this.$data.inlineContentTypes,"Pleroma.Upload","proxy_opts","inline_content_types")},updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},_t=(a("DPt0"),Object(c.a)(ht,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"upload",attrs:{model:t.upload,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Uploader"}},[a("el-input",{attrs:{value:t.upload.uploader},on:{input:function(e){return t.updateSetting(e,"Pleroma.Upload","uploader")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Filters"}},[a("el-select",{attrs:{value:t.upload.filters||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"Pleroma.Upload","filters")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Link name"}},[a("el-switch",{attrs:{value:t.upload.link_name},on:{change:function(e){return t.updateSetting(e,"Pleroma.Upload","link_name")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("When enabled Pleroma will add a name parameter to the url of the upload, for example\n      "),a("span",{staticClass:"code"},[t._v("https://instance.tld/media/corndog.png?name=corndog.png")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"Base URL"}},[a("el-input",{attrs:{value:t.upload.base_url},on:{input:function(e){return t.updateSetting(e,"Pleroma.Upload","base_url")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The base URL to access a user-uploaded file. Useful when you want to proxy the media files via another host")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Proxy remote"}},[a("el-switch",{attrs:{value:t.upload.proxy_remote},on:{change:function(e){return t.updateSetting(e,"Pleroma.Upload","proxy_remote")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("If you're using a remote uploader, Pleroma will proxy media requests instead of redirecting to it")])],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form-item",{attrs:{label:"Proxy options:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Redirect on failure"}},[a("el-switch",{attrs:{value:t.upload.proxy_opts.redirect_on_failure},on:{change:function(e){return t.processNestedData(e,"Pleroma.Upload","proxy_opts","redirect_on_failure")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Redirects the client to the real remote URL if there's any HTTP errors.\n      Any error during body processing will not be redirected as the response is chunked")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max body length (MB)"}},[a("el-input-number",{attrs:{value:t.upload.proxy_opts.max_body_length/1048576,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(1048576*e,"Pleroma.Upload","proxy_opts","max_body_length")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Limits the content length to be approximately the specified length")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Max read duration (s)"}},[a("el-input-number",{attrs:{value:t.upload.proxy_opts.max_read_duration,step:1,min:0,size:"large"},on:{change:function(e){return t.processNestedData(e,"Pleroma.Upload","proxy_opts","max_read_duration")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("The total time the connection is allowed to read from the remote upstream")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Inline content types"}},[a("el-select",{attrs:{value:t.inlineContentTypes},on:{change:function(e){return t.processNestedData(e,"Pleroma.Upload","proxy_opts","inline_content_types")}}},[a("el-option",{attrs:{value:!0,label:"True"}}),t._v(" "),a("el-option",{attrs:{value:!1,label:"False"}}),t._v(" "),a("el-option",{attrs:{value:"whitelistedTypeArray",label:"List of whitelisted content types"}}),t._v(" "),a("el-option",{attrs:{value:"keepUserAgent",label:"Forward client's user-agent to the upstream"}})],1),t._v(" "),!0===t.inlineContentTypes?a("p",{staticClass:"expl"},[t._v("Will not alter "),a("span",{staticClass:"code"},[t._v("content-disposition")]),t._v(" (up to the upstream)")]):t._e(),t._v(" "),t.inlineContentTypes?t._e():a("p",{staticClass:"expl"},[t._v("Will add "),a("span",{staticClass:"code"},[t._v("content-disposition: attachment")]),t._v(" to any request")]),t._v(" "),"keepUserAgent"===t.inlineContentTypes?a("p",{staticClass:"expl"},[t._v("\n        Will forward the client's user-agent to the upstream. This may be useful if the upstream is\n        doing content transformation (encoding, …) depending on the request.\n      ")]):t._e()],1),t._v(" "),"whitelistedTypeArray"===t.inlineContentTypes?a("el-form-item",{attrs:{label:"Whitelisted content types"}},[a("el-select",{attrs:{value:t.whitelistedContentTypes,multiple:""},on:{change:function(e){return t.processNestedData(e,"Pleroma.Upload","proxy_opts","inline_content_types")}}},t._l(t.whitelistedContentTypesOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Request headers"}},[a("el-select",{attrs:{value:t.upload.proxy_opts.req_headers||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.processNestedData(e,"Pleroma.Upload","proxy_opts","req_headers")}}}),t._v(" "),a("p",{staticClass:"expl"},[a("span",{staticClass:"code"},[t._v("resp_headers")]),t._v(" additional headers")])],1),t._v(" "),a("el-form-item",{attrs:{label:"HTTP:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Follow redirect"}},[a("el-switch",{attrs:{value:t.http.follow_redirect},on:{change:function(e){return t.processHttpSettings(e,"Pleroma.Upload","proxy_opts","http","follow_redirect")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Pool"}},[a("el-select",{attrs:{value:t.http.pool},on:{change:function(e){return t.processHttpSettings(e,"Pleroma.Upload","proxy_opts","http","pool")}}},t._l(t.hackneyPoolsOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("p",{staticClass:"expl"},[t._v(t._s(t.getPoolExpl(t.http.pool)))])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"uploadersLocal",attrs:{model:t.uploadersLocal,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Uploaders.Local:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Directory for user-uploads"}},[a("el-input",{attrs:{value:t.uploadersLocal.uploads},on:{input:function(e){return t.updateSetting(e,"Pleroma.Uploaders.Local","uploads")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Which directory to store the user-uploads in, relative to pleroma’s working directory")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"uploadFilterMogrify",attrs:{model:t.uploadFilterMogrify,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Actions for Mogrify"}},[a("el-select",{attrs:{value:t.uploadFilterMogrify.args||[],multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,"Pleroma.Upload.Filter.Mogrify","args")}}},t._l(t.mogrifyActionsOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"uploadAnonymizeFilename",attrs:{model:t.uploadAnonymizeFilename,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Anonymize filename"}},[a("el-input",{attrs:{value:t.uploadAnonymizeFilename.text},on:{input:function(e){return t.updateSetting(e,"Pleroma.Upload.Filter.AnonymizeFilename","text")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("Text to replace filenames in links. If empty, "),a("span",{staticClass:"code"},[t._v("{random}.extension")]),t._v(" will be used")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"uploadS3",attrs:{model:t.uploadS3,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"S3 Config:"}}),t._v(" "),a("el-form-item",{attrs:{label:"Bucket"}},[a("el-input",{attrs:{value:t.uploadS3.bucket},on:{input:function(e){return t.updateSetting(e,"Pleroma.Uploaders.S3","bucket")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("S3 bucket name")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Public endpoint"}},[a("el-input",{attrs:{value:t.uploadS3.public_endpoint},on:{input:function(e){return t.updateSetting(e,"Pleroma.Uploaders.S3","public_endpoint")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("S3 endpoint that the user finally accesses")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Truncated namespace"}},[a("el-input",{attrs:{value:t.uploadS3.truncated_namespace},on:{input:function(e){return t.updateSetting(e,"Pleroma.Uploaders.S3","truncated_namespace")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v('If you use S3 compatible service such as Digital Ocean Spaces or CDN, set folder name or "" etc.\n      For example, when using CDN to S3 virtual host format, set "".\n      At this time, write CNAME to CDN in '),a("span",{staticClass:"code"},[t._v("public_endpoint")]),t._v(".\n      ")])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"uploadMDII",attrs:{model:t.uploadMDII,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Uploaders.MDII Config:"}}),t._v(" "),a("el-form-item",{attrs:{label:"CGI"}},[a("el-input",{attrs:{value:t.uploadMDII.cgi},on:{input:function(e){return t.updateSetting(e,"Pleroma.Uploaders.MDII","cgi")}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Files"}},[a("el-input",{attrs:{value:t.uploadMDII.files},on:{input:function(e){return t.updateSetting(e,"Pleroma.Uploaders.MDII","files")}}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)],1)},[],!1,null,null,null));_t.options.__file="Upload.vue";var bt=_t.exports,gt={name:"WebPush",computed:l()({},Object(r.b)(["vapidDetailsConfig"]),{vapidDetails:function(){return this.vapidDetailsConfig},isMobile:function(){return"mobile"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"100px":"210px"}}),methods:{updateSetting:function(t,e,a){this.$store.dispatch("UpdateSettings",{tab:e,data:s()({},a,t)})},onSubmit:function(){this.$store.dispatch("SubmitChanges"),this.$message({type:"success",message:o.a.t("settings.success")})}}},yt=(a("+qaP"),Object(c.a)(gt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"vapidDetails",attrs:{model:t.vapidDetails,"label-width":t.labelWidth}},[a("el-form-item",{attrs:{label:"Subject"}},[a("el-input",{attrs:{value:t.vapidDetails.subject},on:{input:function(e){return t.updateSetting(e,"vapid_details","subject")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("A mailto link for the administrative contact. It’s best if this email is not a personal email address,\n    but rather a group email so that if a person leaves an organization, is unavailable for an extended period,\n    or otherwise can’t respond, someone else on the list can.")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Public key"}},[a("el-input",{attrs:{value:t.vapidDetails.public_key},on:{input:function(e){return t.updateSetting(e,"vapid_details","public_key")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("VAPID public key")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Private key"}},[a("el-input",{attrs:{value:t.vapidDetails.private_key},on:{input:function(e){return t.updateSetting(e,"vapid_details","private_key")}}}),t._v(" "),a("p",{staticClass:"expl"},[t._v("VAPID private key")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)},[],!1,null,null,null));yt.options.__file="WebPush.vue";var Ct={components:{ActivityPub:m,Authentication:v,AutoLinker:b,Captcha:C,Database:x,Endpoint:R,Esshd:D,Frontend:N,Gopher:I,Http:z,Instance:B,JobQueue:K,Logger:Y,Mailer:tt,MediaProxy:it,Metadata:lt,Mrf:ut,Other:mt,RateLimiters:vt,Upload:bt,WebPush:yt.exports},computed:{isMobile:function(){return"mobile"===this.$store.state.app.device},tabPosition:function(){return this.isMobile?"top":"left"}},mounted:function(){this.$store.dispatch("FetchSettings")}},wt=(a("V9mB"),Object(c.a)(Ct,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-container"},[a("h1",[t._v(t._s(t.$t("settings.settings")))]),t._v(" "),a("el-tabs",{attrs:{"tab-position":t.tabPosition}},[a("el-tab-pane",{attrs:{label:t.$t("settings.activityPub")}},[a("activity-pub")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.auth")}},[a("authentication")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.autoLinker")}},[a("auto-linker")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.esshd")}},[a("esshd")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.captcha")}},[a("captcha")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.database")}},[a("database")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.endpoint")}},[a("endpoint")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.frontend")}},[a("frontend")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.gopher")}},[a("gopher")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.http")}},[a("http")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.instance")}},[a("instance")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.jobQueue")}},[a("job-queue")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.logger")}},[a("logger")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.mailer")}},[a("mailer")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.mediaProxy")}},[a("media-proxy")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.metadata")}},[a("metadata")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.mrf")}},[a("mrf")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.rateLimiters")}},[a("rate-limiters")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.upload")}},[a("upload")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.webPush")}},[a("web-push")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$t("settings.other")}},[a("other")],1)],1)],1)},[],!1,null,"729534ce",null));wt.options.__file="index.vue";e.default=wt.exports},Zgs2:function(t,e,a){},apN7:function(t,e,a){"use strict";var i=a("9p49");a.n(i).a},cyzs:function(t,e,a){"use strict";var i=a("Px65");a.n(i).a},e0P1:function(t,e,a){"use strict";var i=a("TudB");a.n(i).a},gFOO:function(t,e,a){"use strict";var i=a("jqM2");a.n(i).a},h9z7:function(t,e,a){"use strict";var i=a("TOIk");a.n(i).a},hVXW:function(t,e,a){"use strict";var i=a("uswN");a.n(i).a},jqM2:function(t,e,a){},lNpP:function(t,e,a){"use strict";var i=a("UbP/");a.n(i).a},mADP:function(t,e,a){"use strict";var i=a("qLeA");a.n(i).a},mSK5:function(t,e,a){},qEST:function(t,e,a){"use strict";var i=a("4NUT");a.n(i).a},qLeA:function(t,e,a){},uswN:function(t,e,a){},w5cJ:function(t,e,a){"use strict";var i=a("PYLh");a.n(i).a},wgcy:function(t,e,a){},x6RV:function(t,e,a){}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{622:function(e,t,l){},623:function(e,t,l){},624:function(e,t,l){},625:function(e,t,l){},626:function(e,t,l){},627:function(e,t,l){},628:function(e,t,l){},629:function(e,t,l){},630:function(e,t,l){},631:function(e,t,l){},632:function(e,t,l){},633:function(e,t,l){},638:function(e,t,l){},639:function(e,t,l){},640:function(e,t,l){},641:function(e,t,l){},642:function(e,t,l){},643:function(e,t,l){},644:function(e,t,l){},645:function(e,t,l){},646:function(e,t,l){},647:function(e,t,l){},648:function(e,t,l){},650:function(e,t,l){"use strict";l(622)},651:function(e,t,l){"use strict";l(623)},652:function(e,t,l){"use strict";l(624)},653:function(e,t,l){"use strict";l(625)},654:function(e,t,l){"use strict";l(626)},655:function(e,t,l){"use strict";l(627)},656:function(e,t,l){"use strict";l(628)},657:function(e,t,l){},658:function(e,t,l){"use strict";l(629)},659:function(e,t,l){"use strict";l(630)},660:function(e,t,l){"use strict";l(631)},664:function(e,t,l){"use strict";l(632)},665:function(e,t,l){"use strict";l(633)},689:function(e,t,l){"use strict";l(638)},692:function(e,t,l){"use strict";l(639)},693:function(e,t,l){"use strict";l(640)},694:function(e,t,l){"use strict";l(641)},695:function(e,t,l){"use strict";l(642)},696:function(e,t,l){"use strict";l(643)},697:function(e,t,l){"use strict";l(644)},698:function(e,t,l){"use strict";l(645)},699:function(e,t,l){"use strict";l(646)},700:function(e,t,l){"use strict";l(647)},701:function(e,t,l){"use strict";l(648)},702:function(e,t,l){"use strict";l.r(t);var a=l(0);const n=["label"],s=["label"],o=["label"],c=["label"],i=["label"],r=["label"],b=["label"],u=["label"],d=["label"];var O=l(71);const p=["label"],j={class:"setting-item"},m={class:"setting-item"},h={class:"setting-item"},f={class:"setting-item"},g={class:"setting-item"},k={class:"setting-item"};var v=l(5),y=l.n(v);const w={class:"importer"},_={key:2},V=Object(a.l)(" "+Object(a.O)(" ")+" "),$={key:3},C=Object(a.l)(" "+Object(a.O)(" ")+" ");var T=l(6),x=l(3);T.c.add(x.r,x.rb);var L={props:{submitHandler:{type:Function,required:!0},submitButtonLabel:{type:String},successMessage:{type:String},errorMessage:{type:String}},data:function(){return{file:null,error:!1,success:!1,submitting:!1}},methods:{change:function(){this.file=this.$refs.input.files[0]},submit:function(){var e=this;this.dismiss(),this.submitting=!0,this.submitHandler(this.file).then((function(){e.success=!0})).catch((function(){e.error=!0})).finally((function(){e.submitting=!1}))},dismiss:function(){this.success=!1,this.error=!1}}},S=(l(650),l(4)),D=l.n(S);var P=D()(L,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("FAIcon");return Object(a.D)(),Object(a.j)("div",w,[Object(a.k)("form",null,[Object(a.k)("input",{ref:"input",type:"file",onChange:t[0]||(t[0]=(...t)=>e.change&&e.change(...t))},null,544)]),e.submitting?(Object(a.D)(),Object(a.h)(c,{key:0,class:"importer-uploading",spin:"",icon:"circle-notch"})):(Object(a.D)(),Object(a.j)("button",{key:1,class:"btn button-default",onClick:t[1]||(t[1]=(...t)=>e.submit&&e.submit(...t))},Object(a.O)(e.submitButtonLabel||e.$t("importer.submit")),1)),e.success?(Object(a.D)(),Object(a.j)("div",_,[Object(a.k)("button",{class:"button-unstyled",onClick:t[2]||(t[2]=(...t)=>e.dismiss&&e.dismiss(...t))},[Object(a.m)(c,{icon:"times"})]),V,Object(a.k)("span",null,Object(a.O)(e.successMessage||e.$t("importer.success")),1)])):e.error?(Object(a.D)(),Object(a.j)("div",$,[Object(a.k)("button",{class:"button-unstyled",onClick:t[3]||(t[3]=(...t)=>e.dismiss&&e.dismiss(...t))},[Object(a.m)(c,{icon:"times"})]),C,Object(a.k)("span",null,Object(a.O)(e.errorMessage||e.$t("importer.error")),1)])):Object(a.i)("",!0)])}]]);const U={class:"exporter"},I={key:0};T.c.add(x.r);var B={props:{getContent:{type:Function,required:!0},filename:{type:String,default:"export.csv"},exportButtonLabel:{type:String},processingMessage:{type:String}},data:function(){return{processing:!1}},methods:{process:function(){var e=this;this.processing=!0,this.getContent().then((function(t){var l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),l.setAttribute("download",e.filename),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l),setTimeout((function(){e.processing=!1}),2e3)}))}}};l(651);var F=D()(B,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("FAIcon");return Object(a.D)(),Object(a.j)("div",U,[e.processing?(Object(a.D)(),Object(a.j)("div",I,[Object(a.m)(c,{icon:"circle-notch",size:"lg",spin:""}),Object(a.k)("span",null,Object(a.O)(e.processingMessage||e.$t("exporter.processing")),1)])):(Object(a.D)(),Object(a.j)("button",{key:1,class:"btn button-default",onClick:t[0]||(t[0]=(...t)=>e.process&&e.process(...t))},Object(a.O)(e.exportButtonLabel||e.$t("exporter.export")),1))])}]]),E=l(51),A=l(8);function M(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}var R={data:function(){return{activeTab:"profile",newDomainToMute:""}},created:function(){this.$store.dispatch("fetchTokens")},components:{Importer:P,Exporter:F,Checkbox:E.a},computed:function(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?M(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):M(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}({},Object(A.e)({backendInteractor:function(e){return e.api.backendInteractor},user:function(e){return e.users.currentUser}})),methods:{getFollowsContent:function(){return this.backendInteractor.exportFriends({id:this.user.id}).then(this.generateExportableUsersContent)},getBlocksContent:function(){return this.backendInteractor.fetchBlocks().then(this.generateExportableUsersContent)},getMutesContent:function(){return this.backendInteractor.fetchMutes().then(this.generateExportableUsersContent)},importFollows:function(e){return this.backendInteractor.importFollows({file:e}).then((function(e){if(!e)throw new Error("failed")}))},importBlocks:function(e){return this.backendInteractor.importBlocks({file:e}).then((function(e){if(!e)throw new Error("failed")}))},importMutes:function(e){return this.backendInteractor.importMutes({file:e}).then((function(e){if(!e)throw new Error("failed")}))},generateExportableUsersContent:function(e){return e.map((function(e){return e&&e.is_local?e.screen_name+"@"+location.hostname:e.screen_name})).join("\n")}}};var W=D()(R,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("Importer"),i=Object(a.J)("Exporter");return Object(a.D)(),Object(a.j)("div",{label:e.$t("settings.data_import_export_tab")},[Object(a.k)("div",j,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.follow_import")),1),Object(a.k)("p",null,Object(a.O)(e.$t("settings.import_followers_from_a_csv_file")),1),Object(a.m)(c,{"submit-handler":e.importFollows,"success-message":e.$t("settings.follows_imported"),"error-message":e.$t("settings.follow_import_error")},null,8,["submit-handler","success-message","error-message"])]),Object(a.k)("div",m,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.follow_export")),1),Object(a.m)(i,{"get-content":e.getFollowsContent,filename:"friends.csv","export-button-label":e.$t("settings.follow_export_button")},null,8,["get-content","export-button-label"])]),Object(a.k)("div",h,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.block_import")),1),Object(a.k)("p",null,Object(a.O)(e.$t("settings.import_blocks_from_a_csv_file")),1),Object(a.m)(c,{"submit-handler":e.importBlocks,"success-message":e.$t("settings.blocks_imported"),"error-message":e.$t("settings.block_import_error")},null,8,["submit-handler","success-message","error-message"])]),Object(a.k)("div",f,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.block_export")),1),Object(a.m)(i,{"get-content":e.getBlocksContent,filename:"blocks.csv","export-button-label":e.$t("settings.block_export_button")},null,8,["get-content","export-button-label"])]),Object(a.k)("div",g,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.mute_import")),1),Object(a.k)("p",null,Object(a.O)(e.$t("settings.import_mutes_from_a_csv_file")),1),Object(a.m)(c,{"submit-handler":e.importMutes,"success-message":e.$t("settings.mutes_imported"),"error-message":e.$t("settings.mute_import_error")},null,8,["submit-handler","success-message","error-message"])]),Object(a.k)("div",k,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.mute_export")),1),Object(a.m)(i,{"get-content":e.getMutesContent,filename:"mutes.csv","export-button-label":e.$t("settings.mute_export_button")},null,8,["get-content","export-button-label"])])],8,p)}]]);const J=["label"],N={class:"usersearch-wrapper"},q={class:"bulk-actions"},G=["label"],H={label:"Users"},z={class:"usersearch-wrapper"},K={class:"bulk-actions"},Y=["label"],Z={class:"domain-mute-form"},Q={class:"bulk-actions"};var X=l(16),ee=l.n(X),te=l(21),le=l.n(te),ae=l(223),ne=l.n(ae);const se={class:"autosuggest"},oe=["placeholder"],ce={key:0,class:"autosuggest-results"};var ie={props:{query:{type:Function,required:!0},filter:{type:Function},placeholder:{type:String,default:"Search..."}},data:function(){return{term:"",timeout:null,results:[],resultsVisible:!1}},computed:{filtered:function(){return this.filter?this.filter(this.results):this.results}},watch:{term:function(e){this.fetchResults(e)}},methods:{fetchResults:function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.results=[],e&&t.query(e).then((function(e){t.results=e}))}),500)},onInputClick:function(){this.resultsVisible=!0},onClickOutside:function(){this.resultsVisible=!1}}};l(652);var re=D()(ie,[["render",function(e,t,l,n,s,o){const c=Object(a.K)("click-outside");return Object(a.W)((Object(a.D)(),Object(a.j)("div",se,[Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.term=t),placeholder:e.placeholder,class:"autosuggest-input",onClick:t[1]||(t[1]=(...t)=>e.onInputClick&&e.onInputClick(...t))},null,8,oe),[[a.S,e.term]]),e.resultsVisible&&e.filtered.length>0?(Object(a.D)(),Object(a.j)("div",ce,[(Object(a.D)(!0),Object(a.j)(a.a,null,Object(a.H)(e.filtered,t=>Object(a.I)(e.$slots,"default",{item:t})),256))])):Object(a.i)("",!0)])),[[c,e.onClickOutside]])}]]);const be={class:"block-card-content-container"},ue=["disabled"],de=["disabled"];var Oe=l(53),pe={props:["userId"],data:function(){return{progress:!1}},computed:{user:function(){return this.$store.getters.findUser(this.userId)},relationship:function(){return this.$store.getters.relationship(this.userId)},blocked:function(){return this.relationship.blocking}},components:{BasicUserCard:Oe.a},methods:{unblockUser:function(){var e=this;this.progress=!0,this.$store.dispatch("unblockUser",this.user.id).then((function(){e.progress=!1}))},blockUser:function(){var e=this;this.progress=!0,this.$store.dispatch("blockUser",this.user.id).then((function(){e.progress=!1}))}}};l(653);var je=D()(pe,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("basic-user-card");return Object(a.D)(),Object(a.h)(c,{user:e.user},{default:Object(a.V)(()=>[Object(a.k)("div",be,[e.blocked?(Object(a.D)(),Object(a.j)("button",{key:0,class:"btn button-default",disabled:e.progress,onClick:t[0]||(t[0]=(...t)=>e.unblockUser&&e.unblockUser(...t))},[e.progress?(Object(a.D)(),Object(a.j)(a.a,{key:0},[Object(a.l)(Object(a.O)(e.$t("user_card.unblock_progress")),1)],64)):(Object(a.D)(),Object(a.j)(a.a,{key:1},[Object(a.l)(Object(a.O)(e.$t("user_card.unblock")),1)],64))],8,ue)):(Object(a.D)(),Object(a.j)("button",{key:1,class:"btn button-default",disabled:e.progress,onClick:t[1]||(t[1]=(...t)=>e.blockUser&&e.blockUser(...t))},[e.progress?(Object(a.D)(),Object(a.j)(a.a,{key:0},[Object(a.l)(Object(a.O)(e.$t("user_card.block_progress")),1)],64)):(Object(a.D)(),Object(a.j)(a.a,{key:1},[Object(a.l)(Object(a.O)(e.$t("user_card.block")),1)],64))],8,de))])]),_:1},8,["user"])}]]);const me={class:"mute-card-content-container"},he=["disabled"],fe=["disabled"];var ge={props:["userId"],data:function(){return{progress:!1}},computed:{user:function(){return this.$store.getters.findUser(this.userId)},relationship:function(){return this.$store.getters.relationship(this.userId)},muted:function(){return this.relationship.muting}},components:{BasicUserCard:Oe.a},methods:{unmuteUser:function(){var e=this;this.progress=!0,this.$store.dispatch("unmuteUser",this.userId).then((function(){e.progress=!1}))},muteUser:function(){var e=this;this.progress=!0,this.$store.dispatch("muteUser",this.userId).then((function(){e.progress=!1}))}}};l(654);var ke=D()(ge,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("basic-user-card");return Object(a.D)(),Object(a.h)(c,{user:e.user},{default:Object(a.V)(()=>[Object(a.k)("div",me,[e.muted?(Object(a.D)(),Object(a.j)("button",{key:0,class:"btn button-default",disabled:e.progress,onClick:t[0]||(t[0]=(...t)=>e.unmuteUser&&e.unmuteUser(...t))},[e.progress?(Object(a.D)(),Object(a.j)(a.a,{key:0},[Object(a.l)(Object(a.O)(e.$t("user_card.unmute_progress")),1)],64)):(Object(a.D)(),Object(a.j)(a.a,{key:1},[Object(a.l)(Object(a.O)(e.$t("user_card.unmute")),1)],64))],8,he)):(Object(a.D)(),Object(a.j)("button",{key:1,class:"btn button-default",disabled:e.progress,onClick:t[1]||(t[1]=(...t)=>e.muteUser&&e.muteUser(...t))},[e.progress?(Object(a.D)(),Object(a.j)(a.a,{key:0},[Object(a.l)(Object(a.O)(e.$t("user_card.mute_progress")),1)],64)):(Object(a.D)(),Object(a.j)(a.a,{key:1},[Object(a.l)(Object(a.O)(e.$t("user_card.mute")),1)],64))],8,fe))])]),_:1},8,["user"])}]]);const ve={class:"domain-mute-card"},ye={class:"domain-mute-card-domain"};var we=l(103),_e={props:["domain"],components:{ProgressButton:we.a},computed:{user:function(){return this.$store.state.users.currentUser},muted:function(){return this.user.domainMutes.includes(this.domain)}},methods:{unmuteDomain:function(){return this.$store.dispatch("unmuteDomain",this.domain)},muteDomain:function(){return this.$store.dispatch("muteDomain",this.domain)}}};l(655);var Ve=D()(_e,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("ProgressButton");return Object(a.D)(),Object(a.j)("div",ve,[Object(a.k)("div",ye,Object(a.O)(e.domain),1),e.muted?(Object(a.D)(),Object(a.h)(c,{key:0,click:e.unmuteDomain,class:"btn button-default"},{progress:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("domain_mute_card.unmute_progress")),1)]),default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("domain_mute_card.unmute"))+" ",1)]),_:1},8,["click"])):(Object(a.D)(),Object(a.h)(c,{key:1,click:e.muteDomain,class:"btn button-default"},{progress:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("domain_mute_card.mute_progress")),1)]),default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("domain_mute_card.mute"))+" ",1)]),_:1},8,["click"]))])}]]);const $e={class:"selectable-list"},Ce={key:0,class:"selectable-list-header"},Te={class:"selectable-list-checkbox-wrapper"},xe={class:"selectable-list-header-actions"},Le={class:"selectable-list-checkbox-wrapper"};var Se={components:{List:l(69).a,Checkbox:E.a},props:{items:{type:Array,default:function(){return[]}},getKey:{type:Function,default:function(e){return e.id}}},data:function(){return{selected:[]}},computed:{allKeys:function(){return this.items.map(this.getKey)},filteredSelected:function(){var e=this;return this.allKeys.filter((function(t){return-1!==e.selected.indexOf(t)}))},allSelected:function(){return this.filteredSelected.length===this.items.length},noneSelected:function(){return 0===this.filteredSelected.length},someSelected:function(){return!this.allSelected&&!this.noneSelected}},methods:{isSelected:function(e){return-1!==this.filteredSelected.indexOf(this.getKey(e))},toggle:function(e,t){var l=this.getKey(t);e!==this.isSelected(l)&&(e?this.selected.push(l):this.selected.splice(this.selected.indexOf(l),1))},toggleAll:function(e){this.selected=e?this.allKeys.slice(0):[]}}};l(656);var De=D()(Se,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("Checkbox"),i=Object(a.J)("List");return Object(a.D)(),Object(a.j)("div",$e,[e.items.length>0?(Object(a.D)(),Object(a.j)("div",Ce,[Object(a.k)("div",Te,[Object(a.m)(c,{"model-value":e.allSelected,indeterminate:e.someSelected,"onUpdate:modelValue":e.toggleAll},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("selectable_list.select_all")),1)]),_:1},8,["model-value","indeterminate","onUpdate:modelValue"])]),Object(a.k)("div",xe,[Object(a.I)(e.$slots,"header",{selected:e.filteredSelected})])])):Object(a.i)("",!0),Object(a.m)(i,{items:e.items,"get-key":e.getKey},{item:Object(a.V)(({item:t})=>[Object(a.k)("div",{class:Object(a.w)(["selectable-list-item-inner",{"selectable-list-item-selected-inner":e.isSelected(t)}])},[Object(a.k)("div",Le,[Object(a.m)(c,{"model-value":e.isSelected(t),"onUpdate:modelValue":l=>e.toggle(l,t)},null,8,["model-value","onUpdate:modelValue"])]),Object(a.I)(e.$slots,"item",{item:t})],2)]),empty:Object(a.V)(()=>[Object(a.I)(e.$slots,"empty")]),_:3},8,["items","get-key"])])}]]),Pe=l(12),Ue=l.n(Pe),Ie=l(298),Be=l.n(Ie),Fe=l(299),Ee=(l(657),l(68));function Ae(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function Me(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Ae(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}T.c.add(x.r);var Re=function(e){var t=e.fetch,l=e.select,n=e.childPropName,s=void 0===n?"content":n,o=e.additionalPropNames,c=void 0===o?[]:o;return function(e){var n=Object.keys(Object(Fe.a)(e)).filter((function(e){return e!==s})).concat(c);return{props:[].concat(Ue()(n),["refresh"]),data:function(){return{loading:!1,error:!1}},computed:{fetchedData:function(){return l(this.$props,this.$store)}},created:function(){(this.refresh||Be()(this.fetchedData))&&this.fetchData()},methods:{fetchData:function(){var e=this;this.loading||(this.loading=!0,this.error=!1,t(this.$props,this.$store).then((function(){e.loading=!1})).catch((function(){e.error=!0,e.loading=!1})))}},render:function(){if(this.error||this.loading)return Object(a.m)("div",{class:"with-subscription-loading"},[this.error?Object(a.m)("a",{onClick:this.fetchData,class:"alert error"},[this.$t("general.generic_error")]):Object(a.m)(Ee.a,{spin:!0,icon:"circle-notch"},null)]);var t,l=Me(Me({},this.$props),{},y()({},s,this.fetchedData)),n=this.$slots;return Object(a.m)("div",{class:"with-subscription"},[Object(a.m)(e,l,(t=n,"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!Object(a.t)(t)?n:{default:function(){return[n]}}))])}}}},We=Re({fetch:function(e,t){return t.dispatch("fetchBlocks")},select:function(e,t){return ee()(t.state.users.currentUser,"blockIds",[])},childPropName:"items"})(De),Je=Re({fetch:function(e,t){return t.dispatch("fetchMutes")},select:function(e,t){return ee()(t.state.users.currentUser,"muteIds",[])},childPropName:"items"})(De),Ne=Re({fetch:function(e,t){return t.dispatch("fetchDomainMutes")},select:function(e,t){return ee()(t.state.users.currentUser,"domainMutes",[])},childPropName:"items"})(De),qe={data:function(){return{activeTab:"profile"}},created:function(){this.$store.dispatch("fetchTokens"),this.$store.dispatch("getKnownDomains")},components:{TabSwitcher:O.a,BlockList:We,MuteList:Je,DomainMuteList:Ne,BlockCard:je,MuteCard:ke,DomainMuteCard:Ve,ProgressButton:we.a,Autosuggest:re,Checkbox:E.a},computed:{knownDomains:function(){return this.$store.state.instance.knownDomains},user:function(){return this.$store.state.users.currentUser}},methods:{importFollows:function(e){return this.$store.state.api.backendInteractor.importFollows({file:e}).then((function(e){if(!e)throw new Error("failed")}))},importBlocks:function(e){return this.$store.state.api.backendInteractor.importBlocks({file:e}).then((function(e){if(!e)throw new Error("failed")}))},generateExportableUsersContent:function(e){return e.map((function(e){return e&&e.is_local?e.screen_name+"@"+location.hostname:e.screen_name})).join("\n")},activateTab:function(e){this.activeTab=e},filterUnblockedUsers:function(e){var t=this;return ne()(e,(function(e){return t.$store.getters.relationship(t.userId).blocking||e===t.user.id}))},filterUnMutedUsers:function(e){var t=this;return ne()(e,(function(e){return t.$store.getters.relationship(t.userId).muting||e===t.user.id}))},queryUserIds:function(e){return this.$store.dispatch("searchUsers",{query:e}).then((function(e){return le()(e,"id")}))},blockUsers:function(e){return this.$store.dispatch("blockUsers",e)},unblockUsers:function(e){return this.$store.dispatch("unblockUsers",e)},muteUsers:function(e){return this.$store.dispatch("muteUsers",e)},unmuteUsers:function(e){return this.$store.dispatch("unmuteUsers",e)},filterUnMutedDomains:function(e){var t=this;return e.filter((function(e){return!t.user.domainMutes.includes(e)}))},queryKnownDomains:function(e){var t=this;return new Promise((function(l,a){l(t.knownDomains.filter((function(t){return t.toLowerCase().includes(e)})))}))},unmuteDomains:function(e){return this.$store.dispatch("unmuteDomains",e)}}};l(658);var Ge=D()(qe,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("BlockCard"),i=Object(a.J)("Autosuggest"),r=Object(a.J)("ProgressButton"),b=Object(a.J)("BlockList"),u=Object(a.J)("MuteCard"),d=Object(a.J)("MuteList"),O=Object(a.J)("DomainMuteCard"),p=Object(a.J)("DomainMuteList"),j=Object(a.J)("tab-switcher");return Object(a.D)(),Object(a.h)(j,{"scrollable-tabs":!0,class:"mutes-and-blocks-tab"},{default:Object(a.V)(()=>[Object(a.k)("div",{label:e.$t("settings.blocks_tab")},[Object(a.k)("div",N,[Object(a.m)(i,{filter:e.filterUnblockedUsers,query:e.queryUserIds,placeholder:e.$t("settings.search_user_to_block")},{default:Object(a.V)(e=>[Object(a.m)(c,{"user-id":e.item},null,8,["user-id"])]),_:1},8,["filter","query","placeholder"])]),Object(a.m)(b,{refresh:!0,"get-key":e=>e},{header:Object(a.V)(({selected:t})=>[Object(a.k)("div",q,[t.length>0?(Object(a.D)(),Object(a.h)(r,{key:0,class:"btn button-default bulk-action-button",click:()=>e.blockUsers(t)},{progress:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("user_card.block_progress")),1)]),default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("user_card.block"))+" ",1)]),_:2},1032,["click"])):Object(a.i)("",!0),t.length>0?(Object(a.D)(),Object(a.h)(r,{key:1,class:"btn button-default",click:()=>e.unblockUsers(t)},{progress:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("user_card.unblock_progress")),1)]),default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("user_card.unblock"))+" ",1)]),_:2},1032,["click"])):Object(a.i)("",!0)])]),item:Object(a.V)(({item:e})=>[Object(a.m)(c,{"user-id":e},null,8,["user-id"])]),empty:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.no_blocks")),1)]),_:1},8,["get-key"])],8,J),Object(a.k)("div",{label:e.$t("settings.mutes_tab")},[Object(a.m)(j,null,{default:Object(a.V)(()=>[Object(a.k)("div",H,[Object(a.k)("div",z,[Object(a.m)(i,{filter:e.filterUnMutedUsers,query:e.queryUserIds,placeholder:e.$t("settings.search_user_to_mute")},{default:Object(a.V)(e=>[Object(a.m)(u,{"user-id":e.item},null,8,["user-id"])]),_:1},8,["filter","query","placeholder"])]),Object(a.m)(d,{refresh:!0,"get-key":e=>e},{header:Object(a.V)(({selected:t})=>[Object(a.k)("div",K,[t.length>0?(Object(a.D)(),Object(a.h)(r,{key:0,class:"btn button-default",click:()=>e.muteUsers(t)},{progress:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("user_card.mute_progress")),1)]),default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("user_card.mute"))+" ",1)]),_:2},1032,["click"])):Object(a.i)("",!0),t.length>0?(Object(a.D)(),Object(a.h)(r,{key:1,class:"btn button-default",click:()=>e.unmuteUsers(t)},{progress:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("user_card.unmute_progress")),1)]),default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("user_card.unmute"))+" ",1)]),_:2},1032,["click"])):Object(a.i)("",!0)])]),item:Object(a.V)(({item:e})=>[Object(a.m)(u,{"user-id":e},null,8,["user-id"])]),empty:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.no_mutes")),1)]),_:1},8,["get-key"])]),Object(a.k)("div",{label:e.$t("settings.domain_mutes")},[Object(a.k)("div",Z,[Object(a.m)(i,{filter:e.filterUnMutedDomains,query:e.queryKnownDomains,placeholder:e.$t("settings.type_domains_to_mute")},{default:Object(a.V)(e=>[Object(a.m)(O,{domain:e.item},null,8,["domain"])]),_:1},8,["filter","query","placeholder"])]),Object(a.m)(p,{refresh:!0,"get-key":e=>e},{header:Object(a.V)(({selected:t})=>[Object(a.k)("div",Q,[t.length>0?(Object(a.D)(),Object(a.h)(r,{key:0,class:"btn button-default",click:()=>e.unmuteDomains(t)},{progress:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("domain_mute_card.unmute_progress")),1)]),default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("domain_mute_card.unmute"))+" ",1)]),_:2},1032,["click"])):Object(a.i)("",!0)])]),item:Object(a.V)(({item:e})=>[Object(a.m)(O,{domain:e},null,8,["domain"])]),empty:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.no_mutes")),1)]),_:1},8,["get-key"])],8,Y)]),_:1})],8,G)]),_:1})}]]);const He=["label"],ze={class:"setting-item"},Ke={class:"setting-list"},Ye={class:"select-multiple"},Ze={class:"label"},Qe={class:"option-list"},Xe={key:0,class:"setting-item"},et={class:"setting-list"},tt={class:"setting-item"};const lt={key:0,class:"BooleanSetting"},at={key:0,class:"label"},nt=Object(a.l)(" "+Object(a.O)(" ")+" ");var st=l(619),ot=l.n(st),ct=l(38),it=l.n(ct);const rt={key:0,class:"ModifiedIndicator"},bt=Object(a.l)("   "),ut={class:"modified-tooltip"};var dt=l(24);T.c.add(x.yb);var Ot={components:{Popover:dt.default},props:["changed"]};l(659);var pt=D()(Ot,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("FAIcon"),i=Object(a.J)("Popover");return l.changed?(Object(a.D)(),Object(a.j)("span",rt,[Object(a.m)(i,{trigger:"hover"},{trigger:Object(a.V)(()=>[bt,Object(a.m)(c,{icon:"wrench","aria-label":e.$t("settings.setting_changed")},null,8,["aria-label"])]),content:Object(a.V)(()=>[Object(a.k)("div",ut,Object(a.O)(e.$t("settings.setting_changed")),1)]),_:1})])):Object(a.i)("",!0)}]]);const jt={key:0,class:"ServerSideIndicator"},mt=Object(a.l)("   "),ht={class:"serverside-tooltip"};T.c.add(x.eb);var ft={components:{Popover:dt.default},props:["serverSide"]};l(660);var gt=D()(ft,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("FAIcon"),i=Object(a.J)("Popover");return l.serverSide?(Object(a.D)(),Object(a.j)("span",jt,[Object(a.m)(i,{trigger:"hover"},{trigger:Object(a.V)(()=>[mt,Object(a.m)(c,{icon:"server","aria-label":e.$t("settings.setting_server_side")},null,8,["aria-label"])]),content:Object(a.V)(()=>[Object(a.k)("div",ht,Object(a.O)(e.$t("settings.setting_server_side")),1)]),_:1})])):Object(a.i)("",!0)}]]),kt={components:{Checkbox:E.a,ModifiedIndicator:pt,ServerSideIndicator:gt},props:["path","disabled","expert"],computed:{pathDefault:function(){var e=this.path.split("."),t=ot()(e),l=t[0],a=t.slice(1);return[l+"DefaultValue"].concat(Ue()(a)).join(".")},state:function(){var e=ee()(this.$parent,this.path);return void 0===e?this.defaultState:e},defaultState:function(){return ee()(this.$parent,this.pathDefault)},isServerSide:function(){return this.path.startsWith("serverSide_")},isChanged:function(){return!this.path.startsWith("serverSide_")&&this.state!==this.defaultState},matchesExpertLevel:function(){return(this.expert||0)<=this.$parent.expertLevel}},methods:{update:function(e){it()(this.$parent,this.path,e)}}};var vt=D()(kt,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("ModifiedIndicator"),i=Object(a.J)("ServerSideIndicator"),r=Object(a.J)("Checkbox");return e.matchesExpertLevel?(Object(a.D)(),Object(a.j)("label",lt,[Object(a.m)(r,{"model-value":e.state,disabled:e.disabled,"onUpdate:modelValue":e.update},{default:Object(a.V)(()=>[e.$slots.default?(Object(a.D)(),Object(a.j)("span",at,[Object(a.I)(e.$slots,"default")])):Object(a.i)("",!0),nt,Object(a.m)(c,{changed:e.isChanged},null,8,["changed"]),Object(a.m)(i,{"server-side":e.isServerSide},null,8,["server-side"])]),_:3},8,["model-value","disabled","onUpdate:modelValue"])])):Object(a.i)("",!0)}]]),yt=l(11),wt=l.n(yt),_t=l(120),Vt=l(219);function $t(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function Ct(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):$t(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var Tt=function(){return Ct(Ct(Ct(Ct({user:function(){return this.$store.state.users.currentUser}},Object.keys(_t.b).map((function(e){return[e+"DefaultValue",function(){return this.$store.getters.defaultConfig[e]}]})).reduce((function(e,t){var l=wt()(t,2),a=l[0],n=l[1];return Ct(Ct({},e),{},y()({},a,n))}),{})),Object.keys(_t.b).map((function(e){return[e,{get:function(){return this.$store.getters.mergedConfig[e]},set:function(t){this.$store.dispatch("setOption",{name:e,value:t})}}]})).reduce((function(e,t){var l=wt()(t,2),a=l[0],n=l[1];return Ct(Ct({},e),{},y()({},a,n))}),{})),Object.keys(Vt.b).map((function(e){return["serverSide_"+e,{get:function(){return this.$store.state.serverSideConfig[e]},set:function(t){this.$store.dispatch("setServerSideOption",{name:e,value:t})}}]})).reduce((function(e,t){var l=wt()(t,2),a=l[0],n=l[1];return Ct(Ct({},e),{},y()({},a,n))}),{})),{},{useStreamingApi:{get:function(){return this.$store.getters.mergedConfig.useStreamingApi},set:function(e){var t=this;(e?this.$store.dispatch("enableMastoSockets"):this.$store.dispatch("disableMastoSockets")).then((function(){t.$store.dispatch("setOption",{name:"useStreamingApi",value:e})})).catch((function(e){console.error("Failed starting MastoAPI Streaming socket",e),t.$store.dispatch("disableMastoSockets"),t.$store.dispatch("setOption",{name:"useStreamingApi",value:!1})}))}}})};function xt(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}var Lt={data:function(){return{activeTab:"profile",notificationSettings:this.$store.state.users.currentUser.notification_settings,newDomainToMute:""}},components:{BooleanSetting:vt},computed:function(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):xt(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}({user:function(){return this.$store.state.users.currentUser}},Tt()),methods:{updateNotificationSettings:function(){this.$store.state.api.backendInteractor.updateNotificationSettings({settings:this.notificationSettings})}}};var St=D()(Lt,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("BooleanSetting");return Object(a.D)(),Object(a.j)("div",{label:e.$t("settings.notifications")},[Object(a.k)("div",ze,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.notification_setting_filters")),1),Object(a.k)("ul",Ke,[Object(a.k)("li",null,[Object(a.m)(c,{path:"serverSide_blockNotificationsFromStrangers"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.notification_setting_block_from_strangers")),1)]),_:1})]),Object(a.k)("li",Ye,[Object(a.k)("span",Ze,Object(a.O)(e.$t("settings.notification_visibility")),1),Object(a.k)("ul",Qe,[Object(a.k)("li",null,[Object(a.m)(c,{path:"notificationVisibility.likes"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.notification_visibility_likes")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"notificationVisibility.repeats"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.notification_visibility_repeats")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"notificationVisibility.follows"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.notification_visibility_follows")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"notificationVisibility.mentions"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.notification_visibility_mentions")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"notificationVisibility.moves"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.notification_visibility_moves")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"notificationVisibility.emojiReactions"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.notification_visibility_emoji_reactions")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"notificationVisibility.polls"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.notification_visibility_polls")),1)]),_:1})])])])])]),e.expertLevel>0?(Object(a.D)(),Object(a.j)("div",Xe,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.notification_setting_privacy")),1),Object(a.k)("ul",et,[Object(a.k)("li",null,[Object(a.m)(c,{path:"webPushNotifications",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.enable_web_push_notifications")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"serverSide_webPushHideContents",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.notification_setting_hide_notification_contents")),1)]),_:1})])])])):Object(a.i)("",!0),Object(a.k)("div",tt,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.notification_mutes")),1),Object(a.k)("p",null,Object(a.O)(e.$t("settings.notification_blocks")),1)])],8,He)}]]);const Dt=["label"],Pt={class:"setting-item"},Ut={class:"setting-list"},It={key:0,class:"setting-item"},Bt={class:"setting-list"};var Ft=l(661),Et=l.n(Ft),At=l(48),Mt=l.n(At);const Rt={key:0,class:"ChoiceSetting"},Wt=Object(a.l)(" "+Object(a.O)(" ")+" "),Jt=["value"];var Nt=l(52),qt={components:{Select:Nt.a,ModifiedIndicator:pt,ServerSideIndicator:gt},props:["path","disabled","options","expert"],computed:{pathDefault:function(){var e=this.path.split("."),t=ot()(e),l=t[0],a=t.slice(1);return[l+"DefaultValue"].concat(Ue()(a)).join(".")},state:function(){var e=ee()(this.$parent,this.path);return void 0===e?this.defaultState:e},defaultState:function(){return ee()(this.$parent,this.pathDefault)},isServerSide:function(){return this.path.startsWith("serverSide_")},isChanged:function(){return!this.path.startsWith("serverSide_")&&this.state!==this.defaultState},matchesExpertLevel:function(){return(this.expert||0)<=this.$parent.expertLevel}},methods:{update:function(e){it()(this.$parent,this.path,e)}}};l(664);var Gt=D()(qt,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("Select"),i=Object(a.J)("ModifiedIndicator"),r=Object(a.J)("ServerSideIndicator");return e.matchesExpertLevel?(Object(a.D)(),Object(a.j)("label",Rt,[Object(a.I)(e.$slots,"default"),Wt,Object(a.m)(c,{"model-value":e.state,disabled:e.disabled,"onUpdate:modelValue":e.update},{default:Object(a.V)(()=>[(Object(a.D)(!0),Object(a.j)(a.a,null,Object(a.H)(e.options,t=>(Object(a.D)(),Object(a.j)("option",{key:t.key,value:t.value},Object(a.O)(t.label)+" "+Object(a.O)(t.value===e.defaultState?e.$t("settings.instance_default_simple"):""),9,Jt))),128))]),_:1},8,["model-value","disabled","onUpdate:modelValue"]),Object(a.m)(i,{changed:e.isChanged},null,8,["changed"]),Object(a.m)(r,{"server-side":e.isServerSide},null,8,["server-side"])])):Object(a.i)("",!0)}]]);const Ht={key:0,class:"IntegerSetting"},zt=["for"],Kt=["id","disabled","min","value"],Yt=Object(a.l)(" "+Object(a.O)(" ")+" ");var Zt={components:{ModifiedIndicator:pt},props:{path:String,disabled:Boolean,min:Number,expert:[Number,String]},computed:{pathDefault:function(){var e=this.path.split("."),t=ot()(e),l=t[0],a=t.slice(1);return[l+"DefaultValue"].concat(Ue()(a)).join(".")},state:function(){var e=ee()(this.$parent,this.path);return void 0===e?this.defaultState:e},defaultState:function(){return ee()(this.$parent,this.pathDefault)},isChanged:function(){return this.state!==this.defaultState},matchesExpertLevel:function(){return(this.expert||0)<=this.$parent.expertLevel}},methods:{update:function(e){it()(this.$parent,this.path,parseInt(e.target.value))}}};var Qt=D()(Zt,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("ModifiedIndicator");return e.matchesExpertLevel?(Object(a.D)(),Object(a.j)("span",Ht,[Object(a.k)("label",{for:e.path},[Object(a.I)(e.$slots,"default")],8,zt),Object(a.k)("input",{id:e.path,class:"number-input",type:"number",step:"1",disabled:e.disabled,min:e.min||0,value:e.state,onChange:t[0]||(t[0]=(...t)=>e.update&&e.update(...t))},null,40,Kt),Yt,Object(a.m)(c,{changed:e.isChanged},null,8,["changed"])])):Object(a.i)("",!0)}]]);function Xt(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function el(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Xt(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var tl={data:function(){var e=this;return{muteWordsStringLocal:this.$store.getters.mergedConfig.muteWords.join("\n"),replyVisibilityOptions:["all","following","self"].map((function(t){return{key:t,value:t,label:e.$t("settings.reply_visibility_".concat(t))}}))}},components:{BooleanSetting:vt,ChoiceSetting:Gt,IntegerSetting:Qt},computed:el(el({},Tt()),{},{muteWordsString:{get:function(){return this.muteWordsStringLocal},set:function(e){this.muteWordsStringLocal=e,this.$store.dispatch("setOption",{name:"muteWords",value:Mt()(e.split("\n"),(function(e){return Et()(e).length>0}))})}}}),watch:{notificationVisibility:{handler:function(e){this.$store.dispatch("setOption",{name:"notificationVisibility",value:this.$store.getters.mergedConfig.notificationVisibility})},deep:!0},replyVisibility:function(){this.$store.dispatch("queueFlushAll")}}};var ll=D()(tl,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("BooleanSetting"),i=Object(a.J)("ChoiceSetting"),r=Object(a.J)("IntegerSetting");return Object(a.D)(),Object(a.j)("div",{label:e.$t("settings.filtering")},[Object(a.k)("div",Pt,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.posts")),1),Object(a.k)("ul",Ut,[Object(a.k)("li",null,[Object(a.m)(c,{path:"hideFilteredStatuses"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_filtered_statuses")),1)]),_:1}),Object(a.k)("ul",{class:Object(a.w)(["setting-list suboptions",[{disabled:!e.streaming}]])},[Object(a.k)("li",null,[Object(a.m)(c,{disabled:e.hideFilteredStatuses,path:"hideWordFilteredPosts"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_wordfiltered_statuses")),1)]),_:1},8,["disabled"])]),Object(a.k)("li",null,[e.user?(Object(a.D)(),Object(a.h)(c,{key:0,disabled:e.hideFilteredStatuses,path:"hideMutedThreads"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_muted_threads")),1)]),_:1},8,["disabled"])):Object(a.i)("",!0)]),Object(a.k)("li",null,[e.user?(Object(a.D)(),Object(a.h)(c,{key:0,disabled:e.hideFilteredStatuses,path:"hideMutedPosts"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_muted_posts")),1)]),_:1},8,["disabled"])):Object(a.i)("",!0)])],2)]),Object(a.k)("li",null,[Object(a.m)(c,{path:"muteBotStatuses"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.mute_bot_posts")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"hidePostStats"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_post_stats")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"hideBotIndication"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_bot_indication")),1)]),_:1})]),e.user?(Object(a.D)(),Object(a.h)(i,{key:0,id:"replyVisibility",path:"replyVisibility",options:e.replyVisibilityOptions},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.replies_in_timeline")),1)]),_:1},8,["options"])):Object(a.i)("",!0),Object(a.k)("li",null,[Object(a.k)("h3",null,Object(a.O)(e.$t("settings.wordfilter")),1),Object(a.W)(Object(a.k)("textarea",{id:"muteWords","onUpdate:modelValue":t[0]||(t[0]=t=>e.muteWordsString=t),class:"resize-height"},null,512),[[a.S,e.muteWordsString]]),Object(a.k)("div",null,Object(a.O)(e.$t("settings.filtering_explanation")),1)]),Object(a.k)("h3",null,Object(a.O)(e.$t("settings.attachments")),1),Object(a.k)("li",null,[Object(a.m)(r,{path:"maxThumbnails",expert:"1",min:0},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.max_thumbnails")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"hideAttachments"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_attachments_in_tl")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(c,{path:"hideAttachmentsInConv"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_attachments_in_convo")),1)]),_:1})])])]),e.expertLevel>0?(Object(a.D)(),Object(a.j)("div",It,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.user_profiles")),1),Object(a.k)("ul",Bt,[Object(a.k)("li",null,[Object(a.m)(c,{path:"hideUserStats"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_user_stats")),1)]),_:1})])])])):Object(a.i)("",!0)],8,Dt)}]]);const al=["label"],nl={class:"setting-item"},sl={key:0},ol={class:"setting-item"},cl={key:0},il={key:1},rl={key:2},bl={class:"setting-item"},ul={class:"oauth-tokens"},dl=Object(a.k)("th",null,null,-1),Ol={class:"actions"},pl=["onClick"],jl={class:"setting-item"},ml={key:0},hl={key:1},fl={key:2},gl={key:3};const kl={key:0,class:"setting-item mfa-settings"},vl={class:"mfa-heading"},yl={key:0,class:"setting-item"},wl=Object(a.k)("br",null,null,-1),_l={key:0},Vl={key:2},$l={class:"warning"},Cl={key:1},Tl={key:0},xl={key:1},Ll={class:"setup-otp"},Sl={class:"qr-code"},Dl={class:"verify"},Pl={class:"confirm-otp-actions"},Ul={key:0,class:"alert error"};var Il=l(13),Bl=l.n(Il),Fl=l(10),El=l.n(Fl);const Al={class:"mfa-backup-codes"},Ml={key:0},Rl={key:1},Wl={class:"alert warning"},Jl={class:"backup-codes"};var Nl={props:{backupCodes:{type:Object,default:function(){return{inProgress:!1,codes:[]}}}},data:function(){return{}},computed:{inProgress:function(){return this.backupCodes.inProgress},ready:function(){return this.backupCodes.codes.length>0},displayTitle:function(){return this.inProgress||this.ready}}};l(665);var ql=D()(Nl,[["render",function(e,t,l,n,s,o){return Object(a.D)(),Object(a.j)("div",Al,[e.displayTitle?(Object(a.D)(),Object(a.j)("h4",Ml,Object(a.O)(e.$t("settings.mfa.recovery_codes")),1)):Object(a.i)("",!0),e.inProgress?(Object(a.D)(),Object(a.j)("i",Rl,Object(a.O)(e.$t("settings.mfa.waiting_a_recovery_codes")),1)):Object(a.i)("",!0),e.ready?(Object(a.D)(),Object(a.j)(a.a,{key:2},[Object(a.k)("p",Wl,Object(a.O)(e.$t("settings.mfa.recovery_codes_warning")),1),Object(a.k)("ul",Jl,[(Object(a.D)(!0),Object(a.j)(a.a,null,Object(a.H)(e.backupCodes.codes,e=>(Object(a.D)(),Object(a.j)("li",{key:e},Object(a.O)(e),1))),128))])],64)):Object(a.i)("",!0)])}]]);const Gl={class:"method-item"},Hl=["disabled"],zl={key:1,class:"alert error"};const Kl=["disabled"],Yl=["disabled"];var Zl={props:["disabled"],data:function(){return{}},methods:{confirm:function(){this.$emit("confirm")},cancel:function(){this.$emit("cancel")}}};var Ql=D()(Zl,[["render",function(e,t,l,n,s,o){return Object(a.D)(),Object(a.j)("div",null,[Object(a.I)(e.$slots,"default"),Object(a.k)("button",{class:"btn button-default",disabled:e.disabled,onClick:t[0]||(t[0]=(...t)=>e.confirm&&e.confirm(...t))},Object(a.O)(e.$t("general.confirm")),9,Kl),Object(a.k)("button",{class:"btn button-default",disabled:e.disabled,onClick:t[1]||(t[1]=(...t)=>e.cancel&&e.cancel(...t))},Object(a.O)(e.$t("general.cancel")),9,Yl)])}]]);function Xl(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}var ea={props:["settings"],data:function(){return{error:!1,currentPassword:"",deactivate:!1,inProgress:!1}},components:{confirm:Ql},computed:function(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Xl(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}({isActivated:function(){return this.settings.totp}},Object(A.e)({backendInteractor:function(e){return e.api.backendInteractor}})),methods:{doActivate:function(){this.$emit("activate")},cancelDeactivate:function(){this.deactivate=!1},doDeactivate:function(){this.error=null,this.deactivate=!0},confirmDeactivate:function(){var e=this;this.error=null,this.inProgress=!0,this.backendInteractor.mfaDisableOTP({password:this.currentPassword}).then((function(t){e.inProgress=!1,t.error?e.error=t.error:(e.deactivate=!1,e.$emit("deactivate"))}))}}};function ta(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}var la={data:function(){return{settings:{available:!1,enabled:!1,totp:!1},setupState:{state:"",setupOTPState:""},backupCodes:{getNewCodes:!1,inProgress:!1,codes:[]},otpSettings:{provisioning_uri:"",key:""},currentPassword:null,otpConfirmToken:null,error:null,readyInit:!1}},components:{"recovery-codes":ql,"totp-item":D()(ea,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("confirm");return Object(a.D)(),Object(a.j)("div",null,[Object(a.k)("div",Gl,[Object(a.k)("strong",null,Object(a.O)(e.$t("settings.mfa.otp")),1),e.isActivated?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("button",{key:0,class:"btn button-default",onClick:t[0]||(t[0]=(...t)=>e.doActivate&&e.doActivate(...t))},Object(a.O)(e.$t("general.enable")),1)),e.isActivated?(Object(a.D)(),Object(a.j)("button",{key:1,class:"btn button-default",disabled:e.deactivate,onClick:t[1]||(t[1]=(...t)=>e.doDeactivate&&e.doDeactivate(...t))},Object(a.O)(e.$t("general.disable")),9,Hl)):Object(a.i)("",!0)]),e.deactivate?(Object(a.D)(),Object(a.h)(c,{key:0,disabled:e.inProgress,onConfirm:e.confirmDeactivate,onCancel:e.cancelDeactivate},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.enter_current_password_to_confirm"))+": ",1),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.currentPassword=t),type:"password"},null,512),[[a.S,e.currentPassword]])]),_:1},8,["disabled","onConfirm","onCancel"])):Object(a.i)("",!0),e.error?(Object(a.D)(),Object(a.j)("div",zl,Object(a.O)(e.error),1)):Object(a.i)("",!0)])}]]),qrcode:l(666).a,confirm:Ql},computed:function(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ta(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}({canSetupOTP:function(){return(this.setupInProgress&&this.backupCodesPrepared||this.settings.enabled)&&!this.settings.totp&&!this.setupOTPInProgress},setupInProgress:function(){return""!==this.setupState.state&&"complete"!==this.setupState.state},setupOTPInProgress:function(){return"setupOTP"===this.setupState.state&&!this.completedOTP},prepareOTP:function(){return"prepare"===this.setupState.setupOTPState},confirmOTP:function(){return"confirm"===this.setupState.setupOTPState},completedOTP:function(){return"completed"===this.setupState.setupOTPState},backupCodesPrepared:function(){return!this.backupCodes.inProgress&&this.backupCodes.codes.length>0},confirmNewBackupCodes:function(){return this.backupCodes.getNewCodes}},Object(A.e)({backendInteractor:function(e){return e.api.backendInteractor}})),methods:{activateOTP:function(){this.settings.enabled||(this.setupState.state="getBackupcodes",this.fetchBackupCodes())},fetchBackupCodes:function(){var e=this;return this.backupCodes.inProgress=!0,this.backupCodes.codes=[],this.backendInteractor.generateMfaBackupCodes().then((function(t){e.backupCodes.codes=t.codes,e.backupCodes.inProgress=!1}))},getBackupCodes:function(){this.backupCodes.getNewCodes=!0},confirmBackupCodes:function(){var e=this;this.fetchBackupCodes().then((function(t){e.backupCodes.getNewCodes=!1}))},cancelBackupCodes:function(){this.backupCodes.getNewCodes=!1},setupOTP:function(){var e=this;this.setupState.state="setupOTP",this.setupState.setupOTPState="prepare",this.backendInteractor.mfaSetupOTP().then((function(t){e.otpSettings=t,e.setupState.setupOTPState="confirm"}))},doConfirmOTP:function(){var e=this;this.error=null,this.backendInteractor.mfaConfirmOTP({token:this.otpConfirmToken,password:this.currentPassword}).then((function(t){t.error?e.error=t.error:e.completeSetup()}))},completeSetup:function(){this.setupState.setupOTPState="complete",this.setupState.state="complete",this.currentPassword=null,this.error=null,this.fetchSettings()},cancelSetup:function(){this.setupState.setupOTPState="",this.setupState.state="",this.currentPassword=null,this.error=null},fetchSettings:function(){var e=this;return Bl()(El.a.mark((function t(){var l;return El.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.backendInteractor.settingsMFA();case 2:if(!(l=t.sent).error){t.next=5;break}return t.abrupt("return");case 5:return e.settings=l.settings,e.settings.available=!0,t.abrupt("return",l);case 8:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;this.fetchSettings().then((function(){e.readyInit=!0}))}};l(689);var aa=D()(la,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("totp-item"),i=Object(a.J)("recovery-codes"),r=Object(a.J)("confirm"),b=Object(a.J)("qrcode");return e.readyInit&&e.settings.available?(Object(a.D)(),Object(a.j)("div",kl,[Object(a.k)("div",vl,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.mfa.title")),1)]),Object(a.k)("div",null,[e.setupInProgress?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("div",yl,[Object(a.k)("h3",null,Object(a.O)(e.$t("settings.mfa.authentication_methods")),1),Object(a.m)(c,{settings:e.settings,onDeactivate:e.fetchSettings,onActivate:e.activateOTP},null,8,["settings","onDeactivate","onActivate"]),wl,e.settings.enabled?(Object(a.D)(),Object(a.j)("div",_l,[e.confirmNewBackupCodes?Object(a.i)("",!0):(Object(a.D)(),Object(a.h)(i,{key:0,"backup-codes":e.backupCodes},null,8,["backup-codes"])),e.confirmNewBackupCodes?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("button",{key:1,class:"btn button-default",onClick:t[0]||(t[0]=(...t)=>e.getBackupCodes&&e.getBackupCodes(...t))},Object(a.O)(e.$t("settings.mfa.generate_new_recovery_codes")),1)),e.confirmNewBackupCodes?(Object(a.D)(),Object(a.j)("div",Vl,[Object(a.m)(r,{disabled:e.backupCodes.inProgress,onConfirm:e.confirmBackupCodes,onCancel:e.cancelBackupCodes},{default:Object(a.V)(()=>[Object(a.k)("p",$l,Object(a.O)(e.$t("settings.mfa.warning_of_generate_new_codes")),1)]),_:1},8,["disabled","onConfirm","onCancel"])])):Object(a.i)("",!0)])):Object(a.i)("",!0)])),e.setupInProgress?(Object(a.D)(),Object(a.j)("div",Cl,[Object(a.k)("h3",null,Object(a.O)(e.$t("settings.mfa.setup_otp")),1),e.setupOTPInProgress?Object(a.i)("",!0):(Object(a.D)(),Object(a.h)(i,{key:0,"backup-codes":e.backupCodes},null,8,["backup-codes"])),e.canSetupOTP?(Object(a.D)(),Object(a.j)("button",{key:1,class:"btn button-default",onClick:t[1]||(t[1]=(...t)=>e.cancelSetup&&e.cancelSetup(...t))},Object(a.O)(e.$t("general.cancel")),1)):Object(a.i)("",!0),e.canSetupOTP?(Object(a.D)(),Object(a.j)("button",{key:2,class:"btn button-default",onClick:t[2]||(t[2]=(...t)=>e.setupOTP&&e.setupOTP(...t))},Object(a.O)(e.$t("settings.mfa.setup_otp")),1)):Object(a.i)("",!0),e.setupOTPInProgress?(Object(a.D)(),Object(a.j)(a.a,{key:3},[e.prepareOTP?(Object(a.D)(),Object(a.j)("i",Tl,Object(a.O)(e.$t("settings.mfa.wait_pre_setup_otp")),1)):Object(a.i)("",!0),e.confirmOTP?(Object(a.D)(),Object(a.j)("div",xl,[Object(a.k)("div",Ll,[Object(a.k)("div",Sl,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.mfa.scan.title")),1),Object(a.k)("p",null,Object(a.O)(e.$t("settings.mfa.scan.desc")),1),Object(a.m)(b,{value:e.otpSettings.provisioning_uri,options:{width:200}},null,8,["value"]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.mfa.scan.secret_code"))+": "+Object(a.O)(e.otpSettings.key),1)]),Object(a.k)("div",Dl,[Object(a.k)("h4",null,Object(a.O)(e.$t("general.verify")),1),Object(a.k)("p",null,Object(a.O)(e.$t("settings.mfa.verify.desc")),1),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.otpConfirmToken=t),type:"text"},null,512),[[a.S,e.otpConfirmToken]]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.enter_current_password_to_confirm"))+":",1),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.currentPassword=t),type:"password"},null,512),[[a.S,e.currentPassword]]),Object(a.k)("div",Pl,[Object(a.k)("button",{class:"btn button-default",onClick:t[5]||(t[5]=(...t)=>e.doConfirmOTP&&e.doConfirmOTP(...t))},Object(a.O)(e.$t("settings.mfa.confirm_and_enable")),1),Object(a.k)("button",{class:"btn button-default",onClick:t[6]||(t[6]=(...t)=>e.cancelSetup&&e.cancelSetup(...t))},Object(a.O)(e.$t("general.cancel")),1)]),e.error?(Object(a.D)(),Object(a.j)("div",Ul,Object(a.O)(e.error),1)):Object(a.i)("",!0)])])])):Object(a.i)("",!0)],64)):Object(a.i)("",!0)])):Object(a.i)("",!0)])])):Object(a.i)("",!0)}]]),na=l(37),sa={data:function(){return{newEmail:"",changeEmailError:!1,changeEmailPassword:"",changedEmail:!1,deletingAccount:!1,deleteAccountConfirmPasswordInput:"",deleteAccountError:!1,changePasswordInputs:["","",""],changedPassword:!1,changePasswordError:!1}},created:function(){this.$store.dispatch("fetchTokens")},components:{ProgressButton:we.a,Mfa:aa,Checkbox:E.a},computed:{user:function(){return this.$store.state.users.currentUser},pleromaBackend:function(){return this.$store.state.instance.pleromaBackend},oauthTokens:function(){var e=this;return this.$store.state.oauthTokens.tokens.map((function(t){return{id:t.id,appName:t.app_name,validUntil:new Date(t.valid_until).toLocaleDateString(na.a.internalToBrowserLocale(e.$i18n.locale))}}))}},methods:{confirmDelete:function(){this.deletingAccount=!0},deleteAccount:function(){var e=this;this.$store.state.api.backendInteractor.deleteAccount({password:this.deleteAccountConfirmPasswordInput}).then((function(t){"success"===t.status?(e.$store.dispatch("logout"),e.$router.push({name:"root"})):e.deleteAccountError=t.error}))},changePassword:function(){var e=this,t={password:this.changePasswordInputs[0],newPassword:this.changePasswordInputs[1],newPasswordConfirmation:this.changePasswordInputs[2]};this.$store.state.api.backendInteractor.changePassword(t).then((function(t){"success"===t.status?(e.changedPassword=!0,e.changePasswordError=!1,e.logout()):(e.changedPassword=!1,e.changePasswordError=t.error)}))},changeEmail:function(){var e=this,t={email:this.newEmail,password:this.changeEmailPassword};this.$store.state.api.backendInteractor.changeEmail(t).then((function(t){"success"===t.status?(e.changedEmail=!0,e.changeEmailError=!1):(e.changedEmail=!1,e.changeEmailError=t.error)}))},logout:function(){this.$store.dispatch("logout"),this.$router.replace("/")},revokeToken:function(e){window.confirm("".concat(this.$i18n.t("settings.revoke_token"),"?"))&&this.$store.dispatch("revokeToken",e)}}};var oa=D()(sa,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("mfa");return Object(a.D)(),Object(a.j)("div",{label:e.$t("settings.security_tab")},[Object(a.k)("div",nl,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.change_email")),1),Object(a.k)("div",null,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.new_email")),1),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.newEmail=t),type:"email",autocomplete:"email"},null,512),[[a.S,e.newEmail]])]),Object(a.k)("div",null,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.current_password")),1),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.changeEmailPassword=t),type:"password",autocomplete:"current-password"},null,512),[[a.S,e.changeEmailPassword]])]),Object(a.k)("button",{class:"btn button-default",onClick:t[2]||(t[2]=(...t)=>e.changeEmail&&e.changeEmail(...t))},Object(a.O)(e.$t("settings.save")),1),e.changedEmail?(Object(a.D)(),Object(a.j)("p",sl,Object(a.O)(e.$t("settings.changed_email")),1)):Object(a.i)("",!0),!1!==e.changeEmailError?(Object(a.D)(),Object(a.j)(a.a,{key:1},[Object(a.k)("p",null,Object(a.O)(e.$t("settings.change_email_error")),1),Object(a.k)("p",null,Object(a.O)(e.changeEmailError),1)],64)):Object(a.i)("",!0)]),Object(a.k)("div",ol,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.change_password")),1),Object(a.k)("div",null,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.current_password")),1),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.changePasswordInputs[0]=t),type:"password"},null,512),[[a.S,e.changePasswordInputs[0]]])]),Object(a.k)("div",null,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.new_password")),1),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.changePasswordInputs[1]=t),type:"password"},null,512),[[a.S,e.changePasswordInputs[1]]])]),Object(a.k)("div",null,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.confirm_new_password")),1),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.changePasswordInputs[2]=t),type:"password"},null,512),[[a.S,e.changePasswordInputs[2]]])]),Object(a.k)("button",{class:"btn button-default",onClick:t[6]||(t[6]=(...t)=>e.changePassword&&e.changePassword(...t))},Object(a.O)(e.$t("settings.save")),1),e.changedPassword?(Object(a.D)(),Object(a.j)("p",cl,Object(a.O)(e.$t("settings.changed_password")),1)):!1!==e.changePasswordError?(Object(a.D)(),Object(a.j)("p",il,Object(a.O)(e.$t("settings.change_password_error")),1)):Object(a.i)("",!0),e.changePasswordError?(Object(a.D)(),Object(a.j)("p",rl,Object(a.O)(e.changePasswordError),1)):Object(a.i)("",!0)]),Object(a.k)("div",bl,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.oauth_tokens")),1),Object(a.k)("table",ul,[Object(a.k)("thead",null,[Object(a.k)("tr",null,[Object(a.k)("th",null,Object(a.O)(e.$t("settings.app_name")),1),Object(a.k)("th",null,Object(a.O)(e.$t("settings.valid_until")),1),dl])]),Object(a.k)("tbody",null,[(Object(a.D)(!0),Object(a.j)(a.a,null,Object(a.H)(e.oauthTokens,t=>(Object(a.D)(),Object(a.j)("tr",{key:t.id},[Object(a.k)("td",null,Object(a.O)(t.appName),1),Object(a.k)("td",null,Object(a.O)(t.validUntil),1),Object(a.k)("td",Ol,[Object(a.k)("button",{class:"btn button-default",onClick:l=>e.revokeToken(t.id)},Object(a.O)(e.$t("settings.revoke_token")),9,pl)])]))),128))])])]),Object(a.m)(c),Object(a.k)("div",jl,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.delete_account")),1),e.deletingAccount?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("p",ml,Object(a.O)(e.$t("settings.delete_account_description")),1)),e.deletingAccount?(Object(a.D)(),Object(a.j)("div",hl,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.delete_account_instructions")),1),Object(a.k)("p",null,Object(a.O)(e.$t("login.password")),1),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[7]||(t[7]=t=>e.deleteAccountConfirmPasswordInput=t),type:"password"},null,512),[[a.S,e.deleteAccountConfirmPasswordInput]]),Object(a.k)("button",{class:"btn button-default",onClick:t[8]||(t[8]=(...t)=>e.deleteAccount&&e.deleteAccount(...t))},Object(a.O)(e.$t("settings.delete_account")),1)])):Object(a.i)("",!0),!1!==e.deleteAccountError?(Object(a.D)(),Object(a.j)("p",fl,Object(a.O)(e.$t("settings.delete_account_error")),1)):Object(a.i)("",!0),e.deleteAccountError?(Object(a.D)(),Object(a.j)("p",gl,Object(a.O)(e.deleteAccountError),1)):Object(a.i)("",!0),e.deletingAccount?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("button",{key:4,class:"btn button-default",onClick:t[9]||(t[9]=(...t)=>e.confirmDelete&&e.confirmDelete(...t))},Object(a.O)(e.$t("settings.save")),1))])],8,al)}]]);const ca={class:"profile-tab"},ia={class:"setting-item"},ra={key:0},ba={key:1},ua=["onUpdate:modelValue","placeholder"],da=["onUpdate:modelValue","placeholder"],Oa=["onClick"],pa=["disabled"],ja={class:"setting-item"},ma={class:"visibility-notice"},ha={class:"current-avatar-container"},fa=["src"],ga=["title"],ka={class:"setting-item"},va={class:"banner-background-preview"},ya=["src"],wa=["title"],_a=["src"],Va={class:"setting-item"},$a={class:"banner-background-preview"},Ca=["src"],Ta=["title"],xa=["src"],La={class:"setting-item"},Sa={class:"setting-list"};var Da=l(75),Pa=l.n(Da),Ua=l(121),Ia=l.n(Ua);const Ba={class:"image-cropper"},Fa={key:0},Ea={class:"image-cropper-image-container"},Aa=["src"],Ma={class:"image-cropper-buttons-wrapper"},Ra=["disabled","textContent"],Wa=["disabled","textContent"],Ja=["disabled","textContent"],Na=["accept"];var qa=l(28),Ga=l.n(qa),Ha=l(690),za=l.n(Ha);l(691);T.c.add(x.r);var Ka={props:{trigger:{type:[String,window.Element],required:!0},submitHandler:{type:Function,required:!0},cropperOptions:{type:Object,default:function(){return{aspectRatio:1,autoCropArea:1,viewMode:1,movable:!1,zoomable:!1,guides:!1}}},mimes:{type:String,default:"image/png, image/gif, image/jpeg, image/bmp, image/x-icon"},saveButtonLabel:{type:String},saveWithoutCroppingButtonlabel:{type:String},cancelButtonLabel:{type:String}},data:function(){return{cropper:void 0,dataUrl:void 0,filename:void 0,submitting:!1}},computed:{saveText:function(){return this.saveButtonLabel||this.$t("image_cropper.save")},saveWithoutCroppingText:function(){return this.saveWithoutCroppingButtonlabel||this.$t("image_cropper.save_without_cropping")},cancelText:function(){return this.cancelButtonLabel||this.$t("image_cropper.cancel")}},methods:{destroy:function(){this.cropper&&this.cropper.destroy(),this.$refs.input.value="",this.dataUrl=void 0,this.$emit("close")},submit:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.submitting=!0,this.submitHandler(t&&this.cropper,this.file).then((function(){return e.destroy()})).finally((function(){e.submitting=!1}))},pickImage:function(){this.$refs.input.click()},createCropper:function(){this.cropper=new za.a(this.$refs.img,this.cropperOptions)},getTriggerDOM:function(){return"object"===Ga()(this.trigger)?this.trigger:document.querySelector(this.trigger)},readFile:function(){var e=this,t=this.$refs.input;if(null!=t.files&&null!=t.files[0]){this.file=t.files[0];var l=new window.FileReader;l.onload=function(t){e.dataUrl=t.target.result,e.$emit("open")},l.readAsDataURL(this.file),this.$emit("changed",this.file,l)}}},mounted:function(){var e=this.getTriggerDOM();e?e.addEventListener("click",this.pickImage):this.$emit("error","No image make trigger found.","user"),this.$refs.input.addEventListener("change",this.readFile)},beforeUnmount:function(){var e=this.getTriggerDOM();e&&e.removeEventListener("click",this.pickImage),this.$refs.input.removeEventListener("change",this.readFile)}};l(692);var Ya=D()(Ka,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("FAIcon");return Object(a.D)(),Object(a.j)("div",Ba,[e.dataUrl?(Object(a.D)(),Object(a.j)("div",Fa,[Object(a.k)("div",Ea,[Object(a.k)("img",{ref:"img",src:e.dataUrl,alt:"",onLoad:t[0]||(t[0]=Object(a.Y)((...t)=>e.createCropper&&e.createCropper(...t),["stop"]))},null,40,Aa)]),Object(a.k)("div",Ma,[Object(a.k)("button",{class:"button-default btn",type:"button",disabled:e.submitting,onClick:t[1]||(t[1]=t=>e.submit()),textContent:Object(a.O)(e.saveText)},null,8,Ra),Object(a.k)("button",{class:"button-default btn",type:"button",disabled:e.submitting,onClick:t[2]||(t[2]=(...t)=>e.destroy&&e.destroy(...t)),textContent:Object(a.O)(e.cancelText)},null,8,Wa),Object(a.k)("button",{class:"button-default btn",type:"button",disabled:e.submitting,onClick:t[3]||(t[3]=t=>e.submit(!1)),textContent:Object(a.O)(e.saveWithoutCroppingText)},null,8,Ja),e.submitting?(Object(a.D)(),Object(a.h)(c,{key:0,spin:"",icon:"circle-notch"})):Object(a.i)("",!0)])])):Object(a.i)("",!0),Object(a.k)("input",{ref:"input",type:"file",class:"image-cropper-img-input",accept:e.mimes},null,8,Na)])}]]),Za=l(174),Qa=l(95),Xa=l(308),en=l(166),tn=l(173);function ln(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function an(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ln(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}T.c.add(x.rb,x.V,x.r);var nn={data:function(){return{newName:this.$store.state.users.currentUser.name_unescaped,newBio:Pa()(this.$store.state.users.currentUser.description),newLocked:this.$store.state.users.currentUser.locked,newFields:this.$store.state.users.currentUser.fields.map((function(e){return{name:e.name,value:e.value}})),showRole:this.$store.state.users.currentUser.show_role,role:this.$store.state.users.currentUser.role,bot:this.$store.state.users.currentUser.bot,pickAvatarBtnVisible:!0,bannerUploading:!1,backgroundUploading:!1,banner:null,bannerPreview:null,background:null,backgroundPreview:null,emailLanguage:this.$store.state.users.currentUser.language||""}},components:{ScopeSelector:Za.a,ImageCropper:Ya,EmojiInput:Xa.a,Autosuggest:re,ProgressButton:we.a,Checkbox:E.a,BooleanSetting:vt,InterfaceLanguageSwitcher:tn.a},computed:an(an({user:function(){return this.$store.state.users.currentUser}},Tt()),{},{emojiUserSuggestor:function(){return Object(en.a)({emoji:[].concat(Ue()(this.$store.state.instance.emoji),Ue()(this.$store.state.instance.customEmoji)),store:this.$store})},emojiSuggestor:function(){return Object(en.a)({emoji:[].concat(Ue()(this.$store.state.instance.emoji),Ue()(this.$store.state.instance.customEmoji))})},userSuggestor:function(){return Object(en.a)({store:this.$store})},fieldsLimits:function(){return this.$store.state.instance.fieldsLimits},maxFields:function(){return this.fieldsLimits?this.fieldsLimits.maxFields:0},defaultAvatar:function(){return this.$store.state.instance.server+this.$store.state.instance.defaultAvatar},defaultBanner:function(){return this.$store.state.instance.server+this.$store.state.instance.defaultBanner},isDefaultAvatar:function(){var e=this.$store.state.instance.defaultAvatar;return!this.$store.state.users.currentUser.profile_image_url||this.$store.state.users.currentUser.profile_image_url.includes(e)},isDefaultBanner:function(){var e=this.$store.state.instance.defaultBanner;return!this.$store.state.users.currentUser.cover_photo||this.$store.state.users.currentUser.cover_photo.includes(e)},isDefaultBackground:function(){return!this.$store.state.users.currentUser.background_image},avatarImgSrc:function(){var e=this.$store.state.users.currentUser.profile_image_url_original;return e||this.defaultAvatar},bannerImgSrc:function(){var e=this.$store.state.users.currentUser.cover_photo;return e||this.defaultBanner}}),methods:{updateProfile:function(){var e=this,t={note:this.newBio,locked:this.newLocked,display_name:this.newName,fields_attributes:this.newFields.filter((function(e){return null!=e})),bot:this.bot,show_role:this.showRole};this.emailLanguage&&(t.language=na.a.internalToBackendLocale(this.emailLanguage)),this.$store.state.api.backendInteractor.updateProfile({params:t}).then((function(t){e.newFields.splice(t.fields.length),Ia()(e.newFields,t.fields),e.$store.commit("addNewUsers",[t]),e.$store.commit("setCurrentUser",t)}))},changeVis:function(e){this.newDefaultScope=e},addField:function(){return this.newFields.length<this.maxFields&&(this.newFields.push({name:"",value:""}),!0)},deleteField:function(e,t){this.$delete(this.newFields,e)},uploadFile:function(e,t){var l=this,a=t.target.files[0];if(a)if(a.size>this.$store.state.instance[e+"limit"]){var n=Qa.a.fileSizeFormat(a.size),s=Qa.a.fileSizeFormat(this.$store.state.instance[e+"limit"]);this.$store.dispatch("pushGlobalNotice",{messageKey:"upload.error.message",messageArgs:[this.$t("upload.error.file_too_big",{filesize:n.num,filesizeunit:n.unit,allowedsize:s.num,allowedsizeunit:s.unit})],level:"error"})}else{var o=new FileReader;o.onload=function(t){var n=t.target.result;l[e+"Preview"]=n,l[e]=a},o.readAsDataURL(a)}},resetAvatar:function(){window.confirm(this.$t("settings.reset_avatar_confirm"))&&this.submitAvatar(void 0,"")},resetBanner:function(){window.confirm(this.$t("settings.reset_banner_confirm"))&&this.submitBanner("")},resetBackground:function(){window.confirm(this.$t("settings.reset_background_confirm"))&&this.submitBackground("")},submitAvatar:function(e,t){var l=this;return new Promise((function(a,n){function s(e,t){l.$store.state.api.backendInteractor.updateProfileImages({avatar:e,avatarName:t}).then((function(e){l.$store.commit("addNewUsers",[e]),l.$store.commit("setCurrentUser",e),a()})).catch((function(e){l.displayUploadError(e),n(e)}))}e?e.getCroppedCanvas().toBlob((function(e){return s(e,t.name)}),t.type):s(t,t.name)}))},submitBanner:function(e){var t=this;(this.bannerPreview||""===e)&&(this.bannerUploading=!0,this.$store.state.api.backendInteractor.updateProfileImages({banner:e}).then((function(e){t.$store.commit("addNewUsers",[e]),t.$store.commit("setCurrentUser",e),t.bannerPreview=null})).catch(this.displayUploadError).finally((function(){t.bannerUploading=!1})))},submitBackground:function(e){var t=this;(this.backgroundPreview||""===e)&&(this.backgroundUploading=!0,this.$store.state.api.backendInteractor.updateProfileImages({background:e}).then((function(e){t.$store.commit("addNewUsers",[e]),t.$store.commit("setCurrentUser",e),t.backgroundPreview=null})).catch(this.displayUploadError).finally((function(){t.backgroundUploading=!1})))},displayUploadError:function(e){this.$store.dispatch("pushGlobalNotice",{messageKey:"upload.error.message",messageArgs:[e.message],level:"error"})}}};l(693);var sn=D()(nn,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("EmojiInput"),i=Object(a.J)("Checkbox"),r=Object(a.J)("FAIcon"),b=Object(a.J)("interface-language-switcher"),u=Object(a.J)("image-cropper"),d=Object(a.J)("BooleanSetting");return Object(a.D)(),Object(a.j)("div",ca,[Object(a.k)("div",ia,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.name_bio")),1),Object(a.k)("p",null,Object(a.O)(e.$t("settings.name")),1),Object(a.m)(c,{modelValue:e.newName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newName=t),"enable-emoji-picker":"",suggest:e.emojiSuggestor},{default:Object(a.V)(()=>[Object(a.W)(Object(a.k)("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.newName=t),class:"name-changer"},null,512),[[a.S,e.newName]])]),_:1},8,["modelValue","suggest"]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.bio")),1),Object(a.m)(c,{modelValue:e.newBio,"onUpdate:modelValue":t[3]||(t[3]=t=>e.newBio=t),"enable-emoji-picker":"",suggest:e.emojiUserSuggestor},{default:Object(a.V)(()=>[Object(a.W)(Object(a.k)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.newBio=t),class:"bio resize-height"},null,512),[[a.S,e.newBio]])]),_:1},8,["modelValue","suggest"]),"admin"===e.role||"moderator"===e.role?(Object(a.D)(),Object(a.j)("p",ra,[Object(a.m)(i,{modelValue:e.showRole,"onUpdate:modelValue":t[4]||(t[4]=t=>e.showRole=t)},{default:Object(a.V)(()=>["admin"===e.role?(Object(a.D)(),Object(a.j)(a.a,{key:0},[Object(a.l)(Object(a.O)(e.$t("settings.show_admin_badge")),1)],64)):Object(a.i)("",!0),"moderator"===e.role?(Object(a.D)(),Object(a.j)(a.a,{key:1},[Object(a.l)(Object(a.O)(e.$t("settings.show_moderator_badge")),1)],64)):Object(a.i)("",!0)]),_:1},8,["modelValue"])])):Object(a.i)("",!0),e.maxFields>0?(Object(a.D)(),Object(a.j)("div",ba,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.profile_fields.label")),1),(Object(a.D)(!0),Object(a.j)(a.a,null,Object(a.H)(e.newFields,(t,l)=>(Object(a.D)(),Object(a.j)("div",{key:l,class:"profile-fields"},[Object(a.m)(c,{modelValue:e.newFields[l].name,"onUpdate:modelValue":t=>e.newFields[l].name=t,"enable-emoji-picker":"","hide-emoji-button":"",suggest:e.userSuggestor},{default:Object(a.V)(()=>[Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t=>e.newFields[l].name=t,placeholder:e.$t("settings.profile_fields.name")},null,8,ua),[[a.S,e.newFields[l].name]])]),_:2},1032,["modelValue","onUpdate:modelValue","suggest"]),Object(a.m)(c,{modelValue:e.newFields[l].value,"onUpdate:modelValue":t=>e.newFields[l].value=t,"enable-emoji-picker":"","hide-emoji-button":"",suggest:e.userSuggestor},{default:Object(a.V)(()=>[Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t=>e.newFields[l].value=t,placeholder:e.$t("settings.profile_fields.value")},null,8,da),[[a.S,e.newFields[l].value]])]),_:2},1032,["modelValue","onUpdate:modelValue","suggest"]),Object(a.k)("button",{class:"delete-field button-unstyled -hover-highlight",onClick:t=>e.deleteField(l)},[e.newFields.length>1?(Object(a.D)(),Object(a.h)(r,{key:0,icon:"times"})):Object(a.i)("",!0)],8,Oa)]))),128)),e.newFields.length<e.maxFields?(Object(a.D)(),Object(a.j)("button",{key:0,class:"add-field faint button-unstyled -hover-highlight",onClick:t[5]||(t[5]=(...t)=>e.addField&&e.addField(...t))},[Object(a.m)(r,{icon:"plus"}),Object(a.l)(" "+Object(a.O)(e.$t("settings.profile_fields.add_field")),1)])):Object(a.i)("",!0)])):Object(a.i)("",!0),Object(a.k)("p",null,[Object(a.m)(i,{modelValue:e.bot,"onUpdate:modelValue":t[6]||(t[6]=t=>e.bot=t)},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.bot")),1)]),_:1},8,["modelValue"])]),Object(a.k)("p",null,[Object(a.m)(b,{"prompt-text":e.$t("settings.email_language"),language:e.emailLanguage,"set-language":t=>e.emailLanguage=t},null,8,["prompt-text","language","set-language"])]),Object(a.k)("button",{disabled:e.newName&&0===e.newName.length,class:"btn button-default",onClick:t[7]||(t[7]=(...t)=>e.updateProfile&&e.updateProfile(...t))},Object(a.O)(e.$t("settings.save")),9,pa)]),Object(a.k)("div",ja,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.avatar")),1),Object(a.k)("p",ma,Object(a.O)(e.$t("settings.avatar_size_instruction")),1),Object(a.k)("div",ha,[Object(a.k)("img",{src:e.user.profile_image_url_original,class:"current-avatar"},null,8,fa),!e.isDefaultAvatar&&e.pickAvatarBtnVisible?(Object(a.D)(),Object(a.j)("button",{key:0,title:e.$t("settings.reset_avatar"),onClick:t[8]||(t[8]=(...t)=>e.resetAvatar&&e.resetAvatar(...t)),class:"button-unstyled reset-button"},[Object(a.m)(r,{icon:"times",type:"button"})],8,ga)):Object(a.i)("",!0)]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.set_new_avatar")),1),Object(a.W)(Object(a.k)("button",{id:"pick-avatar",class:"button-default btn",type:"button"},Object(a.O)(e.$t("settings.upload_a_photo")),513),[[a.T,e.pickAvatarBtnVisible]]),Object(a.m)(u,{trigger:"#pick-avatar","submit-handler":e.submitAvatar,onOpen:t[9]||(t[9]=t=>e.pickAvatarBtnVisible=!1),onClose:t[10]||(t[10]=t=>e.pickAvatarBtnVisible=!0)},null,8,["submit-handler"])]),Object(a.k)("div",ka,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.profile_banner")),1),Object(a.k)("div",va,[Object(a.k)("img",{src:e.user.cover_photo},null,8,ya),e.isDefaultBanner?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("button",{key:0,class:"button-unstyled reset-button",title:e.$t("settings.reset_profile_banner"),onClick:t[11]||(t[11]=(...t)=>e.resetBanner&&e.resetBanner(...t))},[Object(a.m)(r,{icon:"times",type:"button"})],8,wa))]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.set_new_profile_banner")),1),e.bannerPreview?(Object(a.D)(),Object(a.j)("img",{key:0,class:"banner-background-preview",src:e.bannerPreview},null,8,_a)):Object(a.i)("",!0),Object(a.k)("div",null,[Object(a.k)("input",{type:"file",onChange:t[12]||(t[12]=t=>e.uploadFile("banner",t))},null,32)]),e.bannerUploading?(Object(a.D)(),Object(a.h)(r,{key:1,class:"uploading",spin:"",icon:"circle-notch"})):e.bannerPreview?(Object(a.D)(),Object(a.j)("button",{key:2,class:"btn button-default",onClick:t[13]||(t[13]=t=>e.submitBanner(e.banner))},Object(a.O)(e.$t("settings.save")),1)):Object(a.i)("",!0)]),Object(a.k)("div",Va,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.profile_background")),1),Object(a.k)("div",$a,[Object(a.k)("img",{src:e.user.background_image},null,8,Ca),e.isDefaultBackground?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("button",{key:0,class:"button-unstyled reset-button",title:e.$t("settings.reset_profile_background"),onClick:t[14]||(t[14]=(...t)=>e.resetBackground&&e.resetBackground(...t))},[Object(a.m)(r,{icon:"times",type:"button"})],8,Ta))]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.set_new_profile_background")),1),e.backgroundPreview?(Object(a.D)(),Object(a.j)("img",{key:0,class:"banner-background-preview",src:e.backgroundPreview},null,8,xa)):Object(a.i)("",!0),Object(a.k)("div",null,[Object(a.k)("input",{type:"file",onChange:t[15]||(t[15]=t=>e.uploadFile("background",t))},null,32)]),e.backgroundUploading?(Object(a.D)(),Object(a.h)(r,{key:1,class:"uploading",spin:"",icon:"circle-notch"})):e.backgroundPreview?(Object(a.D)(),Object(a.j)("button",{key:2,class:"btn button-default",onClick:t[16]||(t[16]=t=>e.submitBackground(e.background))},Object(a.O)(e.$t("settings.save")),1)):Object(a.i)("",!0)]),Object(a.k)("div",La,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.account_privacy")),1),Object(a.k)("ul",Sa,[Object(a.k)("li",null,[Object(a.m)(d,{path:"serverSide_locked"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.lock_account_description")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(d,{path:"serverSide_discoverable"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.discoverable")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(d,{path:"serverSide_allowFollowingMove"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.allow_following_move")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(d,{path:"serverSide_hideFavorites"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_favorites_description")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(d,{path:"serverSide_hideFollowers"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_followers_description")),1)]),_:1}),Object(a.k)("ul",{class:Object(a.w)(["setting-list suboptions",[{disabled:!e.serverSide_hideFollowers}]])},[Object(a.k)("li",null,[Object(a.m)(d,{path:"serverSide_hideFollowersCount",disabled:!e.serverSide_hideFollowers},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_followers_count_description")),1)]),_:1},8,["disabled"])])],2)]),Object(a.k)("li",null,[Object(a.m)(d,{path:"serverSide_hideFollows"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_follows_description")),1)]),_:1}),Object(a.k)("ul",{class:Object(a.w)(["setting-list suboptions",[{disabled:!e.serverSide_hideFollows}]])},[Object(a.k)("li",null,[Object(a.m)(d,{path:"serverSide_hideFollowsCount",disabled:!e.serverSide_hideFollows},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_follows_count_description")),1)]),_:1},8,["disabled"])])],2)])])])])}]]);const on=["label"],cn={class:"setting-item"},rn={class:"setting-list"},bn={key:0},un={key:1},dn={key:2},On={class:"setting-item"},pn={class:"setting-list"},jn={key:0,class:"setting-list suboptions"},mn={class:"setting-list suboptions"},hn={key:0,class:"unavailable"},fn={class:"setting-list suboptions"},gn={key:0},kn={key:1},vn={key:2},yn={key:3},wn={key:0,class:"setting-item"},_n={class:"setting-list"},Vn={for:"default-vis"},$n={key:0};function Cn(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}T.c.add(x.I);var Tn={data:function(){var e=this;return{subjectLineOptions:["email","noop","masto"].map((function(t){return{key:t,value:t,label:e.$t("settings.subject_line_".concat("masto"===t?"mastodon":t))}})),conversationDisplayOptions:["tree","linear"].map((function(t){return{key:t,value:t,label:e.$t("settings.conversation_display_".concat(t))}})),conversationOtherRepliesButtonOptions:["below","inside"].map((function(t){return{key:t,value:t,label:e.$t("settings.conversation_other_replies_button_".concat(t))}})),mentionLinkDisplayOptions:["short","full_for_remote","full"].map((function(t){return{key:t,value:t,label:e.$t("settings.mention_link_display_".concat(t))}})),thirdColumnModeOptions:["none","notifications","postform"].map((function(t){return{key:t,value:t,label:e.$t("settings.third_column_mode_".concat(t))}})),loopSilentAvailable:Object.getOwnPropertyDescriptor(HTMLVideoElement.prototype,"mozHasAudio")||Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"webkitAudioDecodedByteCount")||Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"audioTracks")}},components:{BooleanSetting:vt,ChoiceSetting:Gt,IntegerSetting:Qt,InterfaceLanguageSwitcher:tn.a,ScopeSelector:Za.a,ServerSideIndicator:gt},computed:function(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Cn(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}({postFormats:function(){return this.$store.state.instance.postFormats||[]},postContentOptions:function(){var e=this;return this.postFormats.map((function(t){return{key:t,value:t,label:e.$t('post_status.content_type["'.concat(t,'"]'))}}))},instanceSpecificPanelPresent:function(){return this.$store.state.instance.showInstanceSpecificPanel},instanceWallpaperUsed:function(){return this.$store.state.instance.background&&!this.$store.state.users.currentUser.background_image},instanceShoutboxPresent:function(){return this.$store.state.instance.shoutAvailable},language:{get:function(){return this.$store.getters.mergedConfig.interfaceLanguage},set:function(e){this.$store.dispatch("setOption",{name:"interfaceLanguage",value:e})}}},Tt()),methods:{changeDefaultScope:function(e){this.$store.dispatch("setServerSideOption",{name:"defaultScope",value:e})}}};var xn=D()(Tn,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("interface-language-switcher"),i=Object(a.J)("BooleanSetting"),r=Object(a.J)("ChoiceSetting"),b=Object(a.J)("IntegerSetting"),u=Object(a.J)("FAIcon"),d=Object(a.J)("ServerSideIndicator"),O=Object(a.J)("ScopeSelector");return Object(a.D)(),Object(a.j)("div",{label:e.$t("settings.general")},[Object(a.k)("div",cn,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.interface")),1),Object(a.k)("ul",rn,[Object(a.k)("li",null,[Object(a.m)(c,{"prompt-text":e.$t("settings.interfaceLanguage"),language:e.language,"set-language":t=>e.language=t},null,8,["prompt-text","language","set-language"])]),e.instanceSpecificPanelPresent?(Object(a.D)(),Object(a.j)("li",bn,[Object(a.m)(i,{path:"hideISP"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_isp")),1)]),_:1})])):Object(a.i)("",!0),Object(a.k)("li",null,[Object(a.m)(i,{path:"sidebarRight"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.right_sidebar")),1)]),_:1})]),e.instanceWallpaperUsed?(Object(a.D)(),Object(a.j)("li",un,[Object(a.m)(i,{path:"hideInstanceWallpaper"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_wallpaper")),1)]),_:1})])):Object(a.i)("",!0),Object(a.k)("li",null,[Object(a.m)(i,{path:"stopGifs"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.stop_gifs")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"streaming"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.streaming")),1)]),_:1}),Object(a.k)("ul",{class:Object(a.w)(["setting-list suboptions",[{disabled:!e.streaming}]])},[Object(a.k)("li",null,[Object(a.m)(i,{path:"pauseOnUnfocused",disabled:!e.streaming},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.pause_on_unfocused")),1)]),_:1},8,["disabled"])])],2)]),Object(a.k)("li",null,[Object(a.m)(i,{path:"useStreamingApi",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.useStreamingApi")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"virtualScrolling",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.virtual_scrolling")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"disableStickyHeaders"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.disable_sticky_headers")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"showScrollbars"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.show_scrollbars")),1)]),_:1})]),Object(a.k)("li",null,[e.user?(Object(a.D)(),Object(a.h)(r,{key:0,id:"thirdColumnMode",path:"thirdColumnMode",options:e.thirdColumnModeOptions},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.third_column_mode")),1)]),_:1},8,["options"])):Object(a.i)("",!0)]),Object(a.k)("li",null,[Object(a.m)(i,{path:"minimalScopesMode"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.minimal_scopes_mode")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"sensitiveByDefault"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.sensitive_by_default")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"sensitiveIfSubject"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.sensitive_if_subject")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"alwaysShowNewPostButton",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.always_show_post_button")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"autohideFloatingPostButton",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.autohide_floating_post_button")),1)]),_:1})]),e.instanceShoutboxPresent?(Object(a.D)(),Object(a.j)("li",dn,[Object(a.m)(i,{path:"hideShoutbox",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.hide_shoutbox")),1)]),_:1})])):Object(a.i)("",!0)])]),Object(a.k)("div",On,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.post_look_feel")),1),Object(a.k)("ul",pn,[Object(a.k)("li",null,[Object(a.m)(r,{id:"conversationDisplay",path:"conversationDisplay",options:e.conversationDisplayOptions},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.conversation_display")),1)]),_:1},8,["options"])]),"linear"!==e.conversationDisplay?(Object(a.D)(),Object(a.j)("ul",jn,[Object(a.k)("li",null,[Object(a.m)(i,{path:"conversationTreeAdvanced"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.tree_advanced")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"conversationTreeFadeAncestors",expert:1},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.tree_fade_ancestors")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(b,{path:"maxDepthInThread",min:3,expert:1},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.max_depth_in_thread")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(r,{id:"conversationOtherRepliesButton",path:"conversationOtherRepliesButton",options:e.conversationOtherRepliesButtonOptions,expert:1},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.conversation_other_replies_button")),1)]),_:1},8,["options"])])])):Object(a.i)("",!0),Object(a.k)("li",null,[Object(a.m)(i,{path:"collapseMessageWithSubject"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.collapse_subject")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"emojiReactionsOnTimeline",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.emoji_reactions_on_timeline")),1)]),_:1})]),Object(a.k)("li",null,[e.user?(Object(a.D)(),Object(a.h)(i,{key:0,path:"serverSide_stripRichContent",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.no_rich_text_description")),1)]),_:1})):Object(a.i)("",!0)]),Object(a.k)("h3",null,Object(a.O)(e.$t("settings.attachments")),1),Object(a.k)("li",null,[Object(a.m)(i,{path:"useContainFit",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.use_contain_fit")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"hideNsfw"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.nsfw_clickthrough")),1)]),_:1})]),Object(a.k)("ul",mn,[Object(a.k)("li",null,[Object(a.m)(i,{path:"preloadImage",expert:"1",disabled:!e.hideNsfw},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.preload_images")),1)]),_:1},8,["disabled"])]),Object(a.k)("li",null,[Object(a.m)(i,{path:"useOneClickNsfw",expert:"1",disabled:!e.hideNsfw},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.use_one_click_nsfw")),1)]),_:1},8,["disabled"])])]),Object(a.k)("li",null,[Object(a.m)(i,{path:"loopVideo",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.loop_video")),1)]),_:1}),Object(a.k)("ul",{class:Object(a.w)(["setting-list suboptions",[{disabled:!e.streaming}]])},[Object(a.k)("li",null,[Object(a.m)(i,{path:"loopVideoSilentOnly",expert:"1",disabled:!e.loopVideo||!e.loopSilentAvailable},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.loop_video_silent_only")),1)]),_:1},8,["disabled"]),e.loopSilentAvailable?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("div",hn,[Object(a.m)(u,{icon:"globe"}),Object(a.l)("! "+Object(a.O)(e.$t("settings.limited_availability")),1)]))])],2)]),Object(a.k)("li",null,[Object(a.m)(i,{path:"playVideosInModal",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.play_videos_in_modal")),1)]),_:1})]),Object(a.k)("h3",null,Object(a.O)(e.$t("settings.mention_links")),1),Object(a.k)("li",null,[Object(a.m)(r,{id:"mentionLinkDisplay",path:"mentionLinkDisplay",options:e.mentionLinkDisplayOptions},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.mention_link_display")),1)]),_:1},8,["options"])]),Object(a.k)("ul",fn,["short"===e.mentionLinkDisplay?(Object(a.D)(),Object(a.j)("li",gn,[Object(a.m)(i,{path:"mentionLinkShowTooltip",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.mention_link_show_tooltip")),1)]),_:1})])):Object(a.i)("",!0)]),Object(a.k)("li",null,[Object(a.m)(i,{path:"useAtIcon",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.use_at_icon")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"mentionLinkShowAvatar"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.mention_link_show_avatar")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"mentionLinkFadeDomain",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.mention_link_fade_domain")),1)]),_:1})]),e.user?(Object(a.D)(),Object(a.j)("li",kn,[Object(a.m)(i,{path:"mentionLinkBoldenYou",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.mention_link_bolden_you")),1)]),_:1})])):Object(a.i)("",!0),e.expertLevel>0?(Object(a.D)(),Object(a.j)("h3",vn,Object(a.O)(e.$t("settings.fun")),1)):Object(a.i)("",!0),Object(a.k)("li",null,[Object(a.m)(i,{path:"greentext",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.greentext")),1)]),_:1})]),e.user?(Object(a.D)(),Object(a.j)("li",yn,[Object(a.m)(i,{path:"mentionLinkShowYous",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.show_yous")),1)]),_:1})])):Object(a.i)("",!0)])]),e.user?(Object(a.D)(),Object(a.j)("div",wn,[Object(a.k)("h2",null,Object(a.O)(e.$t("settings.composing")),1),Object(a.k)("ul",_n,[Object(a.k)("li",null,[Object(a.k)("label",Vn,[Object(a.l)(Object(a.O)(e.$t("settings.default_vis"))+" ",1),Object(a.m)(d,{"server-side":!0}),Object(a.m)(O,{class:"scope-selector","show-all":!0,"user-default":e.serverSide_defaultScope,"initial-scope":e.serverSide_defaultScope,"on-scope-change":e.changeDefaultScope},null,8,["user-default","initial-scope","on-scope-change"])])]),Object(a.k)("li",null,[Object(a.m)(i,{path:"sensitiveByDefault"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.sensitive_by_default")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"scopeCopy",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.scope_copy")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"alwaysShowSubjectInput",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.subject_input_always_show")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(r,{id:"subjectLineBehavior",path:"subjectLineBehavior",options:e.subjectLineOptions,expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.subject_line_behavior")),1)]),_:1},8,["options"])]),e.postFormats.length>0?(Object(a.D)(),Object(a.j)("li",$n,[Object(a.m)(r,{id:"postContentType",path:"postContentType",options:e.postContentOptions},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.post_status_content_type")),1)]),_:1},8,["options"])])):Object(a.i)("",!0),Object(a.k)("li",null,[Object(a.m)(i,{path:"minimalScopesMode",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.minimal_scopes_mode")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"alwaysShowNewPostButton",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.always_show_post_button")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"autohideFloatingPostButton",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.autohide_floating_post_button")),1)]),_:1})]),Object(a.k)("li",null,[Object(a.m)(i,{path:"padEmoji",expert:"1"},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.pad_emoji")),1)]),_:1})])])])):Object(a.i)("",!0)],8,on)}]]);const Ln=["label"],Sn={class:"setting-item"},Dn={class:"setting-list"},Pn={class:"option-list"},Un=["href"],In={class:"option-list"},Bn=["href"];var Fn={data:function(){var e=this.$store.state.instance;return{backendVersion:e.backendVersion,frontendVersion:e.frontendVersion}},computed:{frontendVersionLink:function(){return"https://git.pleroma.social/pleroma/pleroma-fe/commit/"+this.frontendVersion},backendVersionLink:function(){return"https://git.pleroma.social/pleroma/pleroma/commit/"+(e=this.backendVersion,(t=e.match(/-g(\w+)/i))?t[1]:"");var e,t}}};var En=D()(Fn,[["render",function(e,t,l,n,s,o){return Object(a.D)(),Object(a.j)("div",{label:e.$t("settings.version.title")},[Object(a.k)("div",Sn,[Object(a.k)("ul",Dn,[Object(a.k)("li",null,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.version.backend_version")),1),Object(a.k)("ul",Pn,[Object(a.k)("li",null,[Object(a.k)("a",{href:e.backendVersionLink,target:"_blank"},Object(a.O)(e.backendVersion),9,Un)])])]),Object(a.k)("li",null,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.version.frontend_version")),1),Object(a.k)("ul",In,[Object(a.k)("li",null,[Object(a.k)("a",{href:e.frontendVersionLink,target:"_blank"},Object(a.O)(e.frontendVersion),9,Bn)])])])])])],8,Ln)}]]);const An={class:"theme-tab"},Mn={class:"presets-container"},Rn={class:"save-load"},Wn={key:0,class:"theme-warning"},Jn={class:"alert warning"},Nn={class:"buttons"},qn={class:"top"},Gn={class:"presets"},Hn={for:"preset-switcher",class:"select"},zn=["value"],Kn={class:"export-import"},Yn={class:"save-load-options"},Zn={class:"keep-option"},Qn={class:"keep-option"},Xn={class:"keep-option"},es={class:"keep-option"},ts={class:"keep-option"},ls=["label"],as={class:"tab-header"},ns={class:"tab-header-buttons"},ss={class:"color-item"},os={class:"color-item"},cs={class:"color-item"},is={class:"color-item"},rs=["label"],bs={class:"tab-header"},us={class:"color-item"},ds={class:"color-item"},Os={class:"color-item"},ps={class:"color-item"},js={class:"color-item"},ms={class:"color-item"},hs={class:"color-item"},fs={class:"color-item"},gs={class:"color-item"},ks={class:"color-item"},vs={class:"color-item"},ys={class:"color-item"},ws={class:"color-item"},_s={class:"color-item"},Vs={class:"color-item"},$s={class:"color-item"},Cs={class:"color-item"},Ts={class:"color-item"},xs=["label"],Ls={class:"tab-header"},Ss=["label"],Ds={class:"tab-header shadow-selector"},Ps={class:"select-container"},Us=["value"],Is={class:"override"},Bs={for:"override",class:"label"},Fs=Object(a.l)(" "+Object(a.O)(" ")+" "),Es=Object(a.k)("label",{class:"checkbox-label",for:"override"},null,-1),As={key:0},Ms=Object(a.k)("code",null,"filter: drop-shadow()",-1),Rs=Object(a.k)("code",null,"drop-shadow",-1),Ws=Object(a.k)("code",null,"spread-radius",-1),Js=Object(a.k)("code",null,"inset",-1),Ns=Object(a.k)("code",null,"box-shadow",-1),qs=["label"],Gs={class:"tab-header"},Hs={class:"apply-container"},zs=["disabled"];var Ks=l(18),Ys=l(42),Zs=l(137),Qs=l(35),Xs=l(54);const eo=["for"],to={class:"input color-input-field"},lo=["id","value","disabled"],ao=["id","value","disabled"],no={key:1,class:"transparentIndicator"};var so={components:{Checkbox:E.a},props:{name:{required:!0,type:String},label:{required:!0,type:String},modelValue:{required:!1,type:String,default:void 0},fallback:{required:!1,type:String,default:void 0},disabled:{required:!1,type:Boolean,default:!1},showOptionalTickbox:{required:!1,type:Boolean,default:!0}},emits:["update:modelValue"],computed:{present:function(){return void 0!==this.modelValue},validColor:function(){return Object(Ks.f)(this.modelValue||this.fallback)},transparentColor:function(){return"transparent"===this.modelValue},computedColor:function(){return this.modelValue&&this.modelValue.startsWith("--")}}};l(694),l(695);var oo=D()(so,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("Checkbox");return Object(a.D)(),Object(a.j)("div",{class:Object(a.w)(["color-input style-control",{disabled:!o.present||l.disabled}])},[Object(a.k)("label",{for:l.name,class:"label"},Object(a.O)(l.label),9,eo),void 0!==l.fallback&&l.showOptionalTickbox?(Object(a.D)(),Object(a.h)(c,{key:0,"model-value":o.present,disabled:l.disabled,class:"opt","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",void 0===l.modelValue?l.fallback:void 0))},null,8,["model-value","disabled"])):Object(a.i)("",!0),Object(a.k)("div",to,[Object(a.k)("input",{id:l.name+"-t",class:"textColor unstyled",type:"text",value:l.modelValue||l.fallback,disabled:!o.present||l.disabled,onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value))},null,40,lo),o.validColor?(Object(a.D)(),Object(a.j)("input",{key:0,id:l.name,class:"nativeColor unstyled",type:"color",value:l.modelValue||l.fallback,disabled:!o.present||l.disabled,onInput:t[2]||(t[2]=t=>e.$emit("update:modelValue",t.target.value))},null,40,ao)):Object(a.i)("",!0),o.transparentColor?(Object(a.D)(),Object(a.j)("div",no)):Object(a.i)("",!0),o.computedColor?(Object(a.D)(),Object(a.j)("div",{key:2,class:"computedIndicator",style:Object(a.x)({backgroundColor:l.fallback})},null,4)):Object(a.i)("",!0)])],2)}]]);const co=["for"],io=["id","checked"],ro=["for"],bo=["id","value","disabled","max","min","step"],uo=["id","value","disabled","max","min","step"];var Oo={props:["name","modelValue","fallback","disabled","label","max","min","step","hardMin","hardMax"],emits:["update:modelValue"],computed:{present:function(){return void 0!==this.modelValue}}};var po=D()(Oo,[["render",function(e,t,l,n,s,o){return Object(a.D)(),Object(a.j)("div",{class:Object(a.w)(["range-control style-control",{disabled:!o.present||l.disabled}])},[Object(a.k)("label",{for:l.name,class:"label"},Object(a.O)(l.label),9,co),void 0!==l.fallback?(Object(a.D)(),Object(a.j)("input",{key:0,id:l.name+"-o",class:"opt",type:"checkbox",checked:o.present,onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",o.present?void 0:l.fallback))},null,40,io)):Object(a.i)("",!0),void 0!==l.fallback?(Object(a.D)(),Object(a.j)("label",{key:1,class:"opt-l",for:l.name+"-o"},null,8,ro)):Object(a.i)("",!0),Object(a.k)("input",{id:l.name,class:"input-number",type:"range",value:l.modelValue||l.fallback,disabled:!o.present||l.disabled,max:l.max||l.hardMax||100,min:l.min||l.hardMin||0,step:l.step||1,onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value))},null,40,bo),Object(a.k)("input",{id:l.name,class:"input-number",type:"number",value:l.modelValue||l.fallback,disabled:!o.present||l.disabled,max:l.hardMax,min:l.hardMin,step:l.step||1,onInput:t[2]||(t[2]=t=>e.$emit("update:modelValue",t.target.value))},null,40,uo)],2)}]]);const jo=["for"],mo=["id","value","disabled"];var ho={components:{Checkbox:E.a},props:["name","modelValue","fallback","disabled"],emits:["update:modelValue"],computed:{present:function(){return void 0!==this.modelValue}}};var fo=D()(ho,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("Checkbox");return Object(a.D)(),Object(a.j)("div",{class:Object(a.w)(["opacity-control style-control",{disabled:!o.present||l.disabled}])},[Object(a.k)("label",{for:l.name,class:"label"},Object(a.O)(e.$t("settings.style.common.opacity")),9,jo),void 0!==l.fallback?(Object(a.D)(),Object(a.h)(c,{key:0,"model-value":o.present,disabled:l.disabled,class:"opt","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",o.present?void 0:l.fallback))},null,8,["model-value","disabled"])):Object(a.i)("",!0),Object(a.k)("input",{id:l.name,class:"input-number",type:"number",value:l.modelValue||l.fallback,disabled:!o.present||l.disabled,max:"1",min:"0",step:".05",onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value))},null,40,mo)],2)}]]);const go={class:"shadow-preview-container"},ko=["disabled"],vo=["disabled"],yo={class:"wrap"},wo=["disabled"],_o={class:"preview-window"},Vo=["disabled"],$o=["disabled"],Co={class:"wrap"},To=["disabled"],xo={class:"shadow-tweak"},Lo=["disabled"],So=["value"],Do=["disabled"],Po=["disabled"],Uo=["disabled"],Io=["disabled"],Bo=["disabled"],Fo={for:"inset",class:"label"},Eo=["disabled"],Ao=Object(a.k)("label",{class:"checkbox-label",for:"inset"},null,-1),Mo=["disabled"],Ro={for:"spread",class:"label"},Wo=["disabled"],Jo=["disabled"],No=["disabled"],qo={for:"spread",class:"label"},Go=["disabled"],Ho=["disabled"],zo=Object(a.k)("code",null,"--variable,mod",-1);function Ko(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function Yo(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Ko(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}T.c.add(x.n,x.q,x.rb,x.V);var Zo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yo({x:0,y:0,blur:0,spread:0,inset:!1,color:"#000000",alpha:1},e)},Qo={props:["modelValue","fallback","ready"],emits:["update:modelValue"],data:function(){return{selectedId:0,cValue:(this.modelValue||this.fallback||[]).map(Zo)}},components:{ColorInput:oo,OpacityInput:fo,Select:Nt.a},methods:{add:function(){this.cValue.push(Zo(this.selected)),this.selectedId=this.cValue.length-1},del:function(){this.cValue.splice(this.selectedId,1),this.selectedId=0===this.cValue.length?void 0:Math.max(this.selectedId-1,0)},moveUp:function(){var e=this.cValue.splice(this.selectedId,1)[0];this.cValue.splice(this.selectedId-1,0,e),this.selectedId-=1},moveDn:function(){var e=this.cValue.splice(this.selectedId,1)[0];this.cValue.splice(this.selectedId+1,0,e),this.selectedId+=1}},beforeUpdate:function(){this.cValue=this.modelValue||this.fallback},computed:{anyShadows:function(){return this.cValue.length>0},anyShadowsFallback:function(){return this.fallback.length>0},selected:function(){return this.ready&&this.anyShadows?this.cValue[this.selectedId]:Zo({})},currentFallback:function(){return this.ready&&this.anyShadowsFallback?this.fallback[this.selectedId]:Zo({})},moveUpValid:function(){return this.ready&&this.selectedId>0},moveDnValid:function(){return this.ready&&this.selectedId<this.cValue.length-1},present:function(){return this.ready&&void 0!==this.cValue[this.selectedId]&&!this.usingFallback},usingFallback:function(){return void 0===this.modelValue},rgb:function(){return Object(Ks.f)(this.selected.color)},style:function(){return this.ready?{boxShadow:Object(Ys.i)(this.fallback)}:{}}}};l(696);var Xo=D()(Qo,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("Select"),i=Object(a.J)("FAIcon"),r=Object(a.J)("ColorInput"),b=Object(a.J)("OpacityInput"),u=Object(a.J)("i18n-t");return Object(a.D)(),Object(a.j)("div",{class:Object(a.w)(["shadow-control",{disabled:!e.present}])},[Object(a.k)("div",go,[Object(a.k)("div",{disabled:!e.present,class:"y-shift-control"},[Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected.y=t),disabled:!e.present,class:"input-number",type:"number"},null,8,vo),[[a.S,e.selected.y]]),Object(a.k)("div",yo,[Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.selected.y=t),disabled:!e.present,class:"input-range",type:"range",max:"20",min:"-20"},null,8,wo),[[a.S,e.selected.y]])])],8,ko),Object(a.k)("div",_o,[Object(a.k)("div",{class:"preview-block",style:Object(a.x)(e.style)},null,4)]),Object(a.k)("div",{disabled:!e.present,class:"x-shift-control"},[Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.selected.x=t),disabled:!e.present,class:"input-number",type:"number"},null,8,$o),[[a.S,e.selected.x]]),Object(a.k)("div",Co,[Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.selected.x=t),disabled:!e.present,class:"input-range",type:"range",max:"20",min:"-20"},null,8,To),[[a.S,e.selected.x]])])],8,Vo)]),Object(a.k)("div",xo,[Object(a.k)("div",{disabled:e.usingFallback,class:"id-control style-control"},[Object(a.m)(c,{id:"shadow-switcher",modelValue:e.selectedId,"onUpdate:modelValue":t[4]||(t[4]=t=>e.selectedId=t),class:"shadow-switcher",disabled:!e.ready||e.usingFallback},{default:Object(a.V)(()=>[(Object(a.D)(!0),Object(a.j)(a.a,null,Object(a.H)(e.cValue,(t,l)=>(Object(a.D)(),Object(a.j)("option",{key:l,value:l},Object(a.O)(e.$t("settings.style.shadows.shadow_id",{value:l})),9,So))),128))]),_:1},8,["modelValue","disabled"]),Object(a.k)("button",{class:"btn button-default",disabled:!e.ready||!e.present,onClick:t[5]||(t[5]=(...t)=>e.del&&e.del(...t))},[Object(a.m)(i,{"fixed-width":"",icon:"times"})],8,Do),Object(a.k)("button",{class:"btn button-default",disabled:!e.moveUpValid,onClick:t[6]||(t[6]=(...t)=>e.moveUp&&e.moveUp(...t))},[Object(a.m)(i,{"fixed-width":"",icon:"chevron-up"})],8,Po),Object(a.k)("button",{class:"btn button-default",disabled:!e.moveDnValid,onClick:t[7]||(t[7]=(...t)=>e.moveDn&&e.moveDn(...t))},[Object(a.m)(i,{"fixed-width":"",icon:"chevron-down"})],8,Uo),Object(a.k)("button",{class:"btn button-default",disabled:e.usingFallback,onClick:t[8]||(t[8]=(...t)=>e.add&&e.add(...t))},[Object(a.m)(i,{"fixed-width":"",icon:"plus"})],8,Io)],8,Lo),Object(a.k)("div",{disabled:!e.present,class:"inset-control style-control"},[Object(a.k)("label",Fo,Object(a.O)(e.$t("settings.style.shadows.inset")),1),Object(a.W)(Object(a.k)("input",{id:"inset","onUpdate:modelValue":t[9]||(t[9]=t=>e.selected.inset=t),disabled:!e.present,name:"inset",class:"input-inset",type:"checkbox"},null,8,Eo),[[a.R,e.selected.inset]]),Ao],8,Bo),Object(a.k)("div",{disabled:!e.present,class:"blur-control style-control"},[Object(a.k)("label",Ro,Object(a.O)(e.$t("settings.style.shadows.blur")),1),Object(a.W)(Object(a.k)("input",{id:"blur","onUpdate:modelValue":t[10]||(t[10]=t=>e.selected.blur=t),disabled:!e.present,name:"blur",class:"input-range",type:"range",max:"20",min:"0"},null,8,Wo),[[a.S,e.selected.blur]]),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.selected.blur=t),disabled:!e.present,class:"input-number",type:"number",min:"0"},null,8,Jo),[[a.S,e.selected.blur]])],8,Mo),Object(a.k)("div",{disabled:!e.present,class:"spread-control style-control"},[Object(a.k)("label",qo,Object(a.O)(e.$t("settings.style.shadows.spread")),1),Object(a.W)(Object(a.k)("input",{id:"spread","onUpdate:modelValue":t[12]||(t[12]=t=>e.selected.spread=t),disabled:!e.present,name:"spread",class:"input-range",type:"range",max:"20",min:"-20"},null,8,Go),[[a.S,e.selected.spread]]),Object(a.W)(Object(a.k)("input",{"onUpdate:modelValue":t[13]||(t[13]=t=>e.selected.spread=t),disabled:!e.present,class:"input-number",type:"number"},null,8,Ho),[[a.S,e.selected.spread]])],8,No),Object(a.m)(r,{modelValue:e.selected.color,"onUpdate:modelValue":t[14]||(t[14]=t=>e.selected.color=t),disabled:!e.present,label:e.$t("settings.style.common.color"),fallback:e.currentFallback.color,"show-optional-tickbox":!1,name:"shadow"},null,8,["modelValue","disabled","label","fallback"]),Object(a.m)(b,{modelValue:e.selected.alpha,"onUpdate:modelValue":t[15]||(t[15]=t=>e.selected.alpha=t),disabled:!e.present},null,8,["modelValue","disabled"]),Object(a.m)(u,{scope:"global",keypath:"settings.style.shadows.hintV3",tag:"p"},{default:Object(a.V)(()=>[zo]),_:1})])],2)}]]);const ec=["for"],tc=["id","checked"],lc=["for"],ac=Object(a.l)(" "+Object(a.O)(" ")+" "),nc=["value"],sc=["id"];var oc={components:{Select:Nt.a},props:["name","label","modelValue","fallback","options","no-inherit"],emits:["update:modelValue"],data:function(){return{lValue:this.modelValue,availableOptions:[this.noInherit?"":"inherit","custom"].concat(Ue()(this.options||[]),["serif","monospace","sans-serif"]).filter((function(e){return e}))}},beforeUpdate:function(){this.lValue=this.modelValue},computed:{present:function(){return void 0!==this.lValue},dValue:function(){return this.lValue||this.fallback||{}},family:{get:function(){return this.dValue.family},set:function(e){it()(this.lValue,"family",e),this.$emit("update:modelValue",this.lValue)}},isCustom:function(){return"custom"===this.preset},preset:{get:function(){return"serif"===this.family||"sans-serif"===this.family||"monospace"===this.family||"inherit"===this.family?this.family:"custom"},set:function(e){this.family="custom"===e?"":e}}}};l(697);var cc=D()(oc,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("Select");return Object(a.D)(),Object(a.j)("div",{class:Object(a.w)(["font-control style-control",{custom:e.isCustom}])},[Object(a.k)("label",{for:"custom"===e.preset?e.name:e.name+"-font-switcher",class:"label"},Object(a.O)(e.label),9,ec),void 0!==e.fallback?(Object(a.D)(),Object(a.j)("input",{key:0,id:e.name+"-o",class:"opt exlcude-disabled",type:"checkbox",checked:e.present,onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",void 0===e.modelValue?e.fallback:void 0))},null,40,tc)):Object(a.i)("",!0),void 0!==e.fallback?(Object(a.D)(),Object(a.j)("label",{key:1,class:"opt-l",for:e.name+"-o"},null,8,lc)):Object(a.i)("",!0),ac,Object(a.m)(c,{id:e.name+"-font-switcher",modelValue:e.preset,"onUpdate:modelValue":t[1]||(t[1]=t=>e.preset=t),disabled:!e.present,class:"font-switcher"},{default:Object(a.V)(()=>[(Object(a.D)(!0),Object(a.j)(a.a,null,Object(a.H)(e.availableOptions,t=>(Object(a.D)(),Object(a.j)("option",{key:t,value:t},Object(a.O)("custom"===t?e.$t("settings.style.fonts.custom"):t),9,nc))),128))]),_:1},8,["id","modelValue","disabled"]),e.isCustom?Object(a.W)((Object(a.D)(),Object(a.j)("input",{key:2,id:e.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.family=t),class:"custom-font",type:"text"},null,8,sc)),[[a.S,e.family]]):Object(a.i)("",!0)],2)}]]);const ic={key:0,class:"contrast-ratio"},rc=["title"],bc={key:0},uc={key:1},dc={key:2},Oc=["title"],pc={key:0},jc={key:1},mc={key:2};T.c.add(x.a,x.z,x.pb);var hc={props:{large:{required:!1,type:Boolean,default:!1},contrast:{required:!1,type:Object,default:function(){return{}}}},computed:{hint:function(){var e=this.contrast.aaa?"aaa":this.contrast.aa?"aa":"bad",t=this.$t("settings.style.common.contrast.level.".concat(e)),l=this.$t("settings.style.common.contrast.context.text"),a=this.contrast.text;return this.$t("settings.style.common.contrast.hint",{level:t,context:l,ratio:a})},hint_18pt:function(){var e=this.contrast.laaa?"aaa":this.contrast.laa?"aa":"bad",t=this.$t("settings.style.common.contrast.level.".concat(e)),l=this.$t("settings.style.common.contrast.context.18pt"),a=this.contrast.text;return this.$t("settings.style.common.contrast.hint",{level:t,context:l,ratio:a})}}};l(698);var fc=D()(hc,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("FAIcon");return l.contrast?(Object(a.D)(),Object(a.j)("span",ic,[Object(a.k)("span",{title:o.hint,class:"rating"},[l.contrast.aaa?(Object(a.D)(),Object(a.j)("span",bc,[Object(a.m)(c,{icon:"thumbs-up"})])):Object(a.i)("",!0),!l.contrast.aaa&&l.contrast.aa?(Object(a.D)(),Object(a.j)("span",uc,[Object(a.m)(c,{icon:"adjust"})])):Object(a.i)("",!0),l.contrast.aaa||l.contrast.aa?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("span",dc,[Object(a.m)(c,{icon:"exclamation-triangle"})]))],8,rc),l.contrast&&l.large?(Object(a.D)(),Object(a.j)("span",{key:0,class:"rating",title:o.hint_18pt},[l.contrast.laaa?(Object(a.D)(),Object(a.j)("span",pc,[Object(a.m)(c,{icon:"thumbs-up"})])):Object(a.i)("",!0),!l.contrast.laaa&&l.contrast.laa?(Object(a.D)(),Object(a.j)("span",jc,[Object(a.m)(c,{icon:"adjust"})])):Object(a.i)("",!0),l.contrast.laaa||l.contrast.laa?Object(a.i)("",!0):(Object(a.D)(),Object(a.j)("span",mc,[Object(a.m)(c,{icon:"exclamation-triangle"})]))],8,Oc)):Object(a.i)("",!0)])):Object(a.i)("",!0)}]]);const gc={class:"preview-container"},kc=Object(a.k)("div",{class:"underlay underlay-preview"},null,-1),vc={class:"panel dummy"},yc={class:"panel-heading"},wc={class:"title"},_c=Object(a.k)("span",{class:"badge badge-notification"}," 99 ",-1),Vc={class:"faint"},$c={class:"alert error"},Cc={class:"btn button-default"},Tc={class:"panel-body theme-preview-content"},xc={class:"post"},Lc=Object(a.k)("div",{class:"avatar still-image"}," ( ͡° ͜ʖ ͡°) ",-1),Sc={class:"content"},Dc={style:{"font-family":"var(--postCodeFont)"}},Pc={style:{color:"var(--link)"}},Uc={class:"icons"},Ic={class:"after-post"},Bc=Object(a.k)("div",{class:"avatar-alt"}," :^) ",-1),Fc={class:"content"},Ec={style:{color:"var(--faintLink)"}},Ac=Object(a.k)("div",{class:"separator"},null,-1),Mc={class:"alert error"},Rc=["value"],Wc={class:"actions"},Jc={class:"checkbox"},Nc=Object(a.k)("input",{id:"preview_checkbox",checked:"very yes",type:"checkbox"},null,-1),qc={for:"preview_checkbox"},Gc={class:"btn button-default"};T.c.add(x.rb,x.jb,x.Z,x.Y);var Hc={};l(699);var zc=D()(Hc,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("i18n-t"),i=Object(a.J)("FAIcon");return Object(a.D)(),Object(a.j)("div",gc,[kc,Object(a.k)("div",vc,[Object(a.k)("div",yc,[Object(a.k)("div",wc,[Object(a.l)(Object(a.O)(e.$t("settings.style.preview.header"))+" ",1),_c]),Object(a.k)("span",Vc,Object(a.O)(e.$t("settings.style.preview.header_faint")),1),Object(a.k)("span",$c,Object(a.O)(e.$t("settings.style.preview.error")),1),Object(a.k)("button",Cc,Object(a.O)(e.$t("settings.style.preview.button")),1)]),Object(a.k)("div",Tc,[Object(a.k)("div",xc,[Lc,Object(a.k)("div",Sc,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.preview.content")),1),Object(a.m)(c,{scope:"global",keypath:"settings.style.preview.text"},{default:Object(a.V)(()=>[Object(a.k)("code",Dc,Object(a.O)(e.$t("settings.style.preview.mono")),1),Object(a.k)("a",Pc,Object(a.O)(e.$t("settings.style.preview.link")),1)]),_:1}),Object(a.k)("div",Uc,[Object(a.m)(i,{"fixed-width":"",style:{color:"var(--cBlue)"},class:"fa-scale-110 fa-old-padding",icon:"reply"}),Object(a.m)(i,{"fixed-width":"",style:{color:"var(--cGreen)"},class:"fa-scale-110 fa-old-padding",icon:"retweet"}),Object(a.m)(i,{"fixed-width":"",style:{color:"var(--cOrange)"},class:"fa-scale-110 fa-old-padding",icon:"star"}),Object(a.m)(i,{"fixed-width":"",style:{color:"var(--cRed)"},class:"fa-scale-110 fa-old-padding",icon:"times"})])])]),Object(a.k)("div",Ic,[Bc,Object(a.k)("div",Fc,[Object(a.m)(c,{keypath:"settings.style.preview.fine_print",tag:"span",class:"faint",scope:"global"},{default:Object(a.V)(()=>[Object(a.k)("a",Ec,Object(a.O)(e.$t("settings.style.preview.faint_link")),1)]),_:1})])]),Ac,Object(a.k)("span",Mc,Object(a.O)(e.$t("settings.style.preview.error")),1),Object(a.k)("input",{value:e.$t("settings.style.preview.input"),type:"text"},null,8,Rc),Object(a.k)("div",Wc,[Object(a.k)("span",Jc,[Nc,Object(a.k)("label",qc,Object(a.O)(e.$t("settings.style.preview.checkbox")),1)]),Object(a.k)("button",Gc,Object(a.O)(e.$t("settings.style.preview.button")),1)])])])])}]]);function Kc(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function Yc(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(l),!0).forEach((function(t){y()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Kc(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var Zc=["bg","fg","text","link","cRed","cGreen","cBlue","cOrange"].map((function(e){return e+"ColorLocal"})),Qc={data:function(){var e=this;return Yc(Yc(Yc({themeImporter:Object(Zs.b)({validator:this.importValidator,onImport:this.onImport,onImportFailure:this.onImportFailure}),themeExporter:Object(Zs.a)({filename:"pleroma_theme",getExportedObject:function(){return e.exportedTheme}}),availableStyles:[],selected:"",selectedTheme:this.$store.getters.mergedConfig.theme,themeWarning:void 0,tempImportFile:void 0,engineVersion:0,previewShadows:{},previewColors:{},previewRadii:{},previewFonts:{},shadowsInvalid:!0,colorsInvalid:!0,radiiInvalid:!0,keepColor:!1,keepShadows:!1,keepOpacity:!1,keepRoundness:!1,keepFonts:!1},Object.keys(Qs.c).map((function(e){return[e,""]})).reduce((function(e,t){var l=wt()(t,2),a=l[0],n=l[1];return Yc(Yc({},e),{},y()({},a+"ColorLocal",n))}),{})),Object.keys(Xs.b).map((function(e){return[e,""]})).reduce((function(e,t){var l=wt()(t,2),a=l[0],n=l[1];return Yc(Yc({},e),{},y()({},a+"OpacityLocal",n))}),{})),{},{shadowSelected:void 0,shadowsLocal:{},fontsLocal:{},btnRadiusLocal:"",inputRadiusLocal:"",checkboxRadiusLocal:"",panelRadiusLocal:"",avatarRadiusLocal:"",avatarAltRadiusLocal:"",attachmentRadiusLocal:"",tooltipRadiusLocal:"",chatMessageRadiusLocal:""})},created:function(){var e=this;Object(Ys.k)().then((function(e){return Promise.all(Object.entries(e).map((function(e){var t=wt()(e,2),l=t[0];return t[1].then((function(e){return[l,e]}))})))})).then((function(e){return e.reduce((function(e,t){var l=wt()(t,2),a=l[0],n=l[1];return n?Yc(Yc({},e),{},y()({},a,n)):e}),{})})).then((function(t){e.availableStyles=t}))},mounted:function(){this.loadThemeFromLocalStorage(),void 0===this.shadowSelected&&(this.shadowSelected=this.shadowsAvailable[0])},computed:{themeWarningHelp:function(){if(this.themeWarning){var e=this.$t,t="settings.style.switcher.help.",l=this.themeWarning,a=l.origin,n=l.themeEngineVersion,s=l.type,o=l.noActionsPossible;if("file"===a){if(2===n&&"wrong_version"===s)return e(t+"v2_imported");if(n>Xs.a)return e(t+"future_version_imported")+" "+e(o?t+"snapshot_missing":t+"snapshot_present");if(n<Xs.a)return e(t+"future_version_imported")+" "+e(o?t+"snapshot_missing":t+"snapshot_present")}else if("localStorage"===a){if("snapshot_source_mismatch"===s)return e(t+"snapshot_source_mismatch");if(2===n)return e(t+"upgraded_from_v2");if(n>Xs.a)return e(t+"fe_downgraded")+" "+e(o?t+"migration_snapshot_ok":t+"migration_snapshot_gone");if(n<Xs.a)return e(t+"fe_upgraded")+" "+e(o?t+"migration_snapshot_ok":t+"migration_snapshot_gone")}}},selectedVersion:function(){return Array.isArray(this.selectedTheme)?1:2},currentColors:function(){var e=this;return Object.keys(Qs.c).map((function(t){return[t,e[t+"ColorLocal"]]})).reduce((function(e,t){var l=wt()(t,2),a=l[0],n=l[1];return Yc(Yc({},e),{},y()({},a,n))}),{})},currentOpacity:function(){var e=this;return Object.keys(Xs.b).map((function(t){return[t,e[t+"OpacityLocal"]]})).reduce((function(e,t){var l=wt()(t,2),a=l[0],n=l[1];return Yc(Yc({},e),{},y()({},a,n))}),{})},currentRadii:function(){return{btn:this.btnRadiusLocal,input:this.inputRadiusLocal,checkbox:this.checkboxRadiusLocal,panel:this.panelRadiusLocal,avatar:this.avatarRadiusLocal,avatarAlt:this.avatarAltRadiusLocal,tooltip:this.tooltipRadiusLocal,attachment:this.attachmentRadiusLocal,chatMessage:this.chatMessageRadiusLocal}},preview:function(){return Object(Ys.d)(this.previewColors,this.previewRadii,this.previewShadows,this.previewFonts)},previewTheme:function(){return this.preview.theme.colors?this.preview.theme:{colors:{},opacity:{},radii:{},shadows:{},fonts:{}}},previewContrast:function(){try{if(!this.previewTheme.colors.bg)return{};var e=this.previewTheme.colors,t=this.previewTheme.opacity;if(!e.bg)return{};var l=Object.entries(e).reduce((function(e,t){var l,a=wt()(t,2),n=a[0],s=a[1];return Yc(Yc({},e),{},y()({},n,(l=s).startsWith("--")||"transparent"===l?l:Object(Ks.f)(l)))}),{}),a=Object.entries(Qs.c).reduce((function(e,a){var n=wt()(a,2),s=n[0],o=n[1],c="text"===s||"link"===s;if(!(c||"object"===Ga()(o)&&null!==o&&o.textColor))return e;var i=c?{layer:"bg"}:o,r=i.layer,b=i.variant,u=b||r,d=Object(Xs.f)(u),O=[s].concat(Ue()("bg"===u?["cRed","cGreen","cBlue","cOrange"]:[])),p=Object(Xs.e)(r,b||r,d,l,t);return Yc(Yc({},e),O.reduce((function(e,t){var a=c?"bg"+t[0].toUpperCase()+t.slice(1):t;return Yc(Yc({},e),{},y()({},a,Object(Ks.c)(l[t],p,l[t])))}),{}))}),{});return Object.entries(a).reduce((function(e,t){var l,a=wt()(t,2),n=a[0],s=a[1];return e[n]={text:(l=s).toPrecision(3)+":1",aa:l>=4.5,aaa:l>=7,laa:l>=3,laaa:l>=4.5},e}),{})}catch(e){console.warn("Failure computing contrasts",e)}},previewRules:function(){return this.preview.rules?[].concat(Ue()(Object.values(this.preview.rules)),["color: var(--text)","font-family: var(--interfaceFont, sans-serif)"]).join(";"):""},shadowsAvailable:function(){return Object.keys(Ys.a).sort()},currentShadowOverriden:{get:function(){return!!this.currentShadow},set:function(e){e?this.shadowsLocal[this.shadowSelected]=this.currentShadowFallback.map((function(e){return Object.assign({},e)})):delete this.shadowsLocal[this.shadowSelected]}},currentShadowFallback:function(){return(this.previewTheme.shadows||{})[this.shadowSelected]},currentShadow:{get:function(){return this.shadowsLocal[this.shadowSelected]},set:function(e){this.shadowsLocal[this.shadowSelected]=e}},themeValid:function(){return!this.shadowsInvalid&&!this.colorsInvalid&&!this.radiiInvalid},exportedTheme:function(){var e=!(this.keepFonts||this.keepShadows||this.keepOpacity||this.keepRoundness||this.keepColor),t={themeEngineVersion:Xs.a};return(this.keepFonts||e)&&(t.fonts=this.fontsLocal),(this.keepShadows||e)&&(t.shadows=this.shadowsLocal),(this.keepOpacity||e)&&(t.opacity=this.currentOpacity),(this.keepColor||e)&&(t.colors=this.currentColors),(this.keepRoundness||e)&&(t.radii=this.currentRadii),{_pleroma_theme_version:2,theme:Yc({themeEngineVersion:Xs.a},this.previewTheme),source:t}},isActive:function(){var e=this.$parent;return!!e&&e.isActive("theme")}},components:{ColorInput:oo,OpacityInput:fo,RangeInput:po,ContrastRatio:fc,ShadowControl:Xo,FontControl:cc,TabSwitcher:O.a,Preview:zc,Checkbox:E.a,Select:Nt.a},methods:{loadTheme:function(e,t){var l=e.theme,a=e.source,n=e._pleroma_theme_version,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.dismissWarning(),!a&&!l)throw new Error("Can't load theme: empty");var o="localStorage"!==t||l.colors?n:"l1",c=(l||{}).themeEngineVersion,i=(a||{}).themeEngineVersion||2,r=i===Xs.a,b=void 0!==l&&void 0!==a&&i!==c,u=a&&s||!l;r&&!b||u||"l1"===o||"defaults"===t||(b&&"localStorage"===t?this.themeWarning={origin:t,themeEngineVersion:i,type:"snapshot_source_mismatch"}:l?r||(this.themeWarning={origin:t,noActionsPossible:!a,themeEngineVersion:i,type:"wrong_version"}):this.themeWarning={origin:t,noActionsPossible:!0,themeEngineVersion:i,type:"no_snapshot_old_version"}),this.normalizeLocalState(l,o,a,u)},forceLoadLocalStorage:function(){this.loadThemeFromLocalStorage(!0)},dismissWarning:function(){this.themeWarning=void 0,this.tempImportFile=void 0},forceLoad:function(){switch(this.themeWarning.origin){case"localStorage":this.loadThemeFromLocalStorage(!0);break;case"file":this.onImport(this.tempImportFile,!0)}this.dismissWarning()},forceSnapshot:function(){switch(this.themeWarning.origin){case"localStorage":this.loadThemeFromLocalStorage(!1,!0);break;case"file":console.error("Forcing snapshot from file is not supported yet")}this.dismissWarning()},loadThemeFromLocalStorage:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.$store.getters.mergedConfig,a=l.customTheme,n=l.customThemeSource;a||n?this.loadTheme({theme:a,source:t?a:n},"localStorage",e):this.loadTheme(this.$store.state.instance.themeData,"defaults",e)},setCustomTheme:function(){this.$store.dispatch("setOption",{name:"customTheme",value:Yc({themeEngineVersion:Xs.a},this.previewTheme)}),this.$store.dispatch("setOption",{name:"customThemeSource",value:{themeEngineVersion:Xs.a,shadows:this.shadowsLocal,fonts:this.fontsLocal,opacity:this.currentOpacity,colors:this.currentColors,radii:this.currentRadii}})},updatePreviewColorsAndShadows:function(){this.previewColors=Object(Ys.e)({opacity:this.currentOpacity,colors:this.currentColors}),this.previewShadows=Object(Ys.h)({shadows:this.shadowsLocal,opacity:this.previewTheme.opacity,themeEngineVersion:this.engineVersion},this.previewColors.theme.colors,this.previewColors.mod)},importTheme:function(){this.themeImporter.importData()},exportTheme:function(){this.themeExporter.exportData()},onImport:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.tempImportFile=e,this.loadTheme(e,"file",t)},onImportFailure:function(e){this.$store.dispatch("pushGlobalNotice",{messageKey:"settings.invalid_theme_imported",level:"error"})},importValidator:function(e){var t=e._pleroma_theme_version;return t>=1||t<=2},clearAll:function(){this.loadThemeFromLocalStorage()},clearV1:function(){var e=this;Object.keys(this.$data).filter((function(e){return e.endsWith("ColorLocal")||e.endsWith("OpacityLocal")})).filter((function(e){return!Zc.includes(e)})).forEach((function(t){e.$data[t]=void 0}))},clearRoundness:function(){var e=this;Object.keys(this.$data).filter((function(e){return e.endsWith("RadiusLocal")})).forEach((function(t){e.$data[t]=void 0}))},clearOpacity:function(){var e=this;Object.keys(this.$data).filter((function(e){return e.endsWith("OpacityLocal")})).forEach((function(t){e.$data[t]=void 0}))},clearShadows:function(){this.shadowsLocal={}},clearFonts:function(){this.fontsLocal={}},normalizeLocalState:function(e){var t,l=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];void 0!==n&&(s||n.themeEngineVersion===Xs.a)?(t=n,a=n.themeEngineVersion):t=e;var o=t.radii||t,c=t.opacity,i=t.shadows||{},r=t.fonts||{},b=t.themeEngineVersion?t.colors||t:Object(Ys.c)(t.colors||t);if(0===a&&(t.version&&(a=t.version),void 0===b.text&&void 0!==b.fg&&(a=1),void 0!==b.text&&void 0!==b.fg&&(a=2)),this.engineVersion=a,1===a&&(this.fgColorLocal=Object(Ks.i)(b.btn),this.textColorLocal=Object(Ks.i)(b.fg)),!this.keepColor){this.clearV1();var u=new Set(1!==a?Object.keys(Qs.c):[]);1!==a&&"l1"!==a||u.add("bg").add("link").add("cRed").add("cBlue").add("cGreen").add("cOrange"),u.forEach((function(e){var t=b[e],a=Object(Ks.i)(b[e]);l[e+"ColorLocal"]="#aN"===a?t:a}))}c&&!this.keepOpacity&&(this.clearOpacity(),Object.entries(c).forEach((function(e){var t=wt()(e,2),a=t[0],n=t[1];null==n||Number.isNaN(n)||(l[a+"OpacityLocal"]=n)}))),this.keepRoundness||(this.clearRoundness(),Object.entries(o).forEach((function(e){var t=wt()(e,2),a=t[0],n=t[1],s=a.endsWith("Radius")?a.split("Radius")[0]:a;l[s+"RadiusLocal"]=n}))),this.keepShadows||(this.clearShadows(),this.shadowsLocal=2===a?Object(Ys.m)(i,this.previewTheme.opacity):i,this.shadowSelected=this.shadowsAvailable[0]),this.keepFonts||(this.clearFonts(),this.fontsLocal=r)}},watch:{currentRadii:function(){try{this.previewRadii=Object(Ys.g)({radii:this.currentRadii}),this.radiiInvalid=!1}catch(e){this.radiiInvalid=!0,console.warn(e)}},shadowsLocal:{handler:function(){if(1!==Object.getOwnPropertyNames(this.previewColors).length)try{this.updatePreviewColorsAndShadows(),this.shadowsInvalid=!1}catch(e){this.shadowsInvalid=!0,console.warn(e)}},deep:!0},fontsLocal:{handler:function(){try{this.previewFonts=Object(Ys.f)({fonts:this.fontsLocal}),this.fontsInvalid=!1}catch(e){this.fontsInvalid=!0,console.warn(e)}},deep:!0},currentColors:function(){try{this.updatePreviewColorsAndShadows(),this.colorsInvalid=!1,this.shadowsInvalid=!1}catch(e){this.colorsInvalid=!0,this.shadowsInvalid=!0,console.warn(e)}},currentOpacity:function(){try{this.updatePreviewColorsAndShadows()}catch(e){console.warn(e)}},selected:function(){var e=this;this.selectedTheme=Object.entries(this.availableStyles).find((function(t){var l=wt()(t,2),a=(l[0],l[1]);return Array.isArray(a)?(console.log(a[0]===e.selected,e.selected),a[0]===e.selected):a.name===e.selected}))[1]},selectedTheme:function(){this.dismissWarning(),1===this.selectedVersion?(this.keepRoundness||this.clearRoundness(),this.keepShadows||this.clearShadows(),this.keepOpacity||this.clearOpacity(),this.keepColor||(this.clearV1(),this.bgColorLocal=this.selectedTheme[1],this.fgColorLocal=this.selectedTheme[2],this.textColorLocal=this.selectedTheme[3],this.linkColorLocal=this.selectedTheme[4],this.cRedColorLocal=this.selectedTheme[5],this.cGreenColorLocal=this.selectedTheme[6],this.cBlueColorLocal=this.selectedTheme[7],this.cOrangeColorLocal=this.selectedTheme[8])):this.selectedVersion>=2&&this.normalizeLocalState(this.selectedTheme.theme,2,this.selectedTheme.source)}}};l(700);var Xc=D()(Qc,[["render",function(e,t,l,n,s,o){const c=Object(a.J)("Select"),i=Object(a.J)("Checkbox"),r=Object(a.J)("preview"),b=Object(a.J)("ColorInput"),u=Object(a.J)("OpacityInput"),d=Object(a.J)("ContrastRatio"),O=Object(a.J)("RangeInput"),p=Object(a.J)("ShadowControl"),j=Object(a.J)("i18n-t"),m=Object(a.J)("FontControl"),h=Object(a.J)("tab-switcher");return Object(a.D)(),Object(a.j)("div",An,[Object(a.k)("div",Mn,[Object(a.k)("div",Rn,[e.themeWarning?(Object(a.D)(),Object(a.j)("div",Wn,[Object(a.k)("div",Jn,Object(a.O)(e.themeWarningHelp),1),Object(a.k)("div",Nn,["snapshot_source_mismatch"===e.themeWarning.type?(Object(a.D)(),Object(a.j)(a.a,{key:0},[Object(a.k)("button",{class:"btn button-default",onClick:t[0]||(t[0]=(...t)=>e.forceLoad&&e.forceLoad(...t))},Object(a.O)(e.$t("settings.style.switcher.use_source")),1),Object(a.k)("button",{class:"btn button-default",onClick:t[1]||(t[1]=(...t)=>e.forceSnapshot&&e.forceSnapshot(...t))},Object(a.O)(e.$t("settings.style.switcher.use_snapshot")),1)],64)):e.themeWarning.noActionsPossible?(Object(a.D)(),Object(a.j)("button",{key:1,class:"btn button-default",onClick:t[2]||(t[2]=(...t)=>e.dismissWarning&&e.dismissWarning(...t))},Object(a.O)(e.$t("general.dismiss")),1)):(Object(a.D)(),Object(a.j)(a.a,{key:2},[Object(a.k)("button",{class:"btn button-default",onClick:t[3]||(t[3]=(...t)=>e.forceLoad&&e.forceLoad(...t))},Object(a.O)(e.$t("settings.style.switcher.load_theme")),1),Object(a.k)("button",{class:"btn button-default",onClick:t[4]||(t[4]=(...t)=>e.dismissWarning&&e.dismissWarning(...t))},Object(a.O)(e.$t("settings.style.switcher.keep_as_is")),1)],64))])])):Object(a.i)("",!0),Object(a.k)("div",qn,[Object(a.k)("div",Gn,[Object(a.l)(Object(a.O)(e.$t("settings.presets"))+" ",1),Object(a.k)("label",Hn,[Object(a.m)(c,{id:"preset-switcher",modelValue:e.selected,"onUpdate:modelValue":t[5]||(t[5]=t=>e.selected=t),class:"preset-switcher"},{default:Object(a.V)(()=>[(Object(a.D)(!0),Object(a.j)(a.a,null,Object(a.H)(e.availableStyles,e=>(Object(a.D)(),Object(a.j)("option",{key:e.name,value:e.name||e[0],style:Object(a.x)({backgroundColor:e[1]||(e.theme||e.source).colors.bg,color:e[3]||(e.theme||e.source).colors.text})},Object(a.O)(e[0]||e.name),13,zn))),128))]),_:1},8,["modelValue"])])]),Object(a.k)("div",Kn,[Object(a.k)("button",{class:"btn button-default",onClick:t[6]||(t[6]=(...t)=>e.importTheme&&e.importTheme(...t))},Object(a.O)(e.$t("settings.import_theme")),1),Object(a.k)("button",{class:"btn button-default",onClick:t[7]||(t[7]=(...t)=>e.exportTheme&&e.exportTheme(...t))},Object(a.O)(e.$t("settings.export_theme")),1)])])]),Object(a.k)("div",Yn,[Object(a.k)("span",Zn,[Object(a.m)(i,{modelValue:e.keepColor,"onUpdate:modelValue":t[8]||(t[8]=t=>e.keepColor=t)},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.style.switcher.keep_color")),1)]),_:1},8,["modelValue"])]),Object(a.k)("span",Qn,[Object(a.m)(i,{modelValue:e.keepShadows,"onUpdate:modelValue":t[9]||(t[9]=t=>e.keepShadows=t)},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.style.switcher.keep_shadows")),1)]),_:1},8,["modelValue"])]),Object(a.k)("span",Xn,[Object(a.m)(i,{modelValue:e.keepOpacity,"onUpdate:modelValue":t[10]||(t[10]=t=>e.keepOpacity=t)},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.style.switcher.keep_opacity")),1)]),_:1},8,["modelValue"])]),Object(a.k)("span",es,[Object(a.m)(i,{modelValue:e.keepRoundness,"onUpdate:modelValue":t[11]||(t[11]=t=>e.keepRoundness=t)},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.style.switcher.keep_roundness")),1)]),_:1},8,["modelValue"])]),Object(a.k)("span",ts,[Object(a.m)(i,{modelValue:e.keepFonts,"onUpdate:modelValue":t[12]||(t[12]=t=>e.keepFonts=t)},{default:Object(a.V)(()=>[Object(a.l)(Object(a.O)(e.$t("settings.style.switcher.keep_fonts")),1)]),_:1},8,["modelValue"])]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.style.switcher.save_load_hint")),1)])]),Object(a.m)(r,{style:Object(a.x)(e.previewRules)},null,8,["style"]),(Object(a.D)(),Object(a.h)(a.b,null,[Object(a.m)(h,{key:"style-tweak"},{default:Object(a.V)(()=>[Object(a.k)("div",{label:e.$t("settings.style.common_colors._tab_label"),class:"color-container"},[Object(a.k)("div",as,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.theme_help")),1),Object(a.k)("div",ns,[Object(a.k)("button",{class:"btn button-default",onClick:t[13]||(t[13]=(...t)=>e.clearOpacity&&e.clearOpacity(...t))},Object(a.O)(e.$t("settings.style.switcher.clear_opacity")),1),Object(a.k)("button",{class:"btn button-default",onClick:t[14]||(t[14]=(...t)=>e.clearV1&&e.clearV1(...t))},Object(a.O)(e.$t("settings.style.switcher.clear_all")),1)])]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.theme_help_v2_1")),1),Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.common_colors.main")),1),Object(a.k)("div",ss,[Object(a.m)(b,{modelValue:e.bgColorLocal,"onUpdate:modelValue":t[15]||(t[15]=t=>e.bgColorLocal=t),name:"bgColor",label:e.$t("settings.background")},null,8,["modelValue","label"]),Object(a.m)(u,{modelValue:e.bgOpacityLocal,"onUpdate:modelValue":t[16]||(t[16]=t=>e.bgOpacityLocal=t),name:"bgOpacity",fallback:e.previewTheme.opacity.bg},null,8,["modelValue","fallback"]),Object(a.m)(b,{modelValue:e.textColorLocal,"onUpdate:modelValue":t[17]||(t[17]=t=>e.textColorLocal=t),name:"textColor",label:e.$t("settings.text")},null,8,["modelValue","label"]),Object(a.m)(d,{contrast:e.previewContrast.bgText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.accentColorLocal,"onUpdate:modelValue":t[18]||(t[18]=t=>e.accentColorLocal=t),name:"accentColor",fallback:e.previewTheme.colors.link,label:e.$t("settings.accent"),"show-optional-tickbox":void 0!==e.linkColorLocal},null,8,["modelValue","fallback","label","show-optional-tickbox"]),Object(a.m)(b,{modelValue:e.linkColorLocal,"onUpdate:modelValue":t[19]||(t[19]=t=>e.linkColorLocal=t),name:"linkColor",fallback:e.previewTheme.colors.accent,label:e.$t("settings.links"),"show-optional-tickbox":void 0!==e.accentColorLocal},null,8,["modelValue","fallback","label","show-optional-tickbox"]),Object(a.m)(d,{contrast:e.previewContrast.bgLink},null,8,["contrast"])]),Object(a.k)("div",os,[Object(a.m)(b,{modelValue:e.fgColorLocal,"onUpdate:modelValue":t[20]||(t[20]=t=>e.fgColorLocal=t),name:"fgColor",label:e.$t("settings.foreground")},null,8,["modelValue","label"]),Object(a.m)(b,{modelValue:e.fgTextColorLocal,"onUpdate:modelValue":t[21]||(t[21]=t=>e.fgTextColorLocal=t),name:"fgTextColor",label:e.$t("settings.text"),fallback:e.previewTheme.colors.fgText},null,8,["modelValue","label","fallback"]),Object(a.m)(b,{modelValue:e.fgLinkColorLocal,"onUpdate:modelValue":t[22]||(t[22]=t=>e.fgLinkColorLocal=t),name:"fgLinkColor",label:e.$t("settings.links"),fallback:e.previewTheme.colors.fgLink},null,8,["modelValue","label","fallback"]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.style.common_colors.foreground_hint")),1)]),Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.common_colors.rgbo")),1),Object(a.k)("div",cs,[Object(a.m)(b,{modelValue:e.cRedColorLocal,"onUpdate:modelValue":t[23]||(t[23]=t=>e.cRedColorLocal=t),name:"cRedColor",label:e.$t("settings.cRed")},null,8,["modelValue","label"]),Object(a.m)(d,{contrast:e.previewContrast.bgCRed},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.cBlueColorLocal,"onUpdate:modelValue":t[24]||(t[24]=t=>e.cBlueColorLocal=t),name:"cBlueColor",label:e.$t("settings.cBlue")},null,8,["modelValue","label"]),Object(a.m)(d,{contrast:e.previewContrast.bgCBlue},null,8,["contrast"])]),Object(a.k)("div",is,[Object(a.m)(b,{modelValue:e.cGreenColorLocal,"onUpdate:modelValue":t[25]||(t[25]=t=>e.cGreenColorLocal=t),name:"cGreenColor",label:e.$t("settings.cGreen")},null,8,["modelValue","label"]),Object(a.m)(d,{contrast:e.previewContrast.bgCGreen},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.cOrangeColorLocal,"onUpdate:modelValue":t[26]||(t[26]=t=>e.cOrangeColorLocal=t),name:"cOrangeColor",label:e.$t("settings.cOrange")},null,8,["modelValue","label"]),Object(a.m)(d,{contrast:e.previewContrast.bgCOrange},null,8,["contrast"])]),Object(a.k)("p",null,Object(a.O)(e.$t("settings.theme_help_v2_2")),1)],8,ls),Object(a.k)("div",{label:e.$t("settings.style.advanced_colors._tab_label"),class:"color-container"},[Object(a.k)("div",bs,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.theme_help")),1),Object(a.k)("button",{class:"btn button-default",onClick:t[27]||(t[27]=(...t)=>e.clearOpacity&&e.clearOpacity(...t))},Object(a.O)(e.$t("settings.style.switcher.clear_opacity")),1),Object(a.k)("button",{class:"btn button-default",onClick:t[28]||(t[28]=(...t)=>e.clearV1&&e.clearV1(...t))},Object(a.O)(e.$t("settings.style.switcher.clear_all")),1)]),Object(a.k)("div",us,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.post")),1),Object(a.m)(b,{modelValue:e.postLinkColorLocal,"onUpdate:modelValue":t[29]||(t[29]=t=>e.postLinkColorLocal=t),name:"postLinkColor",fallback:e.previewTheme.colors.accent,label:e.$t("settings.links")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.postLink},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.postGreentextColorLocal,"onUpdate:modelValue":t[30]||(t[30]=t=>e.postGreentextColorLocal=t),name:"postGreentextColor",fallback:e.previewTheme.colors.cGreen,label:e.$t("settings.greentext")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.postGreentext},null,8,["contrast"]),Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.alert")),1),Object(a.m)(b,{modelValue:e.alertErrorColorLocal,"onUpdate:modelValue":t[31]||(t[31]=t=>e.alertErrorColorLocal=t),name:"alertError",label:e.$t("settings.style.advanced_colors.alert_error"),fallback:e.previewTheme.colors.alertError},null,8,["modelValue","label","fallback"]),Object(a.m)(b,{modelValue:e.alertErrorTextColorLocal,"onUpdate:modelValue":t[32]||(t[32]=t=>e.alertErrorTextColorLocal=t),name:"alertErrorText",label:e.$t("settings.text"),fallback:e.previewTheme.colors.alertErrorText},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.alertErrorText,large:""},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.alertWarningColorLocal,"onUpdate:modelValue":t[33]||(t[33]=t=>e.alertWarningColorLocal=t),name:"alertWarning",label:e.$t("settings.style.advanced_colors.alert_warning"),fallback:e.previewTheme.colors.alertWarning},null,8,["modelValue","label","fallback"]),Object(a.m)(b,{modelValue:e.alertWarningTextColorLocal,"onUpdate:modelValue":t[34]||(t[34]=t=>e.alertWarningTextColorLocal=t),name:"alertWarningText",label:e.$t("settings.text"),fallback:e.previewTheme.colors.alertWarningText},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.alertWarningText,large:""},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.alertNeutralColorLocal,"onUpdate:modelValue":t[35]||(t[35]=t=>e.alertNeutralColorLocal=t),name:"alertNeutral",label:e.$t("settings.style.advanced_colors.alert_neutral"),fallback:e.previewTheme.colors.alertNeutral},null,8,["modelValue","label","fallback"]),Object(a.m)(b,{modelValue:e.alertNeutralTextColorLocal,"onUpdate:modelValue":t[36]||(t[36]=t=>e.alertNeutralTextColorLocal=t),name:"alertNeutralText",label:e.$t("settings.text"),fallback:e.previewTheme.colors.alertNeutralText},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.alertNeutralText,large:""},null,8,["contrast"]),Object(a.m)(u,{modelValue:e.alertOpacityLocal,"onUpdate:modelValue":t[37]||(t[37]=t=>e.alertOpacityLocal=t),name:"alertOpacity",fallback:e.previewTheme.opacity.alert},null,8,["modelValue","fallback"])]),Object(a.k)("div",ds,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.badge")),1),Object(a.m)(b,{modelValue:e.badgeNotificationColorLocal,"onUpdate:modelValue":t[38]||(t[38]=t=>e.badgeNotificationColorLocal=t),name:"badgeNotification",label:e.$t("settings.style.advanced_colors.badge_notification"),fallback:e.previewTheme.colors.badgeNotification},null,8,["modelValue","label","fallback"]),Object(a.m)(b,{modelValue:e.badgeNotificationTextColorLocal,"onUpdate:modelValue":t[39]||(t[39]=t=>e.badgeNotificationTextColorLocal=t),name:"badgeNotificationText",label:e.$t("settings.text"),fallback:e.previewTheme.colors.badgeNotificationText},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.badgeNotificationText,large:""},null,8,["contrast"])]),Object(a.k)("div",Os,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.panel_header")),1),Object(a.m)(b,{modelValue:e.panelColorLocal,"onUpdate:modelValue":t[40]||(t[40]=t=>e.panelColorLocal=t),name:"panelColor",fallback:e.previewTheme.colors.panel,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(u,{modelValue:e.panelOpacityLocal,"onUpdate:modelValue":t[41]||(t[41]=t=>e.panelOpacityLocal=t),name:"panelOpacity",fallback:e.previewTheme.opacity.panel,disabled:"transparent"===e.panelColorLocal},null,8,["modelValue","fallback","disabled"]),Object(a.m)(b,{modelValue:e.panelTextColorLocal,"onUpdate:modelValue":t[42]||(t[42]=t=>e.panelTextColorLocal=t),name:"panelTextColor",fallback:e.previewTheme.colors.panelText,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.panelText,large:""},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.panelLinkColorLocal,"onUpdate:modelValue":t[43]||(t[43]=t=>e.panelLinkColorLocal=t),name:"panelLinkColor",fallback:e.previewTheme.colors.panelLink,label:e.$t("settings.links")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.panelLink,large:""},null,8,["contrast"])]),Object(a.k)("div",ps,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.top_bar")),1),Object(a.m)(b,{modelValue:e.topBarColorLocal,"onUpdate:modelValue":t[44]||(t[44]=t=>e.topBarColorLocal=t),name:"topBarColor",fallback:e.previewTheme.colors.topBar,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.topBarTextColorLocal,"onUpdate:modelValue":t[45]||(t[45]=t=>e.topBarTextColorLocal=t),name:"topBarTextColor",fallback:e.previewTheme.colors.topBarText,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.topBarText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.topBarLinkColorLocal,"onUpdate:modelValue":t[46]||(t[46]=t=>e.topBarLinkColorLocal=t),name:"topBarLinkColor",fallback:e.previewTheme.colors.topBarLink,label:e.$t("settings.links")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.topBarLink},null,8,["contrast"])]),Object(a.k)("div",js,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.inputs")),1),Object(a.m)(b,{modelValue:e.inputColorLocal,"onUpdate:modelValue":t[47]||(t[47]=t=>e.inputColorLocal=t),name:"inputColor",fallback:e.previewTheme.colors.input,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(u,{modelValue:e.inputOpacityLocal,"onUpdate:modelValue":t[48]||(t[48]=t=>e.inputOpacityLocal=t),name:"inputOpacity",fallback:e.previewTheme.opacity.input,disabled:"transparent"===e.inputColorLocal},null,8,["modelValue","fallback","disabled"]),Object(a.m)(b,{modelValue:e.inputTextColorLocal,"onUpdate:modelValue":t[49]||(t[49]=t=>e.inputTextColorLocal=t),name:"inputTextColor",fallback:e.previewTheme.colors.inputText,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.inputText},null,8,["contrast"])]),Object(a.k)("div",ms,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.buttons")),1),Object(a.m)(b,{modelValue:e.btnColorLocal,"onUpdate:modelValue":t[50]||(t[50]=t=>e.btnColorLocal=t),name:"btnColor",fallback:e.previewTheme.colors.btn,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(u,{modelValue:e.btnOpacityLocal,"onUpdate:modelValue":t[51]||(t[51]=t=>e.btnOpacityLocal=t),name:"btnOpacity",fallback:e.previewTheme.opacity.btn,disabled:"transparent"===e.btnColorLocal},null,8,["modelValue","fallback","disabled"]),Object(a.m)(b,{modelValue:e.btnTextColorLocal,"onUpdate:modelValue":t[52]||(t[52]=t=>e.btnTextColorLocal=t),name:"btnTextColor",fallback:e.previewTheme.colors.btnText,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.btnText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.btnPanelTextColorLocal,"onUpdate:modelValue":t[53]||(t[53]=t=>e.btnPanelTextColorLocal=t),name:"btnPanelTextColor",fallback:e.previewTheme.colors.btnPanelText,label:e.$t("settings.style.advanced_colors.panel_header")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.btnPanelText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.btnTopBarTextColorLocal,"onUpdate:modelValue":t[54]||(t[54]=t=>e.btnTopBarTextColorLocal=t),name:"btnTopBarTextColor",fallback:e.previewTheme.colors.btnTopBarText,label:e.$t("settings.style.advanced_colors.top_bar")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.btnTopBarText},null,8,["contrast"]),Object(a.k)("h5",null,Object(a.O)(e.$t("settings.style.advanced_colors.pressed")),1),Object(a.m)(b,{modelValue:e.btnPressedColorLocal,"onUpdate:modelValue":t[55]||(t[55]=t=>e.btnPressedColorLocal=t),name:"btnPressedColor",fallback:e.previewTheme.colors.btnPressed,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.btnPressedTextColorLocal,"onUpdate:modelValue":t[56]||(t[56]=t=>e.btnPressedTextColorLocal=t),name:"btnPressedTextColor",fallback:e.previewTheme.colors.btnPressedText,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.btnPressedText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.btnPressedPanelTextColorLocal,"onUpdate:modelValue":t[57]||(t[57]=t=>e.btnPressedPanelTextColorLocal=t),name:"btnPressedPanelTextColor",fallback:e.previewTheme.colors.btnPressedPanelText,label:e.$t("settings.style.advanced_colors.panel_header")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.btnPressedPanelText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.btnPressedTopBarTextColorLocal,"onUpdate:modelValue":t[58]||(t[58]=t=>e.btnPressedTopBarTextColorLocal=t),name:"btnPressedTopBarTextColor",fallback:e.previewTheme.colors.btnPressedTopBarText,label:e.$t("settings.style.advanced_colors.top_bar")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.btnPressedTopBarText},null,8,["contrast"]),Object(a.k)("h5",null,Object(a.O)(e.$t("settings.style.advanced_colors.disabled")),1),Object(a.m)(b,{modelValue:e.btnDisabledColorLocal,"onUpdate:modelValue":t[59]||(t[59]=t=>e.btnDisabledColorLocal=t),name:"btnDisabledColor",fallback:e.previewTheme.colors.btnDisabled,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.btnDisabledTextColorLocal,"onUpdate:modelValue":t[60]||(t[60]=t=>e.btnDisabledTextColorLocal=t),name:"btnDisabledTextColor",fallback:e.previewTheme.colors.btnDisabledText,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.btnDisabledPanelTextColorLocal,"onUpdate:modelValue":t[61]||(t[61]=t=>e.btnDisabledPanelTextColorLocal=t),name:"btnDisabledPanelTextColor",fallback:e.previewTheme.colors.btnDisabledPanelText,label:e.$t("settings.style.advanced_colors.panel_header")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.btnDisabledTopBarTextColorLocal,"onUpdate:modelValue":t[62]||(t[62]=t=>e.btnDisabledTopBarTextColorLocal=t),name:"btnDisabledTopBarTextColor",fallback:e.previewTheme.colors.btnDisabledTopBarText,label:e.$t("settings.style.advanced_colors.top_bar")},null,8,["modelValue","fallback","label"]),Object(a.k)("h5",null,Object(a.O)(e.$t("settings.style.advanced_colors.toggled")),1),Object(a.m)(b,{modelValue:e.btnToggledColorLocal,"onUpdate:modelValue":t[63]||(t[63]=t=>e.btnToggledColorLocal=t),name:"btnToggledColor",fallback:e.previewTheme.colors.btnToggled,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.btnToggledTextColorLocal,"onUpdate:modelValue":t[64]||(t[64]=t=>e.btnToggledTextColorLocal=t),name:"btnToggledTextColor",fallback:e.previewTheme.colors.btnToggledText,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.btnToggledText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.btnToggledPanelTextColorLocal,"onUpdate:modelValue":t[65]||(t[65]=t=>e.btnToggledPanelTextColorLocal=t),name:"btnToggledPanelTextColor",fallback:e.previewTheme.colors.btnToggledPanelText,label:e.$t("settings.style.advanced_colors.panel_header")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.btnToggledPanelText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.btnToggledTopBarTextColorLocal,"onUpdate:modelValue":t[66]||(t[66]=t=>e.btnToggledTopBarTextColorLocal=t),name:"btnToggledTopBarTextColor",fallback:e.previewTheme.colors.btnToggledTopBarText,label:e.$t("settings.style.advanced_colors.top_bar")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.btnToggledTopBarText},null,8,["contrast"])]),Object(a.k)("div",hs,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.tabs")),1),Object(a.m)(b,{modelValue:e.tabColorLocal,"onUpdate:modelValue":t[67]||(t[67]=t=>e.tabColorLocal=t),name:"tabColor",fallback:e.previewTheme.colors.tab,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.tabTextColorLocal,"onUpdate:modelValue":t[68]||(t[68]=t=>e.tabTextColorLocal=t),name:"tabTextColor",fallback:e.previewTheme.colors.tabText,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.tabText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.tabActiveTextColorLocal,"onUpdate:modelValue":t[69]||(t[69]=t=>e.tabActiveTextColorLocal=t),name:"tabActiveTextColor",fallback:e.previewTheme.colors.tabActiveText,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(d,{contrast:e.previewContrast.tabActiveText},null,8,["contrast"])]),Object(a.k)("div",fs,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.borders")),1),Object(a.m)(b,{modelValue:e.borderColorLocal,"onUpdate:modelValue":t[70]||(t[70]=t=>e.borderColorLocal=t),name:"borderColor",fallback:e.previewTheme.colors.border,label:e.$t("settings.style.common.color")},null,8,["modelValue","fallback","label"]),Object(a.m)(u,{modelValue:e.borderOpacityLocal,"onUpdate:modelValue":t[71]||(t[71]=t=>e.borderOpacityLocal=t),name:"borderOpacity",fallback:e.previewTheme.opacity.border,disabled:"transparent"===e.borderColorLocal},null,8,["modelValue","fallback","disabled"])]),Object(a.k)("div",gs,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.faint_text")),1),Object(a.m)(b,{modelValue:e.faintColorLocal,"onUpdate:modelValue":t[72]||(t[72]=t=>e.faintColorLocal=t),name:"faintColor",fallback:e.previewTheme.colors.faint,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.faintLinkColorLocal,"onUpdate:modelValue":t[73]||(t[73]=t=>e.faintLinkColorLocal=t),name:"faintLinkColor",fallback:e.previewTheme.colors.faintLink,label:e.$t("settings.links")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.panelFaintColorLocal,"onUpdate:modelValue":t[74]||(t[74]=t=>e.panelFaintColorLocal=t),name:"panelFaintColor",fallback:e.previewTheme.colors.panelFaint,label:e.$t("settings.style.advanced_colors.panel_header")},null,8,["modelValue","fallback","label"]),Object(a.m)(u,{modelValue:e.faintOpacityLocal,"onUpdate:modelValue":t[75]||(t[75]=t=>e.faintOpacityLocal=t),name:"faintOpacity",fallback:e.previewTheme.opacity.faint},null,8,["modelValue","fallback"])]),Object(a.k)("div",ks,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.underlay")),1),Object(a.m)(b,{modelValue:e.underlayColorLocal,"onUpdate:modelValue":t[76]||(t[76]=t=>e.underlayColorLocal=t),name:"underlay",label:e.$t("settings.style.advanced_colors.underlay"),fallback:e.previewTheme.colors.underlay},null,8,["modelValue","label","fallback"]),Object(a.m)(u,{modelValue:e.underlayOpacityLocal,"onUpdate:modelValue":t[77]||(t[77]=t=>e.underlayOpacityLocal=t),name:"underlayOpacity",fallback:e.previewTheme.opacity.underlay,disabled:"transparent"===e.underlayOpacityLocal},null,8,["modelValue","fallback","disabled"])]),Object(a.k)("div",vs,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.wallpaper")),1),Object(a.m)(b,{modelValue:e.wallpaperColorLocal,"onUpdate:modelValue":t[78]||(t[78]=t=>e.wallpaperColorLocal=t),name:"wallpaper",label:e.$t("settings.style.advanced_colors.wallpaper"),fallback:e.previewTheme.colors.wallpaper},null,8,["modelValue","label","fallback"])]),Object(a.k)("div",ys,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.poll")),1),Object(a.m)(b,{modelValue:e.pollColorLocal,"onUpdate:modelValue":t[79]||(t[79]=t=>e.pollColorLocal=t),name:"poll",label:e.$t("settings.background"),fallback:e.previewTheme.colors.poll},null,8,["modelValue","label","fallback"]),Object(a.m)(b,{modelValue:e.pollTextColorLocal,"onUpdate:modelValue":t[80]||(t[80]=t=>e.pollTextColorLocal=t),name:"pollText",label:e.$t("settings.text"),fallback:e.previewTheme.colors.pollText},null,8,["modelValue","label","fallback"])]),Object(a.k)("div",ws,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.icons")),1),Object(a.m)(b,{modelValue:e.iconColorLocal,"onUpdate:modelValue":t[81]||(t[81]=t=>e.iconColorLocal=t),name:"icon",label:e.$t("settings.style.advanced_colors.icons"),fallback:e.previewTheme.colors.icon},null,8,["modelValue","label","fallback"])]),Object(a.k)("div",_s,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.highlight")),1),Object(a.m)(b,{modelValue:e.highlightColorLocal,"onUpdate:modelValue":t[82]||(t[82]=t=>e.highlightColorLocal=t),name:"highlight",label:e.$t("settings.background"),fallback:e.previewTheme.colors.highlight},null,8,["modelValue","label","fallback"]),Object(a.m)(b,{modelValue:e.highlightTextColorLocal,"onUpdate:modelValue":t[83]||(t[83]=t=>e.highlightTextColorLocal=t),name:"highlightText",label:e.$t("settings.text"),fallback:e.previewTheme.colors.highlightText},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.highlightText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.highlightLinkColorLocal,"onUpdate:modelValue":t[84]||(t[84]=t=>e.highlightLinkColorLocal=t),name:"highlightLink",label:e.$t("settings.links"),fallback:e.previewTheme.colors.highlightLink},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.highlightLink},null,8,["contrast"])]),Object(a.k)("div",Vs,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.popover")),1),Object(a.m)(b,{modelValue:e.popoverColorLocal,"onUpdate:modelValue":t[85]||(t[85]=t=>e.popoverColorLocal=t),name:"popover",label:e.$t("settings.background"),fallback:e.previewTheme.colors.popover},null,8,["modelValue","label","fallback"]),Object(a.m)(u,{modelValue:e.popoverOpacityLocal,"onUpdate:modelValue":t[86]||(t[86]=t=>e.popoverOpacityLocal=t),name:"popoverOpacity",fallback:e.previewTheme.opacity.popover,disabled:"transparent"===e.popoverOpacityLocal},null,8,["modelValue","fallback","disabled"]),Object(a.m)(b,{modelValue:e.popoverTextColorLocal,"onUpdate:modelValue":t[87]||(t[87]=t=>e.popoverTextColorLocal=t),name:"popoverText",label:e.$t("settings.text"),fallback:e.previewTheme.colors.popoverText},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.popoverText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.popoverLinkColorLocal,"onUpdate:modelValue":t[88]||(t[88]=t=>e.popoverLinkColorLocal=t),name:"popoverLink",label:e.$t("settings.links"),fallback:e.previewTheme.colors.popoverLink},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.popoverLink},null,8,["contrast"])]),Object(a.k)("div",$s,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.selectedPost")),1),Object(a.m)(b,{modelValue:e.selectedPostColorLocal,"onUpdate:modelValue":t[89]||(t[89]=t=>e.selectedPostColorLocal=t),name:"selectedPost",label:e.$t("settings.background"),fallback:e.previewTheme.colors.selectedPost},null,8,["modelValue","label","fallback"]),Object(a.m)(b,{modelValue:e.selectedPostTextColorLocal,"onUpdate:modelValue":t[90]||(t[90]=t=>e.selectedPostTextColorLocal=t),name:"selectedPostText",label:e.$t("settings.text"),fallback:e.previewTheme.colors.selectedPostText},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.selectedPostText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.selectedPostLinkColorLocal,"onUpdate:modelValue":t[91]||(t[91]=t=>e.selectedPostLinkColorLocal=t),name:"selectedPostLink",label:e.$t("settings.links"),fallback:e.previewTheme.colors.selectedPostLink},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.selectedPostLink},null,8,["contrast"])]),Object(a.k)("div",Cs,[Object(a.k)("h4",null,Object(a.O)(e.$t("settings.style.advanced_colors.selectedMenu")),1),Object(a.m)(b,{modelValue:e.selectedMenuColorLocal,"onUpdate:modelValue":t[92]||(t[92]=t=>e.selectedMenuColorLocal=t),name:"selectedMenu",label:e.$t("settings.background"),fallback:e.previewTheme.colors.selectedMenu},null,8,["modelValue","label","fallback"]),Object(a.m)(b,{modelValue:e.selectedMenuTextColorLocal,"onUpdate:modelValue":t[93]||(t[93]=t=>e.selectedMenuTextColorLocal=t),name:"selectedMenuText",label:e.$t("settings.text"),fallback:e.previewTheme.colors.selectedMenuText},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.selectedMenuText},null,8,["contrast"]),Object(a.m)(b,{modelValue:e.selectedMenuLinkColorLocal,"onUpdate:modelValue":t[94]||(t[94]=t=>e.selectedMenuLinkColorLocal=t),name:"selectedMenuLink",label:e.$t("settings.links"),fallback:e.previewTheme.colors.selectedMenuLink},null,8,["modelValue","label","fallback"]),Object(a.m)(d,{contrast:e.previewContrast.selectedMenuLink},null,8,["contrast"])]),Object(a.k)("div",Ts,[Object(a.k)("h4",null,Object(a.O)(e.$t("chats.chats")),1),Object(a.m)(b,{modelValue:e.chatBgColorLocal,"onUpdate:modelValue":t[95]||(t[95]=t=>e.chatBgColorLocal=t),name:"chatBgColor",fallback:e.previewTheme.colors.bg,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.k)("h5",null,Object(a.O)(e.$t("settings.style.advanced_colors.chat.incoming")),1),Object(a.m)(b,{modelValue:e.chatMessageIncomingBgColorLocal,"onUpdate:modelValue":t[96]||(t[96]=t=>e.chatMessageIncomingBgColorLocal=t),name:"chatMessageIncomingBgColor",fallback:e.previewTheme.colors.bg,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.chatMessageIncomingTextColorLocal,"onUpdate:modelValue":t[97]||(t[97]=t=>e.chatMessageIncomingTextColorLocal=t),name:"chatMessageIncomingTextColor",fallback:e.previewTheme.colors.text,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.chatMessageIncomingLinkColorLocal,"onUpdate:modelValue":t[98]||(t[98]=t=>e.chatMessageIncomingLinkColorLocal=t),name:"chatMessageIncomingLinkColor",fallback:e.previewTheme.colors.link,label:e.$t("settings.links")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.chatMessageIncomingBorderColorLocal,"onUpdate:modelValue":t[99]||(t[99]=t=>e.chatMessageIncomingBorderColorLocal=t),name:"chatMessageIncomingBorderLinkColor",fallback:e.previewTheme.colors.fg,label:e.$t("settings.style.advanced_colors.chat.border")},null,8,["modelValue","fallback","label"]),Object(a.k)("h5",null,Object(a.O)(e.$t("settings.style.advanced_colors.chat.outgoing")),1),Object(a.m)(b,{modelValue:e.chatMessageOutgoingBgColorLocal,"onUpdate:modelValue":t[100]||(t[100]=t=>e.chatMessageOutgoingBgColorLocal=t),name:"chatMessageOutgoingBgColor",fallback:e.previewTheme.colors.bg,label:e.$t("settings.background")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.chatMessageOutgoingTextColorLocal,"onUpdate:modelValue":t[101]||(t[101]=t=>e.chatMessageOutgoingTextColorLocal=t),name:"chatMessageOutgoingTextColor",fallback:e.previewTheme.colors.text,label:e.$t("settings.text")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.chatMessageOutgoingLinkColorLocal,"onUpdate:modelValue":t[102]||(t[102]=t=>e.chatMessageOutgoingLinkColorLocal=t),name:"chatMessageOutgoingLinkColor",fallback:e.previewTheme.colors.link,label:e.$t("settings.links")},null,8,["modelValue","fallback","label"]),Object(a.m)(b,{modelValue:e.chatMessageOutgoingBorderColorLocal,"onUpdate:modelValue":t[103]||(t[103]=t=>e.chatMessageOutgoingBorderColorLocal=t),name:"chatMessageOutgoingBorderLinkColor",fallback:e.previewTheme.colors.bg,label:e.$t("settings.style.advanced_colors.chat.border")},null,8,["modelValue","fallback","label"])])],8,rs),Object(a.k)("div",{label:e.$t("settings.style.radii._tab_label"),class:"radius-container"},[Object(a.k)("div",Ls,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.radii_help")),1),Object(a.k)("button",{class:"btn button-default",onClick:t[104]||(t[104]=(...t)=>e.clearRoundness&&e.clearRoundness(...t))},Object(a.O)(e.$t("settings.style.switcher.clear_all")),1)]),Object(a.m)(O,{modelValue:e.btnRadiusLocal,"onUpdate:modelValue":t[105]||(t[105]=t=>e.btnRadiusLocal=t),name:"btnRadius",label:e.$t("settings.btnRadius"),fallback:e.previewTheme.radii.btn,max:"16","hard-min":"0"},null,8,["modelValue","label","fallback"]),Object(a.m)(O,{modelValue:e.inputRadiusLocal,"onUpdate:modelValue":t[106]||(t[106]=t=>e.inputRadiusLocal=t),name:"inputRadius",label:e.$t("settings.inputRadius"),fallback:e.previewTheme.radii.input,max:"9","hard-min":"0"},null,8,["modelValue","label","fallback"]),Object(a.m)(O,{modelValue:e.checkboxRadiusLocal,"onUpdate:modelValue":t[107]||(t[107]=t=>e.checkboxRadiusLocal=t),name:"checkboxRadius",label:e.$t("settings.checkboxRadius"),fallback:e.previewTheme.radii.checkbox,max:"16","hard-min":"0"},null,8,["modelValue","label","fallback"]),Object(a.m)(O,{modelValue:e.panelRadiusLocal,"onUpdate:modelValue":t[108]||(t[108]=t=>e.panelRadiusLocal=t),name:"panelRadius",label:e.$t("settings.panelRadius"),fallback:e.previewTheme.radii.panel,max:"50","hard-min":"0"},null,8,["modelValue","label","fallback"]),Object(a.m)(O,{modelValue:e.avatarRadiusLocal,"onUpdate:modelValue":t[109]||(t[109]=t=>e.avatarRadiusLocal=t),name:"avatarRadius",label:e.$t("settings.avatarRadius"),fallback:e.previewTheme.radii.avatar,max:"28","hard-min":"0"},null,8,["modelValue","label","fallback"]),Object(a.m)(O,{modelValue:e.avatarAltRadiusLocal,"onUpdate:modelValue":t[110]||(t[110]=t=>e.avatarAltRadiusLocal=t),name:"avatarAltRadius",label:e.$t("settings.avatarAltRadius"),fallback:e.previewTheme.radii.avatarAlt,max:"28","hard-min":"0"},null,8,["modelValue","label","fallback"]),Object(a.m)(O,{modelValue:e.attachmentRadiusLocal,"onUpdate:modelValue":t[111]||(t[111]=t=>e.attachmentRadiusLocal=t),name:"attachmentRadius",label:e.$t("settings.attachmentRadius"),fallback:e.previewTheme.radii.attachment,max:"50","hard-min":"0"},null,8,["modelValue","label","fallback"]),Object(a.m)(O,{modelValue:e.tooltipRadiusLocal,"onUpdate:modelValue":t[112]||(t[112]=t=>e.tooltipRadiusLocal=t),name:"tooltipRadius",label:e.$t("settings.tooltipRadius"),fallback:e.previewTheme.radii.tooltip,max:"50","hard-min":"0"},null,8,["modelValue","label","fallback"]),Object(a.m)(O,{modelValue:e.chatMessageRadiusLocal,"onUpdate:modelValue":t[113]||(t[113]=t=>e.chatMessageRadiusLocal=t),name:"chatMessageRadius",label:e.$t("settings.chatMessageRadius"),fallback:e.previewTheme.radii.chatMessage||2,max:"50","hard-min":"0"},null,8,["modelValue","label","fallback"])],8,xs),Object(a.k)("div",{label:e.$t("settings.style.shadows._tab_label"),class:"shadow-container"},[Object(a.k)("div",Ds,[Object(a.k)("div",Ps,[Object(a.l)(Object(a.O)(e.$t("settings.style.shadows.component"))+" "+Object(a.O)(" ")+" ",1),Object(a.m)(c,{id:"shadow-switcher",modelValue:e.shadowSelected,"onUpdate:modelValue":t[114]||(t[114]=t=>e.shadowSelected=t),class:"shadow-switcher"},{default:Object(a.V)(()=>[(Object(a.D)(!0),Object(a.j)(a.a,null,Object(a.H)(e.shadowsAvailable,t=>(Object(a.D)(),Object(a.j)("option",{key:t,value:t},Object(a.O)(e.$t("settings.style.shadows.components."+t)),9,Us))),128))]),_:1},8,["modelValue"])]),Object(a.k)("div",Is,[Object(a.k)("label",Bs,Object(a.O)(e.$t("settings.style.shadows.override")),1),Fs,Object(a.W)(Object(a.k)("input",{id:"override","onUpdate:modelValue":t[115]||(t[115]=t=>e.currentShadowOverriden=t),name:"override",class:"input-override",type:"checkbox"},null,512),[[a.R,e.currentShadowOverriden]]),Es]),Object(a.k)("button",{class:"btn button-default",onClick:t[116]||(t[116]=(...t)=>e.clearShadows&&e.clearShadows(...t))},Object(a.O)(e.$t("settings.style.switcher.clear_all")),1)]),Object(a.m)(p,{modelValue:e.currentShadow,"onUpdate:modelValue":t[117]||(t[117]=t=>e.currentShadow=t),ready:!!e.currentShadowFallback,fallback:e.currentShadowFallback},null,8,["modelValue","ready","fallback"]),"avatar"===e.shadowSelected||"avatarStatus"===e.shadowSelected?(Object(a.D)(),Object(a.j)("div",As,[Object(a.m)(j,{scope:"global",keypath:"settings.style.shadows.filter_hint.always_drop_shadow",tag:"p"},{default:Object(a.V)(()=>[Ms]),_:1}),Object(a.k)("p",null,Object(a.O)(e.$t("settings.style.shadows.filter_hint.avatar_inset")),1),Object(a.m)(j,{scope:"global",keypath:"settings.style.shadows.filter_hint.drop_shadow_syntax",tag:"p"},{default:Object(a.V)(()=>[Rs,Ws,Js]),_:1}),Object(a.m)(j,{scope:"global",keypath:"settings.style.shadows.filter_hint.inset_classic",tag:"p"},{default:Object(a.V)(()=>[Ns]),_:1}),Object(a.k)("p",null,Object(a.O)(e.$t("settings.style.shadows.filter_hint.spread_zero")),1)])):Object(a.i)("",!0)],8,Ss),Object(a.k)("div",{label:e.$t("settings.style.fonts._tab_label"),class:"fonts-container"},[Object(a.k)("div",Gs,[Object(a.k)("p",null,Object(a.O)(e.$t("settings.style.fonts.help")),1),Object(a.k)("button",{class:"btn button-default",onClick:t[118]||(t[118]=(...t)=>e.clearFonts&&e.clearFonts(...t))},Object(a.O)(e.$t("settings.style.switcher.clear_all")),1)]),Object(a.m)(m,{modelValue:e.fontsLocal.interface,"onUpdate:modelValue":t[119]||(t[119]=t=>e.fontsLocal.interface=t),name:"ui",label:e.$t("settings.style.fonts.components.interface"),fallback:e.previewTheme.fonts.interface,"no-inherit":"1"},null,8,["modelValue","label","fallback"]),Object(a.m)(m,{modelValue:e.fontsLocal.input,"onUpdate:modelValue":t[120]||(t[120]=t=>e.fontsLocal.input=t),name:"input",label:e.$t("settings.style.fonts.components.input"),fallback:e.previewTheme.fonts.input},null,8,["modelValue","label","fallback"]),Object(a.m)(m,{modelValue:e.fontsLocal.post,"onUpdate:modelValue":t[121]||(t[121]=t=>e.fontsLocal.post=t),name:"post",label:e.$t("settings.style.fonts.components.post"),fallback:e.previewTheme.fonts.post},null,8,["modelValue","label","fallback"]),Object(a.m)(m,{modelValue:e.fontsLocal.postCode,"onUpdate:modelValue":t[122]||(t[122]=t=>e.fontsLocal.postCode=t),name:"postCode",label:e.$t("settings.style.fonts.components.postCode"),fallback:e.previewTheme.fonts.postCode},null,8,["modelValue","label","fallback"])],8,qs)]),_:1})],1024)),e.isActive?(Object(a.D)(),Object(a.h)(a.c,{key:0,to:"#unscrolled-content"},[Object(a.k)("div",Hs,[Object(a.k)("button",{class:"btn button-default submit",disabled:!e.themeValid,onClick:t[123]||(t[123]=(...t)=>e.setCustomTheme&&e.setCustomTheme(...t))},Object(a.O)(e.$t("general.apply")),9,zs),Object(a.k)("button",{class:"btn button-default",onClick:t[124]||(t[124]=(...t)=>e.clearAll&&e.clearAll(...t))},Object(a.O)(e.$t("settings.style.switcher.reset")),1)])])):Object(a.i)("",!0)])}]]);T.c.add(x.yb,x.ub,x.G,x.R,x.i,x.u,x.C,x.L);var ei={components:{TabSwitcher:O.a,DataImportExportTab:W,MutesAndBlocksTab:Ge,NotificationsTab:St,FilteringTab:ll,SecurityTab:oa,ProfileTab:sn,GeneralTab:xn,VersionTab:En,ThemeTab:Xc},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},open:function(){return"hidden"!==this.$store.state.interface.settingsModalState},bodyLock:function(){return"visible"===this.$store.state.interface.settingsModalState}},methods:{onOpen:function(){var e=this.$store.state.interface.settingsModalTargetTab;if(e){var t=this.$refs.tabSwitcher.$slots.default().findIndex((function(t){return t.props&&t.props["data-tab-name"]===e}));t>=0&&this.$refs.tabSwitcher.setTab(t)}this.$store.dispatch("clearSettingsModalTargetTab")}},mounted:function(){this.onOpen()},watch:{open:function(e){e&&this.onOpen()}}};l(701);const ti=D()(ei,[["render",function(e,t,l,O,p,j){const m=Object(a.J)("GeneralTab"),h=Object(a.J)("ProfileTab"),f=Object(a.J)("SecurityTab"),g=Object(a.J)("FilteringTab"),k=Object(a.J)("ThemeTab"),v=Object(a.J)("NotificationsTab"),y=Object(a.J)("DataImportExportTab"),w=Object(a.J)("MutesAndBlocksTab"),_=Object(a.J)("VersionTab"),V=Object(a.J)("tab-switcher");return Object(a.D)(),Object(a.h)(V,{ref:"tabSwitcher",class:"settings_tab-switcher","side-tab-bar":!0,"scrollable-tabs":!0,"body-scroll-lock":e.bodyLock},{default:Object(a.V)(()=>[Object(a.k)("div",{label:e.$t("settings.general"),icon:"wrench","data-tab-name":"general"},[Object(a.m)(m)],8,n),e.isLoggedIn?(Object(a.D)(),Object(a.j)("div",{key:0,label:e.$t("settings.profile_tab"),icon:"user","data-tab-name":"profile"},[Object(a.m)(h)],8,s)):Object(a.i)("",!0),e.isLoggedIn?(Object(a.D)(),Object(a.j)("div",{key:1,label:e.$t("settings.security_tab"),icon:"lock","data-tab-name":"security"},[Object(a.m)(f)],8,o)):Object(a.i)("",!0),Object(a.k)("div",{label:e.$t("settings.filtering"),icon:"filter","data-tab-name":"filtering"},[Object(a.m)(g)],8,c),Object(a.k)("div",{label:e.$t("settings.theme"),icon:"paint-brush","data-tab-name":"theme"},[Object(a.m)(k)],8,i),e.isLoggedIn?(Object(a.D)(),Object(a.j)("div",{key:2,label:e.$t("settings.notifications"),icon:"bell","data-tab-name":"notifications"},[Object(a.m)(v)],8,r)):Object(a.i)("",!0),e.isLoggedIn?(Object(a.D)(),Object(a.j)("div",{key:3,label:e.$t("settings.data_import_export_tab"),icon:"download","data-tab-name":"dataImportExport"},[Object(a.m)(y)],8,b)):Object(a.i)("",!0),e.isLoggedIn?(Object(a.D)(),Object(a.j)("div",{key:4,label:e.$t("settings.mutes_and_blocks"),fullHeight:!0,icon:"eye-slash","data-tab-name":"mutesAndBlocks"},[Object(a.m)(w)],8,u)):Object(a.i)("",!0),Object(a.k)("div",{label:e.$t("settings.version.title"),icon:"info","data-tab-name":"version"},[Object(a.m)(_)],8,d)]),_:1},8,["body-scroll-lock"])}]]);t.default=ti}}]);
//# sourceMappingURL=2.eefa7ccf1b294cd5d8f6.js.map
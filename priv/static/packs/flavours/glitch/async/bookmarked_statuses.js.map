{"version":3,"sources":["webpack:///app/javascript/builds/pleroma/mastofe/app/javascript/flavours/glitch/features/bookmarked_statuses/index.js"],"names":["messages","defineMessages","heading","id","defaultMessage","Bookmarks","connect","state","statusIds","getIn","isLoading","hasMore","injectIntl","_this$props","_this","props","columnId","dispatch","removeColumn","addColumn","dir","_this$props2","moveColumn","column","scrollTop","c","lodash_debounce__WEBPACK_IMPORTED_MODULE_4___default","expandBookmarkedStatuses","leading","componentWillMount","this","fetchBookmarkedStatuses","render","_this$props3","intl","multiColumn","pinned","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","flavours_glitch_features_ui_components_column__WEBPACK_IMPORTED_MODULE_10__","ref","setRef","name","Object","_babel_runtime_helpers_esm_jsx__WEBPACK_IMPORTED_MODULE_0__","flavours_glitch_components_column_header__WEBPACK_IMPORTED_MODULE_11__","icon","title","formatMessage","onPin","handlePin","onMove","handleMove","onClick","handleHeaderClick","showBackButton","flavours_glitch_components_status_list__WEBPACK_IMPORTED_MODULE_13__","trackScroll","scrollKey","onLoadMore","handleLoadMore","ImmutablePureComponent","PropTypes","func","isRequired","ImmutablePropTypes","list","object","string","bool"],"mappings":"oTAaMA,EAAWC,YAAe,CAC9BC,QAAO,CAAAC,GAAA,mBAAAC,eAAA,eAWYC,EAFpBC,kBANuB,SAAAC,GAAK,MAAK,CAChCC,UAAWD,EAAME,MAAM,CAAC,eAAgB,YAAa,UACrDC,UAAWH,EAAME,MAAM,CAAC,eAAgB,YAAa,cAAc,GACnEE,UAAWJ,EAAME,MAAM,CAAC,eAAgB,YAAa,cAItDG,2MAiBa,WAAM,IAAAC,EACeC,EAAKC,MAA5BC,EADQH,EACRG,SAAUC,EADFJ,EACEI,SAGhBA,EADED,EACOE,YAAaF,GAEbG,YAAU,YAAa,+CAIvB,SAACC,GAAQ,IAAAC,EACWP,EAAKC,MAA5BC,EADYK,EACZL,UACRC,EAFoBI,EACFJ,UACTK,YAAWN,EAAUI,qDAGZ,WAClBN,EAAKS,OAAOC,kDAGL,SAAAC,GACPX,EAAKS,OAASE,gDAGCC,IAAS,WACxBZ,EAAKC,MAAME,SAASU,gBACnB,IAAK,CAAEC,SAAS,mDA7BnBC,mBAAA,WACEC,KAAKf,MAAME,SAASc,kBA8BtBC,OAAA,WAAU,IAAAC,EAC+DH,KAAKf,MAApEmB,EADAD,EACAC,KAAM1B,EADNyB,EACMzB,UAAWQ,EADjBiB,EACiBjB,SAAUmB,EAD3BF,EAC2BE,YAAaxB,EADxCsB,EACwCtB,QAASD,EADjDuB,EACiDvB,UACnD0B,IAAWpB,EAEjB,OACEqB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,IAAKX,KAAKY,OAAQC,KAAK,aAC7BC,OAAAC,EAAA,EAAAD,CAACE,EAAA,EAAD,CACEC,KAAK,WACLC,MAAOd,EAAKe,cAAcjD,EAASE,SACnCgD,MAAOpB,KAAKqB,UACZC,OAAQtB,KAAKuB,WACbC,QAASxB,KAAKyB,kBACdnB,OAAQA,EACRD,YAAaA,EACbqB,gBAAc,IAGhBZ,OAAAC,EAAA,EAAAD,CAACa,EAAA,EAAD,CACEC,aAActB,EACd5B,UAAWA,EACXmD,UAAS,uBAAyB3C,EAClCL,QAASA,EACTD,UAAWA,EACXkD,WAAY9B,KAAK+B,sBAlEYC,+BAElB,CACjB7C,SAAU8C,IAAUC,KAAKC,WACzBzD,UAAW0D,IAAmBC,KAAKF,WACnC/B,KAAM6B,IAAUK,OAAOH,WACvBjD,SAAU+C,IAAUM,OACpBlC,YAAa4B,IAAUO,KACvB3D,QAASoD,IAAUO,KACnB5D,UAAWqD,IAAUO","file":"flavours/glitch/async/bookmarked_statuses.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { fetchBookmarkedStatuses, expandBookmarkedStatuses } from 'flavours/glitch/actions/bookmarks';\nimport Column from 'flavours/glitch/features/ui/components/column';\nimport ColumnHeader from 'flavours/glitch/components/column_header';\nimport { addColumn, removeColumn, moveColumn } from 'flavours/glitch/actions/columns';\nimport StatusList from 'flavours/glitch/components/status_list';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { debounce } from 'lodash';\n\nconst messages = defineMessages({\n  heading: { id: 'column.bookmarks', defaultMessage: 'Bookmarks' },\n});\n\nconst mapStateToProps = state => ({\n  statusIds: state.getIn(['status_lists', 'bookmarks', 'items']),\n  isLoading: state.getIn(['status_lists', 'bookmarks', 'isLoading'], true),\n  hasMore: !!state.getIn(['status_lists', 'bookmarks', 'next']),\n});\n\n@connect(mapStateToProps)\n@injectIntl\nexport default class Bookmarks extends ImmutablePureComponent {\n\n  static propTypes = {\n    dispatch: PropTypes.func.isRequired,\n    statusIds: ImmutablePropTypes.list.isRequired,\n    intl: PropTypes.object.isRequired,\n    columnId: PropTypes.string,\n    multiColumn: PropTypes.bool,\n    hasMore: PropTypes.bool,\n    isLoading: PropTypes.bool,\n  };\n\n  componentWillMount () {\n    this.props.dispatch(fetchBookmarkedStatuses());\n  }\n\n  handlePin = () => {\n    const { columnId, dispatch } = this.props;\n\n    if (columnId) {\n      dispatch(removeColumn(columnId));\n    } else {\n      dispatch(addColumn('BOOKMARKS', {}));\n    }\n  }\n\n  handleMove = (dir) => {\n    const { columnId, dispatch } = this.props;\n    dispatch(moveColumn(columnId, dir));\n  }\n\n  handleHeaderClick = () => {\n    this.column.scrollTop();\n  }\n\n  setRef = c => {\n    this.column = c;\n  }\n\n  handleLoadMore = debounce(() => {\n    this.props.dispatch(expandBookmarkedStatuses());\n  }, 300, { leading: true })\n\n  render () {\n    const { intl, statusIds, columnId, multiColumn, hasMore, isLoading } = this.props;\n    const pinned = !!columnId;\n\n    return (\n      <Column ref={this.setRef} name='bookmarks'>\n        <ColumnHeader\n          icon='bookmark'\n          title={intl.formatMessage(messages.heading)}\n          onPin={this.handlePin}\n          onMove={this.handleMove}\n          onClick={this.handleHeaderClick}\n          pinned={pinned}\n          multiColumn={multiColumn}\n          showBackButton\n        />\n\n        <StatusList\n          trackScroll={!pinned}\n          statusIds={statusIds}\n          scrollKey={`bookmarked_statuses-${columnId}`}\n          hasMore={hasMore}\n          isLoading={isLoading}\n          onLoadMore={this.handleLoadMore}\n        />\n      </Column>\n    );\n  }\n\n}\n"],"sourceRoot":""}
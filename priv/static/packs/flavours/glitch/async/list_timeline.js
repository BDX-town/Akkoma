(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{764:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return N}));var s,a,n,l=i(0),o=i(2),c=i(7),d=i(1),r=i(3),p=i.n(r),b=i(13),u=i(5),h=i.n(u),m=i(1033),j=i(734),O=i(732),f=i(249),v=i(6),g=i(739),_=i(32),y=i(28),M=i(42),C=i(1029),I=i(299),k=i(23),w=Object(v.f)({deleteMessage:{id:"confirmations.delete_list.message",defaultMessage:"Are you sure you want to permanently delete this list?"},deleteConfirm:{id:"confirmations.delete_list.confirm",defaultMessage:"Delete"},all_replies:{id:"lists.replies_policy.all_replies",defaultMessage:"any followed user"},no_replies:{id:"lists.replies_policy.no_replies",defaultMessage:"no one"},list_replies:{id:"lists.replies_policy.list_replies",defaultMessage:"members of the list"}}),N=Object(b.connect)((function(e,t){return{list:e.getIn(["lists",t.params.id]),hasUnread:e.getIn(["timelines","list:"+t.params.id,"unread"])>0}}))(s=Object(v.g)((n=a=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,Object(d.a)(Object(o.a)(t),"handlePin",(function(){var e=t.props,i=e.columnId,s=e.dispatch;i?s(Object(f.h)(i)):(s(Object(f.e)("LIST",{id:t.props.params.id})),t.context.router.history.push("/"))})),Object(d.a)(Object(o.a)(t),"handleMove",(function(e){var i=t.props,s=i.columnId;(0,i.dispatch)(Object(f.g)(s,e))})),Object(d.a)(Object(o.a)(t),"handleHeaderClick",(function(){t.column.scrollTop()})),Object(d.a)(Object(o.a)(t),"setRef",(function(e){t.column=e})),Object(d.a)(Object(o.a)(t),"handleLoadMore",(function(e){var i=t.props.params.id;t.props.dispatch(Object(_.v)(i,{maxId:e}))})),Object(d.a)(Object(o.a)(t),"handleEditClick",(function(){t.props.dispatch(Object(M.d)("LIST_EDITOR",{listId:t.props.params.id}))})),Object(d.a)(Object(o.a)(t),"handleDeleteClick",(function(){var e=t.props,i=e.dispatch,s=e.columnId,a=e.intl,n=t.props.params.id;i(Object(M.d)("CONFIRM",{message:a.formatMessage(w.deleteMessage),confirm:a.formatMessage(w.deleteConfirm),onConfirm:function(){i(Object(y.F)(n)),s?i(Object(f.h)(s)):t.context.router.history.push("/lists")}}))})),Object(d.a)(Object(o.a)(t),"handleRepliesPolicyChange",(function(e){var i=e.target,s=t.props,a=(s.dispatch,s.list,t.props.params.id);t.props.dispatch(Object(y.Q)(a,void 0,!1,i.value))})),t}Object(c.a)(t,e);var i=t.prototype;return i.componentDidMount=function(){var e=this.props.dispatch,t=this.props.params.id;e(Object(y.G)(t)),e(Object(_.v)(t)),this.disconnect=e(Object(g.d)(t))},i.componentWillReceiveProps=function(e){var t=this.props.dispatch,i=e.params.id;i!==this.props.params.id&&(this.disconnect&&(this.disconnect(),this.disconnect=null),t(Object(y.G)(i)),t(Object(_.v)(i)),this.disconnect=t(Object(g.d)(i)))},i.componentWillUnmount=function(){this.disconnect&&(this.disconnect(),this.disconnect=null)},i.render=function(){var e=this,t=this.props,i=t.hasUnread,s=t.columnId,a=t.multiColumn,n=t.list,o=(t.intl,this.props.params.id),c=!!s,d=n?n.get("title"):o,r=n?n.get("replies_policy"):void 0;return void 0===n?Object(l.a)(j.a,{},void 0,Object(l.a)("div",{className:"scrollable"},void 0,Object(l.a)(I.a,{}))):!1===n?Object(l.a)(j.a,{},void 0,Object(l.a)("div",{className:"scrollable"},void 0,Object(l.a)(C.a,{}))):p.a.createElement(j.a,{ref:this.setRef,label:d},Object(l.a)(O.a,{icon:"list-ul",active:i,title:d,onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:c,multiColumn:a,bindToDocument:!a},void 0,Object(l.a)("div",{className:"column-header__links"},void 0,Object(l.a)("button",{className:"text-btn column-header__setting-btn",tabIndex:"0",onClick:this.handleEditClick},void 0,Object(l.a)(k.a,{id:"pencil"})," ",Object(l.a)(v.b,{id:"lists.edit",defaultMessage:"Edit list"})),Object(l.a)("button",{className:"text-btn column-header__setting-btn",tabIndex:"0",onClick:this.handleDeleteClick},void 0,Object(l.a)(k.a,{id:"trash"})," ",Object(l.a)(v.b,{id:"lists.delete",defaultMessage:"Delete list"}))),void 0!==r&&Object(l.a)("div",{},void 0,Object(l.a)("div",{className:"column-settings__row"},void 0,Object(l.a)("fieldset",{},void 0,Object(l.a)("legend",{},void 0,Object(l.a)(v.b,{id:"lists.replies_policy.title",defaultMessage:"Show replies to:"})),["no_replies","list_replies","all_replies"].map((function(t){return Object(l.a)("div",{className:"setting-radio"},void 0,Object(l.a)("input",{className:"setting-radio__input",id:["setting","radio",o,t].join("-"),type:"radio",value:t,checked:r===t,onChange:e.handleRepliesPolicyChange}),Object(l.a)("label",{className:"setting-radio__label",htmlFor:["setting","radio",o,t].join("-")},void 0,p.a.createElement(v.b,w[t])))}))))),Object(l.a)("hr",{})),Object(l.a)(m.a,{trackScroll:!c,scrollKey:"list_timeline-"+s,timelineId:"list:"+o,onLoadMore:this.handleLoadMore,emptyMessage:Object(l.a)(v.b,{id:"empty_column.list",defaultMessage:"There is nothing in this list yet."}),bindToDocument:!a}))},t}(p.a.PureComponent),Object(d.a)(a,"contextTypes",{router:h.a.object}),s=n))||s)||s}}]);
//# sourceMappingURL=list_timeline.js.map
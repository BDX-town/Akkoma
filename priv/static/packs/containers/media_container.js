(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.showLoading=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c;return{type:a,payload:{scope:e}}},t.hideLoading=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c;return{type:s,payload:{scope:e}}},t.resetLoading=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c;return{type:u,payload:{scope:e}}},t.loadingBarReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(t.payload||{}).scope,r=void 0===n?c:n;switch(t.type){case a:return i({},e,o({},r,(e[r]||0)+1));case s:return i({},e,o({},r,Math.max(0,(e[r]||1)-1)));case u:return i({},e,o({},r,0));default:return e}};var a=t.SHOW="loading-bar/SHOW",s=t.HIDE="loading-bar/HIDE",u=t.RESET="loading-bar/RESET",c=t.DEFAULT_SCOPE="default"},104:function(e,t,n){"use strict";t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(317)),a=i(n(318)),_=i(n(319)),O=i(n(320)),s=i(n(302)),j=i(n(322)),u=i(n(3)),l=i(n(5)),w=1e3/60,d=function(t){function n(e){var g=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=g.state,r=n.currentStyle,i=n.currentVelocity,o=n.lastIdealStyle,a=n.lastIdealVelocity;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var u=e[s];"number"==typeof u&&(t||(t=!0,r=c({},r),i=c({},i),o=c({},o),a=c({},a)),r[s]=u,i[s]=0,o[s]=u,a[s]=0)}t&&g.setState({currentStyle:r,currentVelocity:i,lastIdealStyle:o,lastIdealVelocity:a})},this.startAnimationIfNecessary=function(){g.animationID=s.default(function(e){var t=g.props.style;if(j.default(g.state.currentStyle,t,g.state.currentVelocity))return g.wasAnimating&&g.props.onRest&&g.props.onRest(),g.animationID=null,g.wasAnimating=!1,void(g.accumulatedTime=0);g.wasAnimating=!0;var n=e||O.default(),r=n-g.prevTime;if(g.prevTime=n,g.accumulatedTime=g.accumulatedTime+r,g.accumulatedTime>10*w&&(g.accumulatedTime=0),0===g.accumulatedTime)return g.animationID=null,void g.startAnimationIfNecessary();var i=(g.accumulatedTime-Math.floor(g.accumulatedTime/w)*w)/w,o=Math.floor(g.accumulatedTime/w),a={},s={},u={},c={};for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var d=t[l];if("number"==typeof d)u[l]=d,c[l]=0,a[l]=d,s[l]=0;else{for(var f=g.state.lastIdealStyle[l],h=g.state.lastIdealVelocity[l],p=0;p<o;p++){var v=_.default(w/1e3,f,h,d.val,d.stiffness,d.damping,d.precision);f=v[0],h=v[1]}var m=_.default(w/1e3,f,h,d.val,d.stiffness,d.damping,d.precision),y=m[0],b=m[1];u[l]=f+(y-f)*i,c[l]=h+(b-h)*i,a[l]=f,s[l]=h}}g.animationID=null,g.accumulatedTime-=o*w,g.setState({currentStyle:u,currentVelocity:c,lastIdealStyle:a,lastIdealVelocity:s}),g.unreadPropStyle=null,g.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,null,[{key:"propTypes",value:{defaultStyle:l.default.objectOf(l.default.number),style:l.default.objectOf(l.default.oneOfType([l.default.number,l.default.object])).isRequired,children:l.default.func.isRequired,onRest:l.default.func},enumerable:!0}]),n.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||a.default(n),i=o.default(r);return{currentStyle:r,currentVelocity:i,lastIdealStyle:r,lastIdealVelocity:i}},n.prototype.componentDidMount=function(){this.prevTime=O.default(),this.startAnimationIfNecessary()},n.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=O.default(),this.startAnimationIfNecessary())},n.prototype.componentWillUnmount=function(){null!=this.animationID&&(s.default.cancel(this.animationID),this.animationID=null)},n.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&u.default.Children.only(e)},n}(u.default.Component);t.default=d,e.exports=t.default},108:function(e,t,n){"use strict";var r=n(29),i=n(1),o=n(7),a=n(3),s=n.n(a),u=n(104),c=n.n(u),l=["opacity","backgroundOpacity"],d=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.style,r=e.defaultStyle,t=e.children;return Object.keys(n).forEach(function(e){var t;l.includes(e)||(n[e]=r[e]="object"==typeof(t=n[e])&&t&&"val"in t?t.val:t)}),Object(i.a)(c.a,{style:n,defaultStyle:r},void 0,t)},t}(s.a.Component);t.a=r.l?d:c.a},12:function(e,t,n){var r;!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var i=s.apply(null,n);i&&e.push(i)}else if("object"===r)for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},138:function(e,t,n){"use strict";n.r(t),n.d(t,"findElementPosition",function(){return p}),n.d(t,"getPointerPosition",function(){return v}),n.d(t,"default",function(){return m});var r,N=n(1),i=n(7),o=n(0),a=n(2),s=n(70),u=n.n(s),c=n(3),z=n.n(c),R=n(6),l=n(4),d=n(12),A=n.n(d),f=n(172),h=n(29),W=Object(R.f)({play:{id:"video.play",defaultMessage:"Play"},pause:{id:"video.pause",defaultMessage:"Pause"},mute:{id:"video.mute",defaultMessage:"Mute sound"},unmute:{id:"video.unmute",defaultMessage:"Unmute sound"},hide:{id:"video.hide",defaultMessage:"Hide video"},expand:{id:"video.expand",defaultMessage:"Expand video"},close:{id:"video.close",defaultMessage:"Close video"},fullscreen:{id:"video.fullscreen",defaultMessage:"Full screen"},exit_fullscreen:{id:"video.exit_fullscreen",defaultMessage:"Exit full screen"}}),q=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=e-3600*t-60*n;return t<10&&(t="0"+t),n<10&&(n="0"+n),r<10&&(r="0"+r),("00"===t?"":t+":")+n+":"+r},p=function(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=document.documentElement,r=document.body,i=n.clientLeft||r.clientLeft||0,o=window.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,u=window.pageYOffset||r.scrollTop,c=t.top+u-s;return{left:Math.round(a),top:Math.round(c)}},v=function(e,t){var n={},r=p(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,u=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(u-a)/o)),n.x=Math.max(0,Math.min(1,(c-s)/i)),n},m=Object(R.g)(r=function(r){function e(){for(var s,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s=r.call.apply(r,[this].concat(t))||this,Object(a.a)(Object(o.a)(Object(o.a)(s)),"state",{currentTime:0,duration:0,volume:.5,paused:!0,dragging:!1,containerWidth:s.props.width,fullscreen:!1,hovered:!1,muted:!1,revealed:void 0===s.props.revealed?"hide_all"!==h.f&&!s.props.sensitive||"show_all"===h.f:s.props.revealed}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"volWidth",50),Object(a.a)(Object(o.a)(Object(o.a)(s)),"volOffset",70),Object(a.a)(Object(o.a)(Object(o.a)(s)),"volHandleOffset",function(e){var t=e*s.volWidth+s.volOffset;return 110<t?110:t}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"setPlayerRef",function(e){(s.player=e)&&e.offsetWidth&&e.offsetWidth!=s.state.containerWidth&&(s.props.cacheWidth&&s.props.cacheWidth(s.player.offsetWidth),s.setState({containerWidth:e.offsetWidth}))}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"setVideoRef",function(e){s.video=e,s.video&&s.setState({volume:s.video.volume,muted:s.video.muted})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"setSeekRef",function(e){s.seek=e}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"setVolumeRef",function(e){s.volume=e}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseDownRoot",function(e){e.preventDefault(),e.stopPropagation()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handlePlay",function(){s.setState({paused:!1})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handlePause",function(){s.setState({paused:!0})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleTimeUpdate",function(){s.setState({currentTime:Math.floor(s.video.currentTime),duration:Math.floor(s.video.duration)})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleVolumeMouseDown",function(e){document.addEventListener("mousemove",s.handleMouseVolSlide,!0),document.addEventListener("mouseup",s.handleVolumeMouseUp,!0),document.addEventListener("touchmove",s.handleMouseVolSlide,!0),document.addEventListener("touchend",s.handleVolumeMouseUp,!0),s.handleMouseVolSlide(e),e.preventDefault(),e.stopPropagation()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleVolumeMouseUp",function(){document.removeEventListener("mousemove",s.handleMouseVolSlide,!0),document.removeEventListener("mouseup",s.handleVolumeMouseUp,!0),document.removeEventListener("touchmove",s.handleMouseVolSlide,!0),document.removeEventListener("touchend",s.handleVolumeMouseUp,!0)}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseVolSlide",u()(function(e){var t=s.volume.getBoundingClientRect(),n=(e.clientX-t.left)/s.volWidth;if(!isNaN(n)){var r=n;1<n?r=1:n<0&&(r=0),s.video.volume=r,s.setState({volume:r})}},60)),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseDown",function(e){document.addEventListener("mousemove",s.handleMouseMove,!0),document.addEventListener("mouseup",s.handleMouseUp,!0),document.addEventListener("touchmove",s.handleMouseMove,!0),document.addEventListener("touchend",s.handleMouseUp,!0),s.setState({dragging:!0}),s.video.pause(),s.handleMouseMove(e),e.preventDefault(),e.stopPropagation()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseUp",function(){document.removeEventListener("mousemove",s.handleMouseMove,!0),document.removeEventListener("mouseup",s.handleMouseUp,!0),document.removeEventListener("touchmove",s.handleMouseMove,!0),document.removeEventListener("touchend",s.handleMouseUp,!0),s.setState({dragging:!1}),s.video.play()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseMove",u()(function(e){var t=v(s.seek,e).x,n=Math.floor(s.video.duration*t);isNaN(n)||(s.video.currentTime=n,s.setState({currentTime:n}))},60)),Object(a.a)(Object(o.a)(Object(o.a)(s)),"togglePlay",function(){s.state.paused?s.video.play():s.video.pause()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"toggleFullscreen",function(){Object(f.d)()?Object(f.c)():Object(f.e)(s.player)}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleFullscreenChange",function(){s.setState({fullscreen:Object(f.d)()})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseEnter",function(){s.setState({hovered:!0})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseLeave",function(){s.setState({hovered:!1})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"toggleMute",function(){s.video.muted=!s.video.muted,s.setState({muted:s.video.muted})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"toggleReveal",function(){s.state.revealed&&s.video.pause(),s.setState({revealed:!s.state.revealed})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleLoadedData",function(){s.props.startTime&&(s.video.currentTime=s.props.startTime,s.video.play())}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleProgress",function(){0<s.video.buffered.length&&s.setState({buffer:s.video.buffered.end(0)/s.video.duration*100})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleVolumeChange",function(){s.setState({volume:s.video.volume,muted:s.video.muted})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleOpenVideo",function(){var e=s.props,t=e.src,n=e.preview,r=e.width,i=e.height,o=e.alt,a=Object(l.fromJS)({type:"video",url:t,preview_url:n,description:o,width:r,height:i});s.video.pause(),s.props.onOpenVideo(a,s.video.currentTime)}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleCloseVideo",function(){s.video.pause(),s.props.onCloseVideo()}),s}Object(i.a)(e,r);var t=e.prototype;return t.componentDidMount=function(){document.addEventListener("fullscreenchange",this.handleFullscreenChange,!0),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange,!0),document.addEventListener("mozfullscreenchange",this.handleFullscreenChange,!0),document.addEventListener("MSFullscreenChange",this.handleFullscreenChange,!0)},t.componentWillUnmount=function(){document.removeEventListener("fullscreenchange",this.handleFullscreenChange,!0),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange,!0),document.removeEventListener("mozfullscreenchange",this.handleFullscreenChange,!0),document.removeEventListener("MSFullscreenChange",this.handleFullscreenChange,!0)},t.componentDidUpdate=function(e){this.player&&this.player.offsetWidth&&this.player.offsetWidth!=this.state.containerWidth&&!this.state.fullscreen&&(this.props.cacheWidth&&this.props.cacheWidth(this.player.offsetWidth),this.setState({containerWidth:this.player.offsetWidth})),this.video&&this.state.revealed&&this.props.preventPlayback&&!e.preventPlayback&&this.video.pause()},t.render=function(){var e,t,n=this.props,r=n.preview,i=n.src,o=n.inline,a=n.startTime,s=n.onOpenVideo,u=n.onCloseVideo,c=n.intl,l=n.alt,d=n.letterbox,f=n.fullwidth,h=n.detailed,p=n.sensitive,v=this.state,m=v.containerWidth,y=v.currentTime,b=v.duration,g=v.volume,_=v.buffer,O=v.dragging,j=v.paused,w=v.fullscreen,S=v.hovered,x=v.muted,E=v.revealed,M=y/b*100,C={},I=x?0:g*this.volWidth,P=x?this.volHandleOffset(0):this.volHandleOffset(g),k=A()("video-player",{inactive:!E,detailed:h,inline:o&&!w,fullscreen:w,letterbox:d,"full-width":f}),L=this.props,T=L.width,D=L.height;if(o&&m)D=(T=m)/(16/9),C.height=D;else if(o)return z.a.createElement("div",{className:k,ref:this.setPlayerRef,tabindex:0});return e=p?Object(N.a)(R.b,{id:"status.sensitive_warning",defaultMessage:"Sensitive content"}):Object(N.a)(R.b,{id:"status.media_hidden",defaultMessage:"Media hidden"}),t=a||w||O?"auto":h?"metadata":"none",z.a.createElement("div",{className:k,style:C,ref:this.setPlayerRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDownRoot,tabIndex:0},z.a.createElement("video",{ref:this.setVideoRef,src:i,poster:r,preload:t,loop:!0,role:"button",tabIndex:"0","aria-label":l,title:l,width:T,height:D,volume:g,onClick:this.togglePlay,onPlay:this.handlePlay,onPause:this.handlePause,onTimeUpdate:this.handleTimeUpdate,onLoadedData:this.handleLoadedData,onProgress:this.handleProgress,onVolumeChange:this.handleVolumeChange}),Object(N.a)("button",{type:"button",className:A()("video-player__spoiler",{active:!E}),onClick:this.toggleReveal},void 0,Object(N.a)("span",{className:"video-player__spoiler__title"},void 0,e),Object(N.a)("span",{className:"video-player__spoiler__subtitle"},void 0,Object(N.a)(R.b,{id:"status.sensitive_toggle",defaultMessage:"Click to view"}))),Object(N.a)("div",{className:A()("video-player__controls",{active:j||S})},void 0,z.a.createElement("div",{className:"video-player__seek",onMouseDown:this.handleMouseDown,ref:this.setSeekRef},Object(N.a)("div",{className:"video-player__seek__buffer",style:{width:_+"%"}}),Object(N.a)("div",{className:"video-player__seek__progress",style:{width:M+"%"}}),Object(N.a)("span",{className:A()("video-player__seek__handle",{active:O}),tabIndex:"0",style:{left:M+"%"}})),Object(N.a)("div",{className:"video-player__buttons-bar"},void 0,Object(N.a)("div",{className:"video-player__buttons left"},void 0,Object(N.a)("button",{type:"button","aria-label":c.formatMessage(j?W.play:W.pause),onClick:this.togglePlay},void 0,Object(N.a)("i",{className:A()("fa fa-fw",{"fa-play":j,"fa-pause":!j})})),Object(N.a)("button",{type:"button","aria-label":c.formatMessage(x?W.unmute:W.mute),onClick:this.toggleMute},void 0,Object(N.a)("i",{className:A()("fa fa-fw",{"fa-volume-off":x,"fa-volume-up":!x})})),z.a.createElement("div",{className:"video-player__volume",onMouseDown:this.handleVolumeMouseDown,ref:this.setVolumeRef},Object(N.a)("div",{className:"video-player__volume__current",style:{width:I+"px"}}),Object(N.a)("span",{className:A()("video-player__volume__handle"),tabIndex:"0",style:{left:P+"px"}})),(h||w)&&Object(N.a)("span",{},void 0,Object(N.a)("span",{className:"video-player__time-current"},void 0,q(y)),Object(N.a)("span",{className:"video-player__time-sep"},void 0,"/"),Object(N.a)("span",{className:"video-player__time-total"},void 0,q(b)))),Object(N.a)("div",{className:"video-player__buttons right"},void 0,!u&&Object(N.a)("button",{type:"button","aria-label":c.formatMessage(W.hide),onClick:this.toggleReveal},void 0,Object(N.a)("i",{className:"fa fa-fw fa-eye"})),!w&&s&&Object(N.a)("button",{type:"button","aria-label":c.formatMessage(W.expand),onClick:this.handleOpenVideo},void 0,Object(N.a)("i",{className:"fa fa-fw fa-expand"})),u&&Object(N.a)("button",{type:"button","aria-label":c.formatMessage(W.close),onClick:this.handleCloseVideo},void 0,Object(N.a)("i",{className:"fa fa-fw fa-compress"})),Object(N.a)("button",{type:"button","aria-label":c.formatMessage(w?W.exit_fullscreen:W.fullscreen),onClick:this.toggleFullscreen},void 0,Object(N.a)("i",{className:A()("fa fa-fw",{"fa-arrows-alt":!w,"fa-compress":w})}))))))},e}(z.a.PureComponent))||r},139:function(e,t,n){"use strict";n.r(t),n.d(t,"findElementPosition",function(){return p}),n.d(t,"getPointerPosition",function(){return v}),n.d(t,"default",function(){return m});var r,L=n(1),i=n(7),o=n(0),a=n(2),s=n(70),u=n.n(s),c=n(3),T=n.n(c),D=n(6),l=n(4),d=n(12),N=n.n(d),f=n(173),h=n(22),z=n(33),R=Object(D.f)({play:{id:"video.play",defaultMessage:"Play"},pause:{id:"video.pause",defaultMessage:"Pause"},mute:{id:"video.mute",defaultMessage:"Mute sound"},unmute:{id:"video.unmute",defaultMessage:"Unmute sound"},hide:{id:"video.hide",defaultMessage:"Hide video"},expand:{id:"video.expand",defaultMessage:"Expand video"},close:{id:"video.close",defaultMessage:"Close video"},fullscreen:{id:"video.fullscreen",defaultMessage:"Full screen"},exit_fullscreen:{id:"video.exit_fullscreen",defaultMessage:"Exit full screen"}}),A=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=e-3600*t-60*n;return t<10&&(t="0"+t),n<10&&(n="0"+n),r<10&&(r="0"+r),("00"===t?"":t+":")+n+":"+r},p=function(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=document.documentElement,r=document.body,i=n.clientLeft||r.clientLeft||0,o=window.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,u=window.pageYOffset||r.scrollTop,c=t.top+u-s;return{left:Math.round(a),top:Math.round(c)}},v=function(e,t){var n={},r=p(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,u=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(u-a)/o)),n.x=Math.max(0,Math.min(1,(c-s)/i)),n},m=Object(D.g)(r=function(r){function e(){for(var s,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s=r.call.apply(r,[this].concat(t))||this,Object(a.a)(Object(o.a)(Object(o.a)(s)),"state",{currentTime:0,duration:0,volume:.5,paused:!0,dragging:!1,containerWidth:s.props.width,fullscreen:!1,hovered:!1,muted:!1,revealed:"hide_all"!==h.f&&!s.props.sensitive||"show_all"===h.f}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"volWidth",50),Object(a.a)(Object(o.a)(Object(o.a)(s)),"volOffset",70),Object(a.a)(Object(o.a)(Object(o.a)(s)),"volHandleOffset",function(e){var t=e*s.volWidth+s.volOffset;return 110<t?110:t}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"setPlayerRef",function(e){(s.player=e)&&(s.props.cacheWidth&&s.props.cacheWidth(s.player.offsetWidth),s.setState({containerWidth:e.offsetWidth}))}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"setVideoRef",function(e){s.video=e,s.video&&s.setState({volume:s.video.volume,muted:s.video.muted})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"setSeekRef",function(e){s.seek=e}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"setVolumeRef",function(e){s.volume=e}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleClickRoot",function(e){return e.stopPropagation()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handlePlay",function(){s.setState({paused:!1})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handlePause",function(){s.setState({paused:!0})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleTimeUpdate",function(){s.setState({currentTime:Math.floor(s.video.currentTime),duration:Math.floor(s.video.duration)})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleVolumeMouseDown",function(e){document.addEventListener("mousemove",s.handleMouseVolSlide,!0),document.addEventListener("mouseup",s.handleVolumeMouseUp,!0),document.addEventListener("touchmove",s.handleMouseVolSlide,!0),document.addEventListener("touchend",s.handleVolumeMouseUp,!0),s.handleMouseVolSlide(e),e.preventDefault(),e.stopPropagation()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleVolumeMouseUp",function(){document.removeEventListener("mousemove",s.handleMouseVolSlide,!0),document.removeEventListener("mouseup",s.handleVolumeMouseUp,!0),document.removeEventListener("touchmove",s.handleMouseVolSlide,!0),document.removeEventListener("touchend",s.handleVolumeMouseUp,!0)}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseVolSlide",u()(function(e){var t=s.volume.getBoundingClientRect(),n=(e.clientX-t.left)/s.volWidth;if(!isNaN(n)){var r=n;1<n?r=1:n<0&&(r=0),s.video.volume=r,s.setState({volume:r})}},60)),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseDown",function(e){document.addEventListener("mousemove",s.handleMouseMove,!0),document.addEventListener("mouseup",s.handleMouseUp,!0),document.addEventListener("touchmove",s.handleMouseMove,!0),document.addEventListener("touchend",s.handleMouseUp,!0),s.setState({dragging:!0}),s.video.pause(),s.handleMouseMove(e),e.preventDefault(),e.stopPropagation()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseUp",function(){document.removeEventListener("mousemove",s.handleMouseMove,!0),document.removeEventListener("mouseup",s.handleMouseUp,!0),document.removeEventListener("touchmove",s.handleMouseMove,!0),document.removeEventListener("touchend",s.handleMouseUp,!0),s.setState({dragging:!1}),s.video.play()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseMove",u()(function(e){var t=v(s.seek,e).x,n=Math.floor(s.video.duration*t);isNaN(n)||(s.video.currentTime=n,s.setState({currentTime:n}))},60)),Object(a.a)(Object(o.a)(Object(o.a)(s)),"togglePlay",function(){s.state.paused?s.video.play():s.video.pause()}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"toggleFullscreen",function(){Object(f.d)()?Object(f.c)():Object(f.e)(s.player)}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleFullscreenChange",function(){s.setState({fullscreen:Object(f.d)()})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseEnter",function(){s.setState({hovered:!0})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleMouseLeave",function(){s.setState({hovered:!1})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"toggleMute",function(){s.video.muted=!s.video.muted,s.setState({muted:s.video.muted})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"toggleReveal",function(){s.state.revealed&&s.video.pause(),s.setState({revealed:!s.state.revealed})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleLoadedData",function(){s.props.startTime&&(s.video.currentTime=s.props.startTime,s.video.play())}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleProgress",function(){0<s.video.buffered.length&&s.setState({buffer:s.video.buffered.end(0)/s.video.duration*100})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleVolumeChange",function(){s.setState({volume:s.video.volume,muted:s.video.muted})}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleOpenVideo",function(){var e=s.props,t=e.src,n=e.preview,r=e.width,i=e.height,o=e.alt,a=Object(l.fromJS)({type:"video",url:t,preview_url:n,description:o,width:r,height:i});s.video.pause(),s.props.onOpenVideo(a,s.video.currentTime)}),Object(a.a)(Object(o.a)(Object(o.a)(s)),"handleCloseVideo",function(){s.video.pause(),s.props.onCloseVideo()}),s}Object(i.a)(e,r);var t=e.prototype;return t.componentDidMount=function(){document.addEventListener("fullscreenchange",this.handleFullscreenChange,!0),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange,!0),document.addEventListener("mozfullscreenchange",this.handleFullscreenChange,!0),document.addEventListener("MSFullscreenChange",this.handleFullscreenChange,!0)},t.componentWillUnmount=function(){document.removeEventListener("fullscreenchange",this.handleFullscreenChange,!0),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange,!0),document.removeEventListener("mozfullscreenchange",this.handleFullscreenChange,!0),document.removeEventListener("MSFullscreenChange",this.handleFullscreenChange,!0)},t.render=function(){var e,t,n=this.props,r=n.preview,i=n.src,o=n.inline,a=n.startTime,s=n.onOpenVideo,u=n.onCloseVideo,c=n.intl,l=n.alt,d=n.detailed,f=n.sensitive,h=this.state,p=h.containerWidth,v=h.currentTime,m=h.duration,y=h.volume,b=h.buffer,g=h.dragging,_=h.paused,O=h.fullscreen,j=h.hovered,w=h.muted,S=h.revealed,x=v/m*100,E=w?0:y*this.volWidth,M=w?this.volHandleOffset(0):this.volHandleOffset(y),C={},I=this.props,P=I.width,k=I.height;return o&&p&&(k=(P=p)/(16/9),C.height=k),e=a||O||g?"auto":d?"metadata":"none",t=f?Object(L.a)(D.b,{id:"status.sensitive_warning",defaultMessage:"Sensitive content"}):Object(L.a)(D.b,{id:"status.media_hidden",defaultMessage:"Media hidden"}),T.a.createElement("div",{role:"menuitem",className:N()("video-player",{inactive:!S,detailed:d,inline:o&&!O,fullscreen:O}),style:C,ref:this.setPlayerRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClickRoot,tabIndex:0},T.a.createElement("video",{ref:this.setVideoRef,src:i,poster:r,preload:e,loop:!0,role:"button",tabIndex:"0","aria-label":l,title:l,width:P,height:k,volume:y,onClick:this.togglePlay,onPlay:this.handlePlay,onPause:this.handlePause,onTimeUpdate:this.handleTimeUpdate,onLoadedData:this.handleLoadedData,onProgress:this.handleProgress,onVolumeChange:this.handleVolumeChange}),Object(L.a)("button",{type:"button",className:N()("video-player__spoiler",{active:!S}),onClick:this.toggleReveal},void 0,Object(L.a)("span",{className:"video-player__spoiler__title"},void 0,t),Object(L.a)("span",{className:"video-player__spoiler__subtitle"},void 0,Object(L.a)(D.b,{id:"status.sensitive_toggle",defaultMessage:"Click to view"}))),Object(L.a)("div",{className:N()("video-player__controls",{active:_||j})},void 0,T.a.createElement("div",{className:"video-player__seek",onMouseDown:this.handleMouseDown,ref:this.setSeekRef},Object(L.a)("div",{className:"video-player__seek__buffer",style:{width:b+"%"}}),Object(L.a)("div",{className:"video-player__seek__progress",style:{width:x+"%"}}),Object(L.a)("span",{className:N()("video-player__seek__handle",{active:g}),tabIndex:"0",style:{left:x+"%"}})),Object(L.a)("div",{className:"video-player__buttons-bar"},void 0,Object(L.a)("div",{className:"video-player__buttons left"},void 0,Object(L.a)("button",{type:"button","aria-label":c.formatMessage(_?R.play:R.pause),onClick:this.togglePlay},void 0,Object(L.a)(z.a,{id:_?"play":"pause",fixedWidth:!0})),Object(L.a)("button",{type:"button","aria-label":c.formatMessage(w?R.unmute:R.mute),onClick:this.toggleMute},void 0,Object(L.a)(z.a,{id:w?"volume-off":"volume-up",fixedWidth:!0})),T.a.createElement("div",{className:"video-player__volume",onMouseDown:this.handleVolumeMouseDown,ref:this.setVolumeRef},Object(L.a)("div",{className:"video-player__volume__current",style:{width:E+"px"}}),Object(L.a)("span",{className:N()("video-player__volume__handle"),tabIndex:"0",style:{left:M+"px"}})),(d||O)&&Object(L.a)("span",{},void 0,Object(L.a)("span",{className:"video-player__time-current"},void 0,A(v)),Object(L.a)("span",{className:"video-player__time-sep"},void 0,"/"),Object(L.a)("span",{className:"video-player__time-total"},void 0,A(m)))),Object(L.a)("div",{className:"video-player__buttons right"},void 0,!u&&Object(L.a)("button",{type:"button","aria-label":c.formatMessage(R.hide),onClick:this.toggleReveal},void 0,Object(L.a)(z.a,{id:"eye",fixedWidth:!0})),!O&&s&&Object(L.a)("button",{type:"button","aria-label":c.formatMessage(R.expand),onClick:this.handleOpenVideo},void 0,Object(L.a)(z.a,{id:"expand",fixedWidth:!0})),u&&Object(L.a)("button",{type:"button","aria-label":c.formatMessage(R.close),onClick:this.handleCloseVideo},void 0,Object(L.a)(z.a,{id:"compress",fixedWidth:!0})),Object(L.a)("button",{type:"button","aria-label":c.formatMessage(O?R.exit_fullscreen:R.fullscreen),onClick:this.toggleFullscreen},void 0,Object(L.a)(z.a,{id:O?"compress":"arrows-alt",fixedWidth:!0}))))))},e}(T.a.PureComponent))||r},141:function(e,t,n){"use strict";var r=n(22),i=n(1),o=n(7),a=n(3),s=n.n(a),u=n(104),c=n.n(u),l=["opacity","backgroundOpacity"],d=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.style,r=e.defaultStyle,t=e.children;return Object.keys(n).forEach(function(e){var t;l.includes(e)||(n[e]=r[e]="object"==typeof(t=n[e])&&t&&"val"in t?t.val:t)}),Object(i.a)(c.a,{style:n,defaultStyle:r},void 0,t)},t}(s.a.Component);t.a=r.m?d:c.a},146:function(e,t,n){var r=n(148),i=n(312),o=n(313),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},147:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},148:function(e,t,n){var r=n(74).Symbol;e.exports=r},149:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},150:function(e,t,n){"use strict";e.exports=n(308)},157:function(e,t,n){"use strict";var r=n(189);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(325)).default;t.default=i},158:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},161:function(e,t,n){"use strict";var r=n(150),d={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h={};h[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var p=Object.defineProperty,v=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,n,r){if("string"==typeof n)return t;if(g){var i=b(n);i&&i!==g&&e(t,i,r)}var o=v(n);m&&(o=o.concat(m(n)));for(var a=h[t.$$typeof]||d,s=h[n.$$typeof]||d,u=0;u<o.length;++u){var c=o[u];if(!(f[c]||r&&r[c]||s&&s[c]||a&&a[c])){var l=y(n,c);try{p(t,c,l)}catch(e){}}}return t}},162:function(e,o,a){"use strict";(function(e,t){var n,r=a(209);n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t;var i=Object(r.a)(n);o.a=i}).call(this,a(53),a(309)(e))},167:function(e,t,n){"use strict";var r=n(41);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(92)).default&&(i=document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(t,e,n){return t.attachEvent("on"+e,function(e){(e=e||window.event).target=e.target||e.srcElement,e.currentTarget=t,n.call(t,e)})}:void 0);var o=i;t.default=o,e.exports=t.default},168:function(e,t,n){"use strict";var r=n(41);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(92)).default&&(i=document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0);var o=i;t.default=o,e.exports=t.default},172:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement},i=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()},o=function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()},a=function(e){"onfullscreenchange"in document?document.addEventListener("fullscreenchange",e):"onwebkitfullscreenchange"in document?document.addEventListener("webkitfullscreenchange",e):"onmozfullscreenchange"in document&&document.addEventListener("mozfullscreenchange",e)},s=function(e){"onfullscreenchange"in document?document.removeEventListener("fullscreenchange",e):"onwebkitfullscreenchange"in document?document.removeEventListener("webkitfullscreenchange",e):"onmozfullscreenchange"in document&&document.removeEventListener("mozfullscreenchange",e)}},173:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement},i=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()},o=function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()},a=function(e){"onfullscreenchange"in document?document.addEventListener("fullscreenchange",e):"onwebkitfullscreenchange"in document?document.addEventListener("webkitfullscreenchange",e):"onmozfullscreenchange"in document&&document.addEventListener("mozfullscreenchange",e)},s=function(e){"onfullscreenchange"in document?document.removeEventListener("fullscreenchange",e):"onwebkitfullscreenchange"in document?document.removeEventListener("webkitfullscreenchange",e):"onmozfullscreenchange"in document&&document.removeEventListener("mozfullscreenchange",e)}},174:function(e,t,n){var r=n(146),i=n(147);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},175:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return d});var r=n(63),i=n.n(r),o=630;function a(e,t){switch(t){case"multiple":return!1;case"single":return!0;default:return e<=o}}var s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=!1,c=!!i.a.hasSupport&&{passive:!0};function l(){return u}function d(){return s}window.addEventListener("touchstart",function e(){u=!0,window.removeEventListener("touchstart",e,c)},c)},180:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return d});var r=n(63),i=n.n(r),o=630;function a(e){return e<=o}var s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=!1,c=!!i.a.hasSupport&&{passive:!0};function l(){return u}function d(){return s}window.addEventListener("touchstart",function e(){u=!0,window.removeEventListener("touchstart",e,c)},c)},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LoadingBar=t.TERMINATING_ANIMATION_DURATION=t.ANIMATION_DURATION=t.PROGRESS_INCREASE=t.MAX_PROGRESS=t.UPDATE_TIME=void 0;var r,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=n(3),u=(r=a)&&r.__esModule?r:{default:r},o=n(314),c=n(5),l=n(20),d=n(101);function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=t.UPDATE_TIME=200,p=t.MAX_PROGRESS=99,v=t.PROGRESS_INCREASE=10,m=t.ANIMATION_DURATION=4*h,y=t.TERMINATING_ANIMATION_DURATION=h/2,b={percent:0,status:"hidden"},g=function(e){function o(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=a=f(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(r)))).state=s({},b),a.reset=function(){a.terminatingAnimationTimeoutId=null,a.setState(b)},a.newPercent=function(e,t){return e+t*Math.cos(e*(Math.PI/2/100))},a.simulateProgress=function(){a.setState(function(e,t){var n=t.maxProgress,r=t.progressIncrease,i=e.percent,o=a.newPercent(i,r);return o<=n&&(i=o),{percent:i}})},f(a,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.Component),i(o,[{key:"componentDidMount",value:function(){"starting"===this.state.status&&this.start()}},{key:"componentDidUpdate",value:function(e,t){t.status!==this.state.status&&("starting"===this.state.status&&this.start(),"stopping"===this.state.status&&this.stop())}},{key:"componentWillUnmount",value:function(){clearInterval(this.progressIntervalId),clearTimeout(this.terminatingAnimationTimeoutId)}},{key:"start",value:function(){this.progressIntervalId=setInterval(this.simulateProgress,this.props.updateTime),this.setState({status:"running"})}},{key:"stop",value:function(){clearInterval(this.progressIntervalId),this.progressIntervalId=null;var e=this.isShown()||this.props.showFastActions?y:0;this.terminatingAnimationTimeoutId=setTimeout(this.reset,e),this.setState({percent:100})}},{key:"isShown",value:function(){return 0<this.state.percent&&this.state.percent<=100}},{key:"buildStyle",value:function(){var e="stopping"===this.state.status?y:m,t={opacity:"1",transform:"scaleX("+this.state.percent/100+")",msTransform:"scaleX("+this.state.percent/100+")",WebkitTransform:"scaleX("+this.state.percent/100+")",MozTransform:"scaleX("+this.state.percent/100+")",OTransform:"scaleX("+this.state.percent/100+")",transformOrigin:"left",msTransformOrigin:"left",WebkitTransformOrigin:"left",MozTransformOrigin:"left",OTransformOrigin:"left",transition:"transform "+e+"ms linear",msTransition:"-ms-transform "+e+"ms linear",WebkitTransition:"-webkit-transform "+e+"ms linear",MozTransition:"-moz-transform "+e+"ms linear",OTransition:"-o-transform "+e+"ms linear",width:"100%",willChange:"transform, opacity"};return this.props.className||(t.height="3px",t.backgroundColor="red",t.position="absolute"),this.isShown()?t.opacity="1":t.opacity="0",s({},t,this.props.style)}},{key:"render",value:function(){return"hidden"===this.state.status?u.default.createElement("div",null):u.default.createElement("div",null,u.default.createElement("div",{style:this.buildStyle(),className:this.props.className}),u.default.createElement("div",{style:{display:"table",clear:"both"}}))}}],[{key:"shouldStart",value:function(e,t){return 0<e.loading&&0<=["hidden","stopping"].indexOf(t.status)}},{key:"shouldStop",value:function(e,t){return 0===e.loading&&0<=["starting","running"].indexOf(t.status)}},{key:"getDerivedStateFromProps",value:function(e,t){return o.shouldStart(e,t)?{status:"starting"}:o.shouldStop(e,t)?{status:"stopping"}:null}}]),o}();g.propTypes={className:c.string,loading:c.number,maxProgress:c.number,progressIncrease:c.number,showFastActions:c.bool,updateTime:c.number,scope:c.string,style:c.object},g.defaultProps={className:"",loading:0,maxProgress:p,progressIncrease:v,showFastActions:!1,style:{},updateTime:h,scope:d.DEFAULT_SCOPE};(0,o.polyfill)(g);var _=(0,l.connect)(function(e,t){return{loading:e.loadingBar[t.scope||d.DEFAULT_SCOPE]}})(g);t.LoadingBar=g,t.default=_},189:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3}},191:function(e,t,n){"use strict";var r=n(41);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,o,a,s,u,c,l,d,f,h,p,v=r(n(92)),m="transform";if(t.transform=m,t.animationEnd=a,t.transitionEnd=o,t.transitionDelay=l,t.transitionTiming=c,t.transitionDuration=u,t.transitionProperty=s,t.animationDelay=p,t.animationTiming=h,t.animationDuration=f,t.animationName=d,v.default){var y=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(r),o="",a=0;a<i.length;a++){var s=i[a];if(s+"TransitionProperty"in n){o="-"+s.toLowerCase(),e=r[s]("TransitionEnd"),t=r[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();i=y.prefix,t.transitionEnd=o=y.transitionEnd,t.animationEnd=a=y.animationEnd,t.transform=m=i+"-"+m,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=u=i+"-transition-duration",t.transitionDelay=l=i+"-transition-delay",t.transitionTiming=c=i+"-transition-timing-function",t.animationName=d=i+"-animation-name",t.animationDuration=f=i+"-animation-duration",t.animationTiming=h=i+"-animation-delay",t.animationDelay=p=i+"-animation-timing-function"}var b={transform:m,end:o,property:s,timing:c,delay:l,duration:u};t.default=b},20:function(e,t,n){"use strict";n.r(t);var j=n(7),w=n(3),S=n.n(w),x=(n(5),S.a.createContext(null)),r=function(r){function e(e){var t;t=r.call(this,e)||this;var n=e.store;return t.state={storeState:n.getState(),store:n},t}Object(j.a)(e,r);var t=e.prototype;return t.componentDidMount=function(){this._isMounted=!0,this.subscribe()},t.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},t.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},t.subscribe=function(){var e=this,n=this.props.store;this.unsubscribe=n.subscribe(function(){var t=n.getState();e._isMounted&&e.setState(function(e){return e.storeState===t?null:{storeState:t}})});var t=n.getState();t!==this.state.storeState&&this.setState({storeState:t})},t.render=function(){var e=this.props.context||x;return S.a.createElement(e.Provider,{value:this.state},this.props.children)},e}(w.Component),E=n(0),M=n(31),C=n(40),i=n(161),I=n.n(i),o=n(18),P=n.n(o);n(150);function a(p,e){void 0===e&&(e={});var t=e,n=t.getDisplayName,o=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,r=t.methodName,s=void 0===r?"connectAdvanced":r,i=t.renderCountProp,u=void 0===i?void 0:i,a=t.shouldHandleStateChanges,c=void 0===a||a,l=t.storeKey,v=void 0===l?"store":l,d=t.withRef,f=void 0!==d&&d,h=t.forwardRef,m=void 0!==h&&h,y=t.context,b=void 0===y?x:y,g=Object(C.a)(t,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);P()(void 0===u,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),P()(!f,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var _="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React-Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";P()("store"===v,"storeKey has been removed and does not do anything. "+_);var O=b;return function(e){var t=e.displayName||e.name||"Component",a=o(t),d=Object(M.a)({},g,{getDisplayName:o,methodName:s,renderCountProp:u,shouldHandleStateChanges:c,storeKey:v,displayName:a,wrappedComponentName:t,WrappedComponent:e}),f=g.pure,n=w.Component,h=e;f&&(n=w.PureComponent);var r=function(l){function e(e){var t,i,o,a,s,u,n,r,c;return t=l.call(this,e)||this,P()(m?!e.wrapperProps[v]:!e[v],"Passing redux store in props has been removed and does not do anything. "+_),t.selectDerivedProps=function(e,t,n){if(f&&i===t&&o===e)return a;n!==s&&(u=p((s=n).dispatch,d));var r=u(o=e,i=t);return a===r?a:a=r},t.selectChildElement=function(e,t){return e===n&&t===r||(n=e,r=t,c=S.a.createElement(h,Object(M.a)({},e,{ref:t}))),c},t.renderWrappedComponent=t.renderWrappedComponent.bind(Object(E.a)(Object(E.a)(t))),t}Object(j.a)(e,l);var t=e.prototype;return t.renderWrappedComponent=function(e){P()(e,'Could not find "store" in the context of "'+a+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+a+" in connect options.");var t,n=e.storeState,r=e.store,i=this.props;m&&(i=this.props.wrapperProps,t=this.props.forwardedRef);var o=this.selectDerivedProps(n,i,r);return this.selectChildElement(o,t)},t.render=function(){var e=this.props.context||O;return S.a.createElement(e.Consumer,null,this.renderWrappedComponent)},e}(n);if(r.WrappedComponent=e,r.displayName=a,m){var i=S.a.forwardRef(function(e,t){return S.a.createElement(r,{wrapperProps:e,forwardedRef:t})});return i.displayName=a,i.WrappedComponent=e,I()(i,e)}return I()(r,e)}}var s=Object.prototype.hasOwnProperty;function u(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function g(e,t){if(u(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!s.call(t,n[i])||!u(e[n[i]],t[n[i]]))return!1;return!0}var c=n(77);function l(i){return function(e,t){var n=i(e,t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function d(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function f(i,e){return function(e,t){t.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,t){r.mapToProps=i,r.dependsOnOwnProps=d(i);var n=r(e,t);return"function"==typeof n&&(r.mapToProps=n,r.dependsOnOwnProps=d(n),n=r(e,t)),n},r}}var h=[function(e){return"function"==typeof e?f(e):void 0},function(e){return e?void 0:l(function(e){return{dispatch:e}})},function(t){return t&&"object"==typeof t?l(function(e){return Object(c.b)(t,e)}):void 0}];var p=[function(e){return"function"==typeof e?f(e):void 0},function(e){return e?void 0:l(function(){return{}})}];function v(e,t,n){return Object(M.a)({},n,e,t)}var m=[function(e){return"function"==typeof e?(u=e,function(e,t){t.displayName;var i,o=t.pure,a=t.areMergedPropsEqual,s=!1;return function(e,t,n){var r=u(e,t,n);return s?o&&a(r,i)||(i=r):(s=!0,i=r),i}}):void 0;var u},function(e){return e?void 0:function(){return v}}];function y(n,r,i,o){return function(e,t){return i(n(e,t),r(o,t),t)}}function b(a,s,u,c,e){var l,d,f,h,p,v=e.areStatesEqual,m=e.areOwnPropsEqual,y=e.areStatePropsEqual,n=!1;function r(e,t){var n,r,i=!m(t,d),o=!v(e,l);return l=e,d=t,i&&o?(f=a(l,d),s.dependsOnOwnProps&&(h=s(c,d)),p=u(f,h,d)):i?(a.dependsOnOwnProps&&(f=a(l,d)),s.dependsOnOwnProps&&(h=s(c,d)),p=u(f,h,d)):(o&&(n=a(l,d),r=!y(n,f),f=n,r&&(p=u(f,h,d))),p)}return function(e,t){return n?r(e,t):(f=a(l=e,d=t),h=s(c,d),p=u(f,h,d),n=!0,p)}}function _(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(C.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?b:y)(a,s,u,e,o)}function O(n,e,r){for(var t=e.length-1;0<=t;t--){var i=e[t](n);if(i)return i}return function(e,t){throw new Error("Invalid value of type "+typeof n+" for "+r+" argument when connecting component "+t.wrappedComponentName+".")}}function k(e,t){return e===t}var L,T,D,N,z,R,A,W,q,U,F,V,H=(D=(T=void 0===L?{}:L).connectHOC,N=void 0===D?a:D,z=T.mapStateToPropsFactories,R=void 0===z?p:z,A=T.mapDispatchToPropsFactories,W=void 0===A?h:A,q=T.mergePropsFactories,U=void 0===q?m:q,F=T.selectorFactory,V=void 0===F?_:F,function(e,t,n,r){void 0===r&&(r={});var i=r,o=i.pure,a=void 0===o||o,s=i.areStatesEqual,u=void 0===s?k:s,c=i.areOwnPropsEqual,l=void 0===c?g:c,d=i.areStatePropsEqual,f=void 0===d?g:d,h=i.areMergedPropsEqual,p=void 0===h?g:h,v=Object(C.a)(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),m=O(e,R,"mapStateToProps"),y=O(t,W,"mapDispatchToProps"),b=O(n,U,"mergeProps");return N(V,Object(M.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:m,initMapDispatchToProps:y,initMergeProps:b,pure:a,areStatesEqual:u,areOwnPropsEqual:l,areStatePropsEqual:f,areMergedPropsEqual:p},v))});n.d(t,"Provider",function(){return r}),n.d(t,"connectAdvanced",function(){return a}),n.d(t,"ReactReduxContext",function(){return x}),n.d(t,"connect",function(){return H})},209:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},22:function(e,t,n){"use strict";n.d(t,"m",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"o",function(){return d}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"k",function(){return p}),n.d(t,"n",function(){return v}),n.d(t,"j",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"l",function(){return b}),n.d(t,"i",function(){return g}),n.d(t,"e",function(){return _});var r,i=document.getElementById("initial-state"),o=i&&JSON.parse(i.textContent),a=function(e){return o&&o.meta&&o.meta[e]},s=a("reduce_motion"),u=a("auto_play_gif"),c=a("display_media"),l=a("expand_spoilers"),d=a("unfollow_modal"),f=a("boost_modal"),h=a("delete_modal"),p=a("me"),v=a("search_enabled"),m=a("max_toot_chars")||a("char_limit")||5e3,y=a("invites_enabled"),b=(a("version"),a("mascot"),a("profile_directory")),g=a("is_staff"),_=(r="delete_others_notice",o&&o.rights&&o.rights[r]);t.c=o},24:function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(4),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),s(t,[{key:"shouldComponentUpdate",value:function(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this.state||{};return!(this.updateOnProps||Object.keys(a({},t,this.props))).every(function(e){return Object(o.is)(t[e],n.props[e])})||!(this.updateOnStates||Object.keys(a({},r,i))).every(function(e){return Object(o.is)(r[e],i[e])})}}]),t}();t.a=u},26:function(e,t,n){"use strict";var y=n(4),l="<<anonymous>>",r={listOf:function(e){return s(e,"List",y.List.isList)},mapOf:function(e,t){return o(e,t,"Map",y.Map.isMap)},orderedMapOf:function(e,t){return o(e,t,"OrderedMap",y.OrderedMap.isOrderedMap)},setOf:function(e){return s(e,"Set",y.Set.isSet)},orderedSetOf:function(e){return s(e,"OrderedSet",y.OrderedSet.isOrderedSet)},stackOf:function(e){return s(e,"Stack",y.Stack.isStack)},iterableOf:function(e){return s(e,"Iterable",y.Iterable.isIterable)},recordOf:function(v){return c(function(e,t,n,r,i){for(var o=arguments.length,a=Array(5<o?o-5:0),s=5;s<o;s++)a[s-5]=arguments[s];var u=e[t];if(!(u instanceof y.Record)){var c=b(u),l=r;return new Error("Invalid "+l+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected an Immutable.js Record.")}for(var d in v){var f=v[d];if(f){var h=u.toObject(),p=f.apply(void 0,[h,d,n,r,i+"."+d].concat(a));if(p)return p}}})},shape:u,contains:u,mapContains:function(e){return a(e,"Map",y.Map.isMap)},list:i("List",y.List.isList),map:i("Map",y.Map.isMap),orderedMap:i("OrderedMap",y.OrderedMap.isOrderedMap),set:i("Set",y.Set.isSet),orderedSet:i("OrderedSet",y.OrderedSet.isOrderedSet),stack:i("Stack",y.Stack.isStack),seq:i("Seq",y.Seq.isSeq),record:i("Record",function(e){return e instanceof y.Record}),iterable:i("Iterable",y.Iterable.isIterable)};function b(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof y.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function c(c){function e(e,t,n,r,i,o){for(var a=arguments.length,s=Array(6<a?a-6:0),u=6;u<a;u++)s[u-6]=arguments[u];return o=o||n,r=r||l,null!=t[n]?c.apply(void 0,[t,n,r,i,o].concat(s)):e?new Error("Required "+i+" `"+o+"` was not specified in `"+r+"`."):void 0}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function i(s,u){return c(function(e,t,n,r,i){var o=e[t];if(u(o))return null;var a=b(o);return new Error("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected `"+s+"`.")})}function s(v,m,y){return c(function(e,t,n,r,i){for(var o=arguments.length,a=Array(5<o?o-5:0),s=5;s<o;s++)a[s-5]=arguments[s];var u=e[t];if(!y(u)){var c=r,l=b(u);return new Error("Invalid "+c+" `"+i+"` of type `"+l+"` supplied to `"+n+"`, expected an Immutable.js "+m+".")}if("function"!=typeof v)return new Error("Invalid typeChecker supplied to `"+n+"` for propType `"+i+"`, expected a function.");for(var d=u.toArray(),f=0,h=d.length;f<h;f++){var p=v.apply(void 0,[d,f,n,r,i+"["+f+"]"].concat(a));if(p instanceof Error)return p}})}function o(r,i,o,a){return c(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(r,o,a).apply(void 0,t)||i&&(h=i,c(function(e,t,n,r,i){for(var o=arguments.length,a=Array(5<o?o-5:0),s=5;s<o;s++)a[s-5]=arguments[s];var u=e[t];if("function"!=typeof h)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+n+"` for propType `"+i+"`, expected a function.");for(var c=u.keySeq().toArray(),l=0,d=c.length;l<d;l++){var f=h.apply(void 0,[c,l,n,r,i+" -> key("+c[l]+")"].concat(a));if(f instanceof Error)return f}})).apply(void 0,t);var h})}function a(p){var v=void 0===arguments[1]?"Iterable":arguments[1],m=void 0===arguments[2]?y.Iterable.isIterable:arguments[2];return c(function(e,t,n,r,i){for(var o=arguments.length,a=Array(5<o?o-5:0),s=5;s<o;s++)a[s-5]=arguments[s];var u=e[t];if(!m(u)){var c=b(u);return new Error("Invalid "+r+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected an Immutable.js "+v+".")}var l=u.toObject();for(var d in p){var f=p[d];if(f){var h=f.apply(void 0,[l,d,n,r,i+"."+d].concat(a));if(h)return h}}})}function u(e){return a(e)}e.exports=r},275:function(n,e,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}).call(this,t(53))},278:function(e,t,n){"use strict";var u=n(1),i=n(158),o=n(7),a=n(0),s=n(2),r=n(3),c=n.n(r),l=n(12),d=n.n(l),f=n(55),h=function(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))},p=function(r){function e(){for(var d,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d=r.call.apply(r,[this].concat(t))||this,Object(s.a)(Object(a.a)(Object(a.a)(d)),"state",{scale:1}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"removers",[]),Object(s.a)(Object(a.a)(Object(a.a)(d)),"container",null),Object(s.a)(Object(a.a)(Object(a.a)(d)),"image",null),Object(s.a)(Object(a.a)(Object(a.a)(d)),"lastTouchEndTime",0),Object(s.a)(Object(a.a)(Object(a.a)(d)),"lastDistance",0),Object(s.a)(Object(a.a)(Object(a.a)(d)),"handleTouchStart",function(e){2===e.touches.length&&(d.lastDistance=h.apply(void 0,e.touches))}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"handleTouchMove",function(e){var t=d.container,n=t.scrollTop,r=t.scrollHeight,i=t.clientHeight;if(1!==e.touches.length||n===r-i){if(2===e.touches.length){e.preventDefault(),e.stopPropagation();var o,a,s,u=h.apply(void 0,e.touches),c=function(e,t){return{x:(e.clientX+t.clientX)/2,y:(e.clientY+t.clientY)/2}}.apply(void 0,e.touches),l=(o=1,a=4,s=d.state.scale*u/d.lastDistance,Math.min(a,Math.max(o,s)));d.zoom(l,c),d.lastMidpoint=c,d.lastDistance=u}}else e.stopPropagation()}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"handleClick",function(e){e.stopPropagation();var t=d.props.onClick;t&&t()}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"setContainerRef",function(e){d.container=e}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"setImageRef",function(e){d.image=e}),d}Object(o.a)(e,r);var t=e.prototype;return t.componentDidMount=function(){var e=this,t=this.handleTouchStart;this.container.addEventListener("touchstart",t),this.removers.push(function(){return e.container.removeEventListener("touchstart",t)}),t=this.handleTouchMove,this.container.addEventListener("touchmove",t,{passive:!1}),this.removers.push(function(){return e.container.removeEventListener("touchend",t)})},t.componentWillUnmount=function(){this.removeEventListeners()},t.removeEventListeners=function(){this.removers.forEach(function(e){return e()}),this.removers=[]},t.zoom=function(e,t){var n=this,r=this.state.scale,i=this.container,o=i.scrollLeft,a=i.scrollTop,s=(o+t.x)*e/r-t.x,u=(a+t.y)*e/r-t.y;this.setState({scale:e},function(){n.container.scrollLeft=s,n.container.scrollTop=u})},t.render=function(){var e=this.props,t=e.alt,n=e.src,r=this.state.scale,i=1===r?"hidden":"scroll";return c.a.createElement("div",{className:"zoomable-image",ref:this.setContainerRef,style:{overflow:i}},c.a.createElement("img",{role:"presentation",ref:this.setImageRef,alt:t,title:t,src:n,style:{transform:"scale("+r+")",transformOrigin:"0 0"},onClick:this.handleClick}))},e}(c.a.PureComponent);Object(s.a)(p,"defaultProps",{alt:"",width:null,height:null}),n.d(t,"a",function(){return v});var v=function(r){function e(){for(var c,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c=r.call.apply(r,[this].concat(t))||this,Object(s.a)(Object(a.a)(Object(a.a)(c)),"state",{loading:!0,error:!1,width:null}),Object(s.a)(Object(a.a)(Object(a.a)(c)),"removers",[]),Object(s.a)(Object(a.a)(Object(a.a)(c)),"canvas",null),Object(s.a)(Object(a.a)(Object(a.a)(c)),"loadPreviewCanvas",function(e){var a=e.previewSrc,s=e.width,u=e.height;return new Promise(function(e,t){var n=new Image,r=function(){n.removeEventListener("error",i),n.removeEventListener("load",o)},i=function(){r(),t()},o=function(){r(),c.canvasContext.drawImage(n,0,0,s,u),e()};n.addEventListener("error",i),n.addEventListener("load",o),n.src=a,c.removers.push(r)})}),Object(s.a)(Object(a.a)(Object(a.a)(c)),"loadOriginalImage",function(e){var a=e.src;return new Promise(function(e,t){var n=new Image,r=function(){n.removeEventListener("error",i),n.removeEventListener("load",o)},i=function(){r(),t()},o=function(){r(),e()};n.addEventListener("error",i),n.addEventListener("load",o),n.src=a,c.removers.push(r)})}),Object(s.a)(Object(a.a)(Object(a.a)(c)),"setCanvasRef",function(e){(c.canvas=e)&&c.setState({width:e.offsetWidth})}),c}Object(o.a)(e,r);var t=e.prototype;return t.componentDidMount=function(){this.loadImage(this.props)},t.componentWillReceiveProps=function(e){this.props.src!==e.src&&this.loadImage(e)},t.componentWillUnmount=function(){this.removeEventListeners()},t.loadImage=function(e){var t=this;this.removeEventListeners(),this.setState({loading:!0,error:!1}),Promise.all([e.previewSrc&&this.loadPreviewCanvas(e),this.hasSize()&&this.loadOriginalImage(e)].filter(Boolean)).then(function(){t.setState({loading:!1,error:!1}),t.clearPreviewCanvas()}).catch(function(){return t.setState({loading:!1,error:!0})})},t.clearPreviewCanvas=function(){var e=this.canvas,t=e.width,n=e.height;this.canvasContext.clearRect(0,0,t,n)},t.removeEventListeners=function(){this.removers.forEach(function(e){return e()}),this.removers=[]},t.hasSize=function(){var e=this.props,t=e.width,n=e.height;return"number"==typeof t&&"number"==typeof n},t.render=function(){var e=this.props,t=e.alt,n=e.src,r=e.width,i=e.height,o=e.onClick,a=this.state.loading,s=d()("image-loader",{"image-loader--loading":a,"image-loader--amorphous":!this.hasSize()});return Object(u.a)("div",{className:s},void 0,Object(u.a)(f.LoadingBar,{loading:a?1:0,className:"loading-bar",style:{width:this.state.width||r}}),a?c.a.createElement("canvas",{className:"image-loader__preview-canvas",ref:this.setCanvasRef,width:r,height:i}):Object(u.a)(p,{alt:t,src:n,onClick:o}))},Object(i.a)(e,[{key:"canvasContext",get:function(){return this.canvas?(this._canvasContext=this._canvasContext||this.canvas.getContext("2d"),this._canvasContext):null}}]),e}(c.a.PureComponent);Object(s.a)(v,"defaultProps",{alt:"",width:null,height:null})},279:function(e,t,n){"use strict";var u=n(1),i=n(158),o=n(7),a=n(0),s=n(2),r=n(3),c=n.n(r),l=n(12),d=n.n(l),f=n(55),h=function(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))},p=function(r){function e(){for(var d,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d=r.call.apply(r,[this].concat(t))||this,Object(s.a)(Object(a.a)(Object(a.a)(d)),"state",{scale:1}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"removers",[]),Object(s.a)(Object(a.a)(Object(a.a)(d)),"container",null),Object(s.a)(Object(a.a)(Object(a.a)(d)),"image",null),Object(s.a)(Object(a.a)(Object(a.a)(d)),"lastTouchEndTime",0),Object(s.a)(Object(a.a)(Object(a.a)(d)),"lastDistance",0),Object(s.a)(Object(a.a)(Object(a.a)(d)),"handleTouchStart",function(e){2===e.touches.length&&(d.lastDistance=h.apply(void 0,e.touches))}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"handleTouchMove",function(e){var t=d.container,n=t.scrollTop,r=t.scrollHeight,i=t.clientHeight;if(1!==e.touches.length||n===r-i){if(2===e.touches.length){e.preventDefault(),e.stopPropagation();var o,a,s,u=h.apply(void 0,e.touches),c=function(e,t){return{x:(e.clientX+t.clientX)/2,y:(e.clientY+t.clientY)/2}}.apply(void 0,e.touches),l=(o=1,a=4,s=d.state.scale*u/d.lastDistance,Math.min(a,Math.max(o,s)));d.zoom(l,c),d.lastMidpoint=c,d.lastDistance=u}}else e.stopPropagation()}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"handleClick",function(e){e.stopPropagation();var t=d.props.onClick;t&&t()}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"setContainerRef",function(e){d.container=e}),Object(s.a)(Object(a.a)(Object(a.a)(d)),"setImageRef",function(e){d.image=e}),d}Object(o.a)(e,r);var t=e.prototype;return t.componentDidMount=function(){var e=this,t=this.handleTouchStart;this.container.addEventListener("touchstart",t),this.removers.push(function(){return e.container.removeEventListener("touchstart",t)}),t=this.handleTouchMove,this.container.addEventListener("touchmove",t,{passive:!1}),this.removers.push(function(){return e.container.removeEventListener("touchend",t)})},t.componentWillUnmount=function(){this.removeEventListeners()},t.removeEventListeners=function(){this.removers.forEach(function(e){return e()}),this.removers=[]},t.zoom=function(e,t){var n=this,r=this.state.scale,i=this.container,o=i.scrollLeft,a=i.scrollTop,s=(o+t.x)*e/r-t.x,u=(a+t.y)*e/r-t.y;this.setState({scale:e},function(){n.container.scrollLeft=s,n.container.scrollTop=u})},t.render=function(){var e=this.props,t=e.alt,n=e.src,r=this.state.scale,i=1===r?"hidden":"scroll";return c.a.createElement("div",{className:"zoomable-image",ref:this.setContainerRef,style:{overflow:i}},c.a.createElement("img",{role:"presentation",ref:this.setImageRef,alt:t,title:t,src:n,style:{transform:"scale("+r+")",transformOrigin:"0 0"},onClick:this.handleClick}))},e}(c.a.PureComponent);Object(s.a)(p,"defaultProps",{alt:"",width:null,height:null}),n.d(t,"a",function(){return v});var v=function(r){function e(){for(var c,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c=r.call.apply(r,[this].concat(t))||this,Object(s.a)(Object(a.a)(Object(a.a)(c)),"state",{loading:!0,error:!1,width:null}),Object(s.a)(Object(a.a)(Object(a.a)(c)),"removers",[]),Object(s.a)(Object(a.a)(Object(a.a)(c)),"canvas",null),Object(s.a)(Object(a.a)(Object(a.a)(c)),"loadPreviewCanvas",function(e){var a=e.previewSrc,s=e.width,u=e.height;return new Promise(function(e,t){var n=new Image,r=function(){n.removeEventListener("error",i),n.removeEventListener("load",o)},i=function(){r(),t()},o=function(){r(),c.canvasContext.drawImage(n,0,0,s,u),e()};n.addEventListener("error",i),n.addEventListener("load",o),n.src=a,c.removers.push(r)})}),Object(s.a)(Object(a.a)(Object(a.a)(c)),"loadOriginalImage",function(e){var a=e.src;return new Promise(function(e,t){var n=new Image,r=function(){n.removeEventListener("error",i),n.removeEventListener("load",o)},i=function(){r(),t()},o=function(){r(),e()};n.addEventListener("error",i),n.addEventListener("load",o),n.src=a,c.removers.push(r)})}),Object(s.a)(Object(a.a)(Object(a.a)(c)),"setCanvasRef",function(e){(c.canvas=e)&&c.setState({width:e.offsetWidth})}),c}Object(o.a)(e,r);var t=e.prototype;return t.componentDidMount=function(){this.loadImage(this.props)},t.componentWillReceiveProps=function(e){this.props.src!==e.src&&this.loadImage(e)},t.componentWillUnmount=function(){this.removeEventListeners()},t.loadImage=function(e){var t=this;this.removeEventListeners(),this.setState({loading:!0,error:!1}),Promise.all([e.previewSrc&&this.loadPreviewCanvas(e),this.hasSize()&&this.loadOriginalImage(e)].filter(Boolean)).then(function(){t.setState({loading:!1,error:!1}),t.clearPreviewCanvas()}).catch(function(){return t.setState({loading:!1,error:!0})})},t.clearPreviewCanvas=function(){var e=this.canvas,t=e.width,n=e.height;this.canvasContext.clearRect(0,0,t,n)},t.removeEventListeners=function(){this.removers.forEach(function(e){return e()}),this.removers=[]},t.hasSize=function(){var e=this.props,t=e.width,n=e.height;return"number"==typeof t&&"number"==typeof n},t.render=function(){var e=this.props,t=e.alt,n=e.src,r=e.width,i=e.height,o=e.onClick,a=this.state.loading,s=d()("image-loader",{"image-loader--loading":a,"image-loader--amorphous":!this.hasSize()});return Object(u.a)("div",{className:s},void 0,Object(u.a)(f.LoadingBar,{loading:a?1:0,className:"loading-bar",style:{width:this.state.width||r}}),a?c.a.createElement("canvas",{className:"image-loader__preview-canvas",ref:this.setCanvasRef,width:r,height:i}):Object(u.a)(p,{alt:t,src:n,onClick:o}))},Object(i.a)(e,[{key:"canvasContext",get:function(){return this.canvas?(this._canvasContext=this._canvasContext||this.canvas.getContext("2d"),this._canvasContext):null}}]),e}(c.a.PureComponent);Object(s.a)(v,"defaultProps",{alt:"",width:null,height:null})},29:function(e,t,n){"use strict";n.d(t,"l",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"n",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"g",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"k",function(){return p}),n.d(t,"m",function(){return v}),n.d(t,"j",function(){return m}),n.d(t,"i",function(){return y}),n.d(t,"h",function(){return b}),n.d(t,"e",function(){return g});var r,i=document.getElementById("initial-state"),o=i&&function(){var t=JSON.parse(i.textContent);try{t.local_settings=JSON.parse(localStorage.getItem("mastodon-settings"))}catch(e){t.local_settings={}}return t}(),a=function(e){return o&&o.meta&&o.meta[e]},s=a("reduce_motion"),u=a("auto_play_gif"),c=(a("display_sensitive_media"),a("display_media")||(a("display_sensitive_media")?"show_all":"default")),l=a("unfollow_modal"),d=a("boost_modal"),f=a("favourite_modal"),h=a("delete_modal"),p=a("me"),v=a("search_enabled"),m=a("max_toot_chars")||500,y=(a("invites_enabled"),a("version"),a("mascot")),b=a("is_staff"),g=(r="delete_others_notice",o&&o.rights&&o.rights[r]);t.c=o},302:function(d,e,f){(function(e){for(var r=f(321),t="undefined"==typeof window?e:window,n=["moz","webkit"],i="AnimationFrame",o=t["request"+i],a=t["cancel"+i]||t["cancelRequest"+i],s=0;!o&&s<n.length;s++)o=t[n[s]+"Request"+i],a=t[n[s]+"Cancel"+i]||t[n[s]+"CancelRequest"+i];if(!o||!a){var u=0,c=0,l=[];o=function(e){if(0===l.length){var t=r(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout(function(){for(var e=l.slice(0),t=l.length=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return l.push({handle:++c,callback:e,cancelled:!1}),c},a=function(e){for(var t=0;t<l.length;t++)l[t].handle===e&&(l[t].cancelled=!0)}}d.exports=function(e){return o.call(t,e)},d.exports.cancel=function(){a.apply(t,arguments)},d.exports.polyfill=function(e){e||(e=t),e.requestAnimationFrame=o,e.cancelAnimationFrame=a}}).call(this,f(53))},308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case c:return e;default:return t}}case m:case v:case o:return t}}}function b(e){return y(e)===f}t.typeOf=y,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h)},t.isAsyncMode=function(e){return b(e)||y(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return y(e)===l},t.isContextProvider=function(e){return y(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return y(e)===h},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===m},t.isMemo=function(e){return y(e)===v},t.isPortal=function(e){return y(e)===o},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===p}},309:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},31:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},310:function(e,t,n){var r=n(74);e.exports=function(){return r.Date.now()}},311:function(e,t,n){var r=n(95),i=n(174),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},312:function(e,t,n){var r=n(148),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{var r=!(e[s]=void 0)}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},313:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},314:function(e,t,n){"use strict";function u(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function c(n){this.setState(function(e){var t=this.constructor.getDerivedStateFromProps(n,e);return null!=t?t:null}.bind(this))}function l(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function r(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=u,t.componentWillReceiveProps=c),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=l;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",function(){return r}),l.__suppressDeprecationWarning=c.__suppressDeprecationWarning=u.__suppressDeprecationWarning=!0},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=e.promiseTypeSuffixes||r,f=e.scope||p.DEFAULT_SCOPE;return function(e){var l=e.dispatch;return function(c){return function(e){if(e.type){var t=h(d,3),n=t[0],r=t[1],i=t[2],o=new RegExp(n+"$","g"),a=new RegExp(r+"$","g"),s=new RegExp(i+"$","g"),u=e.meta&&e.meta.scope||e.scope||f;e.type.match(o)?l((0,p.showLoading)(u)):(e.type.match(a)||e.type.match(s))&&l((0,p.hideLoading)(u))}return c(e)}}}};var p=n(101),r=["PENDING","FULFILLED","REJECTED"]},316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=n(188),o=n(101);t.default=(0,r.connect)(function(e,t){return{loading:e.get("loadingBar")[t.scope||o.DEFAULT_SCOPE]}})(i.LoadingBar)},317:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},318:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},319:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r,i,o,a){var s=n+(-i*(t-r)+-o*n)*e,u=t+s*e;if(Math.abs(s)<a&&Math.abs(u-r)<a)return c[0]=r,c[1]=0,c;return c[0]=u,c[1]=s,c};var c=[0,0];e.exports=t.default},320:function(i,e,t){(function(r){(function(){var e,t,n;"undefined"!=typeof performance&&null!==performance&&performance.now?i.exports=function(){return performance.now()}:n=null!=r&&r.hrtime?(i.exports=function(){return(e()-n)/1e6},t=r.hrtime,(e=function(){var e;return 1e9*(e=t())[0]+e[1]})()):Date.now?(i.exports=function(){return Date.now()-n},Date.now()):(i.exports=function(){return(new Date).getTime()-n},(new Date).getTime())}).call(this)}).call(this,t(57))},321:function(s,e,t){(function(a){(function(){var e,t,n,r,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?s.exports=function(){return performance.now()}:null!=a&&a.hrtime?(s.exports=function(){return(e()-i)/1e6},t=a.hrtime,r=(e=function(){var e;return 1e9*(e=t())[0]+e[1]})(),o=1e9*a.uptime(),i=r-o):n=Date.now?(s.exports=function(){return Date.now()-n},Date.now()):(s.exports=function(){return(new Date).getTime()-n},(new Date).getTime())}).call(this)}).call(this,t(57))},322:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var i="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==i)return!1}return!0},e.exports=t.default},323:function(e,t,n){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},325:function(e,t,n){"use strict";var r=n(189);Object.defineProperty(t,"__esModule",{value:!0}),t.getDomTreeShapes=b,t.findNativeHandler=_,t.default=void 0;var C=r(n(326)),I=r(n(327)),i=r(n(329)),o=r(n(330)),a=r(n(331)),s=r(n(334)),u=r(n(335)),P=r(n(3)),c=r(n(5)),l=(r(n(49)),r(n(191))),d=r(n(167)),f=r(n(168)),m=n(337);function h(e,t,n,r){return(0,d.default)(e,t,n,r),{remove:function(){(0,f.default)(e,t,n,r)}}}var k={direction:"ltr",display:"flex",willChange:"transform"},L={width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"},T={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(e){return"translate(".concat(-e,"%, 0)")},"x-reverse":function(e){return"translate(".concat(e,"%, 0)")},y:function(e){return"translate(0, ".concat(-e,"%)")},"y-reverse":function(e){return"translate(0, ".concat(e,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function D(e,t){var n=t.duration,r=t.easeFunction,i=t.delay;return"".concat(e," ").concat(n," ").concat(r," ").concat(i)}function y(e,t){var n=T.rotationMatrix[t];return{pageX:n.x[0]*e.pageX+n.x[1]*e.pageY,pageY:n.y[0]*e.pageX+n.y[1]*e.pageY}}function p(e){return e.touches=[{pageX:e.pageX,pageY:e.pageY}],e}function b(e,t){for(var n=[];e&&e!==t&&!e.hasAttribute("data-swipeable");){var r=window.getComputedStyle(e);"absolute"===r.getPropertyValue("position")||"hidden"===r.getPropertyValue("overflow-x")?n=[]:(0<e.clientWidth&&e.scrollWidth>e.clientWidth||0<e.clientHeight&&e.scrollHeight>e.clientHeight)&&n.push({element:e,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),e=e.parentNode}return n}var g=null;function _(e){var t=e.domTreeShapes,o=e.pageX,a=e.startX,s=e.axis;return t.some(function(e){var t=a<=o;"x"!==s&&"y"!==s||(t=!t);var n=e[T.scrollPosition[s]],r=0<n,i=n+e[T.clientLength[s]]<e[T.scrollLength[s]];return!!(t&&i||!t&&r)&&(g=e.element,!0)})}var v=function(e){function t(e){var v;return(0,i.default)(this,t),(v=(0,a.default)(this,(0,s.default)(t).call(this,e))).rootNode=null,v.containerNode=null,v.ignoreNextScrollEvents=!1,v.viewLength=0,v.startX=0,v.lastX=0,v.vx=0,v.startY=0,v.isSwiping=void 0,v.started=!1,v.startIndex=0,v.transitionListener=null,v.touchMoveListener=null,v.activeSlide=null,v.indexCurrent=null,v.firstRenderTimeout=null,v.setRootNode=function(e){v.rootNode=e},v.setContainerNode=function(e){v.containerNode=e},v.setActiveSlide=function(e){v.activeSlide=e,v.updateHeight()},v.handleSwipeStart=function(e){var t=v.props.axis,n=y(e.touches[0],t);v.viewLength=v.rootNode.getBoundingClientRect()[T.length[t]],v.startX=n.pageX,v.lastX=n.pageX,v.vx=0,v.startY=n.pageY,v.isSwiping=void 0,v.started=!0;var r=window.getComputedStyle(v.containerNode),i=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("transform");if(i&&"none"!==i){var o=i.split("(")[1].split(")")[0].split(","),a=window.getComputedStyle(v.rootNode),s=y({pageX:parseInt(o[4],10),pageY:parseInt(o[5],10)},t);v.startIndex=-s.pageX/(v.viewLength-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10))||0}},v.handleSwipeMove=function(e){if(v.started){if(null===g||g===v.rootNode){var t=v.props,n=t.axis,r=t.children,i=t.ignoreNativeScroll,o=t.onSwitching,a=t.resistance,s=y(e.touches[0],n);if(void 0===v.isSwiping){var u=Math.abs(s.pageX-v.startX),c=Math.abs(s.pageY-v.startY),l=c<u&&u>m.constant.UNCERTAINTY_THRESHOLD;if(!a&&("y"===n||"y-reverse"===n)&&(0===v.indexCurrent&&v.startX<s.pageX||v.indexCurrent===P.default.Children.count(v.props.children)-1&&v.startX>s.pageX))return void(v.isSwiping=!1);if(c<u&&e.preventDefault(),!0===l||c>m.constant.UNCERTAINTY_THRESHOLD)return v.isSwiping=l,void(v.startX=s.pageX)}if(!0===v.isSwiping){e.preventDefault(),v.vx=.5*v.vx+.5*(s.pageX-v.lastX),v.lastX=s.pageX;var d=(0,m.computeIndex)({children:r,resistance:a,pageX:s.pageX,startIndex:v.startIndex,startX:v.startX,viewLength:v.viewLength}),f=d.index,h=d.startX;if(null===g&&!i)if(_({domTreeShapes:b(e.target,v.rootNode),startX:v.startX,pageX:s.pageX,axis:n}))return;h?v.startX=h:null===g&&(g=v.rootNode),v.setIndexCurrent(f);var p=function(){o&&o(f,"move")};!v.state.displaySameSlide&&v.state.isDragging||v.setState({displaySameSlide:!1,isDragging:!0},p),p()}}}else v.handleTouchStart(e)},v.handleSwipeEnd=function(){if(g=null,v.started&&!(v.started=!1)===v.isSwiping){var e,t=v.state.indexLatest,n=v.indexCurrent,r=t-n;e=Math.abs(v.vx)>v.props.threshold?0<v.vx?Math.floor(n):Math.ceil(n):Math.abs(r)>v.props.hysteresis?0<r?Math.floor(n):Math.ceil(n):t;var i=P.default.Children.count(v.props.children)-1;e<0?e=0:i<e&&(e=i),v.setIndexCurrent(e),v.setState({indexLatest:e,isDragging:!1},function(){v.props.onSwitching&&v.props.onSwitching(e,"end"),v.props.onChangeIndex&&e!==t&&v.props.onChangeIndex(e,t,{reason:"swipe"}),n===t&&v.handleTransitionEnd()})}},v.handleTouchStart=function(e){v.props.onTouchStart&&v.props.onTouchStart(e),v.handleSwipeStart(e)},v.handleTouchEnd=function(e){v.props.onTouchEnd&&v.props.onTouchEnd(e),v.handleSwipeEnd(e)},v.handleMouseDown=function(e){v.props.onMouseDown&&v.props.onMouseDown(e),e.persist(),v.handleSwipeStart(p(e))},v.handleMouseUp=function(e){v.props.onMouseUp&&v.props.onMouseUp(e),v.handleSwipeEnd(p(e))},v.handleMouseLeave=function(e){v.props.onMouseLeave&&v.props.onMouseLeave(e),v.started&&v.handleSwipeEnd(p(e))},v.handleMouseMove=function(e){v.props.onMouseMove&&v.props.onMouseMove(e),v.started&&v.handleSwipeMove(p(e))},v.handleScroll=function(e){if(v.props.onScroll&&v.props.onScroll(e),e.target===v.rootNode)if(v.ignoreNextScrollEvents)v.ignoreNextScrollEvents=!1;else{var t=v.state.indexLatest,n=Math.ceil(e.target.scrollLeft/e.target.clientWidth)+t;v.ignoreNextScrollEvents=!0,e.target.scrollLeft=0,v.props.onChangeIndex&&n!==t&&v.props.onChangeIndex(n,t,{reason:"focus"})}},v.updateHeight=function(){if(null!==v.activeSlide){var e=v.activeSlide.children[0];void 0!==e&&void 0!==e.offsetHeight&&v.state.heightLatest!==e.offsetHeight&&v.setState({heightLatest:e.offsetHeight})}},v.state={indexLatest:e.index,isDragging:!1,renderOnlyActive:!e.disableLazyLoading,heightLatest:0,displaySameSlide:!0},v.setIndexCurrent(e.index),v}return(0,u.default)(t,e),(0,o.default)(t,[{key:"getChildContext",value:function(){var e=this;return{swipeableViews:{slideUpdateHeight:function(){e.updateHeight()}}}}},{key:"componentDidMount",value:function(){var t=this;this.transitionListener=h(this.containerNode,l.default.end,function(e){e.target===t.containerNode&&t.handleTransitionEnd()}),this.touchMoveListener=h(this.rootNode,"touchmove",function(e){t.props.disabled||t.handleSwipeMove(e)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){t.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"componentWillReceiveProps",value:function(e){var t=e.index;"number"==typeof t&&t!==this.props.index&&(this.setIndexCurrent(t),this.setState({displaySameSlide:(0,m.getDisplaySameSlide)(this.props,e),indexLatest:t}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"setIndexCurrent",value:function(e){if(this.props.animateTransitions||this.indexCurrent===e||this.handleTransitionEnd(),this.indexCurrent=e,this.containerNode){var t=this.props.axis,n=T.transform[t](100*e);this.containerNode.style.WebkitTransform=n,this.containerNode.style.transform=n}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var e,t,i=this,n=this.props,o=(n.action,n.animateHeight),r=n.animateTransitions,a=n.axis,s=n.children,u=n.containerStyle,c=n.disabled,l=(n.disableLazyLoading,n.enableMouseEvents),d=(n.hysteresis,n.ignoreNativeScroll,n.index,n.onChangeIndex,n.onSwitching,n.onTransitionEnd,n.resistance,n.slideStyle),f=n.slideClassName,h=n.springConfig,p=n.style,v=(n.threshold,(0,I.default)(n,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"])),m=this.state,y=m.displaySameSlide,b=m.heightLatest,g=m.indexLatest,_=m.isDragging,O=m.renderOnlyActive,j=c?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},w=!c&&l?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},S=(0,C.default)({},L,d);if(_||!r||y)t=e="all 0s ease 0s";else if(e=D("transform",h),t=D("-webkit-transform",h),0!==b){var x=", ".concat(D("height",h));e+=x,t+=x}var E={height:null,WebkitFlexDirection:T.flexDirection[a],flexDirection:T.flexDirection[a],WebkitTransition:t,transition:e};if(!O){var M=T.transform[a](100*this.indexCurrent);E.WebkitTransform=M,E.transform=M}return o&&(E.height=b),P.default.createElement("div",(0,C.default)({ref:this.setRootNode,style:(0,C.default)({},T.root[a],p)},v,j,w,{onScroll:this.handleScroll}),P.default.createElement("div",{ref:this.setContainerNode,style:(0,C.default)({},E,k,u),className:"react-swipeable-view-container"},P.default.Children.map(s,function(e,t){if(O&&t!==g)return null;var n,r=!0;return t===g&&(r=!1,o&&(n=i.setActiveSlide,S.overflowY="hidden")),P.default.createElement("div",{ref:n,style:S,className:f,"aria-hidden":r,"data-swipeable":"true"},e)})))}}]),t}(P.default.Component);v.displayName="ReactSwipableView",v.propTypes={},v.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1},v.childContextTypes={swipeableViews:c.default.shape({slideUpdateHeight:c.default.func})};var O=v;t.default=O},326:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},327:function(e,t,n){var a=n(328);e.exports=function(e,t){if(null==e)return{};var n,r,i=a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},328:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}},329:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},33:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(31),a=n(40),r=n(7),i=n(3),s=n.n(i),u=n(12),c=n.n(u),l=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.className,r=e.fixedWidth,i=Object(a.a)(e,["id","className","fixedWidth"]);return s.a.createElement("i",Object(o.a)({role:"img",className:c()("fa","fa-"+t,n,{"fa-fw":r})},i))},t}(s.a.PureComponent)},330:function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},331:function(e,t,n){var r=n(332),i=n(333);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},332:function(t,e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r},333:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},334:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},335:function(e,t,n){var r=n(336);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},336:function(n,e){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r},337:function(e,t,n){"use strict";var r=n(149);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"checkIndexBounds",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"computeIndex",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"constant",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getDisplaySameSlide",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"mod",{enumerable:!0,get:function(){return u.default}});var i=r(n(338)),o=r(n(339)),a=r(n(190)),s=r(n(340)),u=r(n(341))},338:function(e,t,n){"use strict";var r=n(149);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(3)),o=(r(n(49)),function(e){e.index;var t=e.children;i.default.Children.count(t)});t.default=o},339:function(e,t,n){"use strict";var r=n(149);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.children,r=e.startIndex,i=e.startX,o=e.pageX,a=e.viewLength,s=e.resistance,u=l.default.Children.count(n)-1,c=r+(i-o)/a;s?c<0?c=Math.exp(c*d.default.RESISTANCE_COEF)-1:u<c&&(c=u+1-Math.exp((u-c)*d.default.RESISTANCE_COEF)):c<0?t=((c=0)-r)*a+o:u<c&&(t=((c=u)-r)*a+o);return{index:c,startX:t}};var l=r(n(3)),d=r(n(190))},340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){var n=!1;if(e.children.length&&t.children.length){var r=e.children[e.index],i=r?r.key:"empty";if(null!==i){var o=t.children[t.index];i===(o?o.key:"empty")&&(n=!0)}}return n};t.default=r},341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){var n=e%t;return n<0?n+t:n};t.default=r},398:function(e,t,n){"use strict";var r,i,o,f=n(1),a=n(7),s=n(0),u=n(2),c=n(3),l=n.n(c),d=n(157),h=n.n(d),p=n(26),v=n.n(p),m=n(5),y=n.n(m),b=n(139),g=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=i.call.apply(i,[this].concat(t))||this,Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleLoadedData",function(){n.props.time&&(n.video.currentTime=n.props.time)}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"setRef",function(e){n.video=e}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleClick",function(e){e.stopPropagation();var t=n.props.onClick;t&&t()}),n}Object(a.a)(e,i);var t=e.prototype;return t.componentDidMount=function(){this.video.addEventListener("loadeddata",this.handleLoadedData)},t.componentWillUnmount=function(){this.video.removeEventListener("loadeddata",this.handleLoadedData)},t.render=function(){var e=this.props,t=e.src,n=e.muted,r=e.controls,i=e.alt;return Object(f.a)("div",{className:"extended-video-player"},void 0,l.a.createElement("video",{ref:this.setRef,src:t,autoPlay:!0,role:"button",tabIndex:"0","aria-label":i,title:i,muted:n,controls:r,loop:!r,onClick:this.handleClick}))},e}(l.a.PureComponent),_=n(12),O=n.n(_),j=n(6),w=n(66),S=n(24),x=n(278),E=n(33);n.d(t,"b",function(){return C}),n.d(t,"a",function(){return I});var M=Object(j.f)({close:{id:"lightbox.close",defaultMessage:"Close"},previous:{id:"lightbox.previous",defaultMessage:"Previous"},next:{id:"lightbox.next",defaultMessage:"Next"}}),C="previewMediaModal",I=Object(j.g)((o=i=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=i.call.apply(i,[this].concat(t))||this,Object(u.a)(Object(s.a)(Object(s.a)(n)),"state",{index:null,navigationHidden:!1}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleSwipe",function(e){n.setState({index:e%n.props.media.size})}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleNextClick",function(){n.setState({index:(n.getIndex()+1)%n.props.media.size})}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handlePrevClick",function(){n.setState({index:(n.props.media.size+n.getIndex()-1)%n.props.media.size})}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleChangeIndex",function(e){var t=Number(e.currentTarget.getAttribute("data-index"));n.setState({index:t%n.props.media.size})}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleKeyDown",function(e){switch(e.key){case"ArrowLeft":n.handlePrevClick(),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":n.handleNextClick(),e.preventDefault(),e.stopPropagation()}}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"toggleNavigation",function(){n.setState(function(e){return{navigationHidden:!e.navigationHidden}})}),n}Object(a.a)(e,i);var t=e.prototype;return t.componentDidMount=function(){var e=this;if(window.addEventListener("keydown",this.handleKeyDown,!1),this.context.router){var t=this.context.router.history;t.push(t.location.pathname,C),this.unlistenHistory=t.listen(function(){e.props.onClose()})}},t.componentWillUnmount=function(){window.removeEventListener("keydown",this.handleKeyDown),this.context.router&&(this.unlistenHistory(),this.context.router.history.location.state===C&&this.context.router.history.goBack())},t.getIndex=function(){return null!==this.state.index?this.state.index:this.props.index},t.render=function(){var i=this,e=this.props,t=e.media,n=e.intl,o=e.onClose,r=this.state.navigationHidden,a=this.getIndex(),s=[],u=1<t.size&&Object(f.a)("button",{tabIndex:"0",className:"media-modal__nav media-modal__nav--left",onClick:this.handlePrevClick,"aria-label":n.formatMessage(M.previous)},void 0,Object(f.a)(E.a,{id:"chevron-left",fixedWidth:!0})),c=1<t.size&&Object(f.a)("button",{tabIndex:"0",className:"media-modal__nav  media-modal__nav--right",onClick:this.handleNextClick,"aria-label":n.formatMessage(M.next)},void 0,Object(f.a)(E.a,{id:"chevron-right",fixedWidth:!0}));1<t.size&&(s=t.map(function(e,t){var n=["media-modal__button"];return t===a&&n.push("media-modal__button--active"),Object(f.a)("li",{className:"media-modal__page-dot"},t,Object(f.a)("button",{tabIndex:"0",className:n.join(" "),onClick:i.handleChangeIndex,"data-index":t},void 0,t+1))}));var l=t.map(function(e){var t=e.getIn(["meta","original","width"])||null,n=e.getIn(["meta","original","height"])||null;if("image"===e.get("type"))return Object(f.a)(x.a,{previewSrc:e.get("preview_url"),src:e.get("url"),width:t,height:n,alt:e.get("description"),onClick:i.toggleNavigation},e.get("url"));if("video"!==e.get("type"))return"gifv"===e.get("type")?Object(f.a)(g,{src:e.get("url"),muted:!0,controls:!1,width:t,height:n,alt:e.get("description"),onClick:i.toggleNavigation},e.get("preview_url")):null;var r=i.props.time;return Object(f.a)(b.default,{preview:e.get("preview_url"),src:e.get("url"),width:e.get("width"),height:e.get("height"),startTime:r||0,onCloseVideo:o,detailed:!0,alt:e.get("description")},e.get("url"))}).toArray(),d=O()("media-modal__navigation",{"media-modal__navigation--hidden":r});return Object(f.a)("div",{className:"modal-root__modal media-modal"},void 0,Object(f.a)("div",{className:"media-modal__closer",role:"presentation",onClick:o},void 0,Object(f.a)(h.a,{style:{width:"100%",height:"100%"},containerStyle:{alignItems:"center"},onChangeIndex:this.handleSwipe,onSwitching:this.handleSwitching,index:a},void 0,l)),Object(f.a)("div",{className:d},void 0,Object(f.a)(w.a,{className:"media-modal__close",title:n.formatMessage(M.close),icon:"times",onClick:o,size:40}),u,c,Object(f.a)("ul",{className:"media-modal__pagination"},void 0,s)))},e}(S.a),Object(u.a)(i,"propTypes",{media:v.a.list.isRequired,index:y.a.number.isRequired,onClose:y.a.func.isRequired,intl:y.a.object.isRequired}),Object(u.a)(i,"contextTypes",{router:y.a.object}),r=o))||r},4:function(e,t,n){e.exports=function(){"use strict";var r=Array.prototype.slice;function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function u(e){return l(e)?e:K(e)}function s(e){return d(e)?e:Y(e)}function c(e){return f(e)?e:$(e)}function i(e){return l(e)&&!h(e)?e:J(e)}function l(e){return!(!e||!e[t])}function d(e){return!(!e||!e[n])}function f(e){return!(!e||!e[o])}function h(e){return d(e)||f(e)}function p(e){return!(!e||!e[a])}e(s,u),e(c,u),e(i,u),u.isIterable=l,u.isKeyed=d,u.isIndexed=f,u.isAssociative=h,u.isOrdered=p,u.Keyed=s,u.Indexed=c,u.Set=i;var t="@@__IMMUTABLE_ITERABLE__@@",n="@@__IMMUTABLE_KEYED__@@",o="@@__IMMUTABLE_INDEXED__@@",a="@@__IMMUTABLE_ORDERED__@@",v="delete",O=5,j=1<<O,g=j-1,b={},m={value:!1},y={value:!1};function _(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function S(){}function x(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function E(e){return void 0===e.size&&(e.size=e.__iterate(C)),e.size}function M(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?E(e)+t:t}function C(){return!0}function I(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&n<=t)}function P(e,t){return L(e,t,0)}function k(e,t){return L(e,t,t)}function L(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var T=0,D=1,N=2,z="function"==typeof Symbol&&Symbol.iterator,R="@@iterator",A=z||R;function W(e){this.next=e}function q(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function F(e){return!!X(e)}function V(e){return e&&"function"==typeof e.next}function H(e){var t=X(e);return t&&t.call(e)}function X(e){var t=e&&(z&&e[z]||e[R]);if("function"==typeof t)return t}function B(e){return e&&"number"==typeof e.length}function K(e){return null==e?ae():l(e)?e.toSeq():function(e){var t=ce(e)||"object"==typeof e&&new ne(e);if(t)return t;throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e)}(e)}function Y(e){return null==e?ae().toKeyedSeq():l(e)?d(e)?e.toSeq():e.fromEntrySeq():se(e)}function $(e){return null==e?ae():l(e)?d(e)?e.entrySeq():e.toIndexedSeq():ue(e)}function J(e){return(null==e?ae():l(e)?d(e)?e.entrySeq():e:ue(e)).toSetSeq()}W.prototype.toString=function(){return"[Iterator]"},W.KEYS=T,W.VALUES=D,W.ENTRIES=N,W.prototype.inspect=W.prototype.toSource=function(){return this.toString()},W.prototype[A]=function(){return this},e(K,u),K.of=function(){return K(arguments)},K.prototype.toSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq {","}")},K.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},K.prototype.__iterate=function(e,t){return le(this,e,t,!0)},K.prototype.__iterator=function(e,t){return de(this,e,t,!0)},e(Y,K),Y.prototype.toKeyedSeq=function(){return this},e($,K),$.of=function(){return $(arguments)},$.prototype.toIndexedSeq=function(){return this},$.prototype.toString=function(){return this.__toString("Seq [","]")},$.prototype.__iterate=function(e,t){return le(this,e,t,!1)},$.prototype.__iterator=function(e,t){return de(this,e,t,!1)},e(J,K),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},K.isSeq=oe,K.Keyed=Y,K.Set=J,K.Indexed=$;var G,Q,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return G||(G=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():V(e)?new ie(e).fromEntrySeq():F(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ue(e){var t=ce(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ce(e){return B(e)?new te(e):V(e)?new ie(e):F(e)?new re(e):void 0}function le(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function de(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new W(function(){var e=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:q(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function fe(e,t){return t?function n(r,i,e,t){return Array.isArray(i)?r.call(t,e,$(i).map(function(e,t){return n(r,e,t,i)})):pe(i)?r.call(t,e,Y(i).map(function(e,t){return n(r,e,t,i)})):i}(t,e,"",{"":e}):he(e)}function he(e){return Array.isArray(e)?$(e).map(he).toList():pe(e)?Y(e).map(he).toMap():e}function pe(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ve(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function me(n,e){if(n===e)return!0;if(!l(e)||void 0!==n.size&&void 0!==e.size&&n.size!==e.size||void 0!==n.__hash&&void 0!==e.__hash&&n.__hash!==e.__hash||d(n)!==d(e)||f(n)!==f(e)||p(n)!==p(e))return!1;if(0===n.size&&0===e.size)return!0;var r=!h(n);if(p(n)){var i=n.entries();return e.every(function(e,t){var n=i.next().value;return n&&ve(n[1],e)&&(r||ve(n[0],t))})&&i.next().done}var o=!1;if(void 0===n.size)if(void 0===e.size)"function"==typeof n.cacheResult&&n.cacheResult();else{o=!0;var t=n;n=e,e=t}var a=!0,s=e.__iterate(function(e,t){if(r?!n.has(e):o?!ve(e,n.get(t,b)):!ve(n.get(t,b),e))return a=!1});return a&&n.size===s}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Q)return Q;Q=this}}function be(e,t){if(!e)throw new Error(t)}function ge(e,t,n){if(!(this instanceof ge))return new ge(e,t,n);if(be(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function _e(){throw TypeError("Abstract")}function Oe(){}function je(){}function we(){}K.prototype[ee]=!0,e(te,$),te.prototype.get=function(e,t){return this.has(e)?this._array[M(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new W(function(){return r<i?{value:void 0,done:!0}:q(e,i,n[t?r-i++:i++])})},e(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(t,n){var r=this._object,i=this._keys,o=i.length-1,a=0;return new W(function(){var e=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:q(t,e,r[e])})},ne.prototype[a]=!0,e(re,$),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=H(n),i=0;if(V(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,i++,this););return i},re.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=H(n);if(!V(r))return new W(U);var i=0;return new W(function(){var e=r.next();return e.done?e:q(t,i++,e.value)})},e(ie,$),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new W(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return q(t,i,r[i++])})},e(ye,$),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return ve(this._value,e)},ye.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:new ye(this._value,k(t,n)-P(e,n))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return ve(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return ve(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ye.prototype.__iterator=function(e,t){var n=this,r=0;return new W(function(){return r<n.size?q(e,r++,n._value):{value:void 0,done:!0}})},ye.prototype.equals=function(e){return e instanceof ye?ve(this._value,e._value):me(e)},e(ge,$),ge.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ge.prototype.get=function(e,t){return this.has(e)?this._start+M(this,e)*this._step:t},ge.prototype.includes=function(e){var t=(e-this._start)/this._step;return 0<=t&&t<this.size&&t===Math.floor(t)},ge.prototype.slice=function(e,t){return I(e,t,this.size)?this:(e=P(e,this.size),(t=k(t,this.size))<=e?new ge(0,0):new ge(this.get(e,this._end),this.get(t,this._end),this._step))},ge.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(0<=n&&n<this.size)return n}return-1},ge.prototype.lastIndexOf=function(e){return this.indexOf(e)},ge.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},ge.prototype.__iterator=function(t,n){var r=this.size-1,i=this._step,o=n?this._start+r*i:this._start,a=0;return new W(function(){var e=o;return o+=n?-i:i,r<a?{value:void 0,done:!0}:q(t,a++,e)})},ge.prototype.equals=function(e){return e instanceof ge?this._start===e._start&&this._end===e._end&&this._step===e._step:me(this,e)},e(_e,u),e(Oe,_e),e(je,_e),e(we,_e),_e.Keyed=Oe,_e.Indexed=je,_e.Set=we;var Se="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function xe(e){return e>>>1&1073741824|3221225471&e}function Ee(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t,n,r=typeof e;if("number"===r){if(e!=e||e===1/0)return 0;var i=0|e;for(i!==e&&(i^=4294967295*e);4294967295<e;)i^=e/=4294967295;return xe(i)}if("string"===r)return e.length>De?(void 0===(n=Re[t=e])&&(n=Me(t),ze===Ne&&(ze=0,Re={}),ze++,Re[t]=n),n):Me(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===r)return function(e){var t;if(ke&&void 0!==(t=Ce.get(e)))return t;if(void 0!==(t=e[Te]))return t;if(!Pe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Te]))return t;if(void 0!==(t=function(e){if(e&&0<e.nodeType)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Le,1073741824&Le&&(Le=0),ke)Ce.set(e,t);else{if(void 0!==Ie&&!1===Ie(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(e,Te,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Te]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Te]=t}}return t}(e);if("function"==typeof e.toString)return Me(e.toString());throw new Error("Value type "+r+" cannot be hashed.")}function Me(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return xe(t)}var Ce,Ie=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),ke="function"==typeof WeakMap;ke&&(Ce=new WeakMap);var Le=0,Te="__immutablehash__";"function"==typeof Symbol&&(Te=Symbol(Te));var De=16,Ne=255,ze=0,Re={};function Ae(e){be(e!==1/0,"Cannot perform this action with an infinite size.")}function We(t){return null==t?Ze():qe(t)&&!p(t)?t:Ze().withMutations(function(n){var e=s(t);Ae(e.size),e.forEach(function(e,t){return n.set(t,e)})})}function qe(e){return!(!e||!e[Fe])}e(We,Oe),We.of=function(){var n=r.call(arguments,0);return Ze().withMutations(function(e){for(var t=0;t<n.length;t+=2){if(t+1>=n.length)throw new Error("Missing value for key: "+n[t]);e.set(n[t],n[t+1])}})},We.prototype.toString=function(){return this.__toString("Map {","}")},We.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},We.prototype.set=function(e,t){return et(this,e,t)},We.prototype.setIn=function(e,t){return this.updateIn(e,b,function(){return t})},We.prototype.remove=function(e){return et(this,e,b)},We.prototype.deleteIn=function(e){return this.updateIn(e,function(){return b})},We.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},We.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,i){var o=t===b,a=n.next();if(a.done){var s=o?r:t,u=i(s);return u===s?t:u}be(o||t&&t.set,"invalid keyPath");var c=a.value,l=o?b:t.get(c,b),d=e(l,n,r,i);return d===l?t:d===b?t.remove(c):(o?Ze():t).set(c,d)}(this,rn(e),t,n);return r===b?void 0:r},We.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ze()},We.prototype.merge=function(){return it(this,void 0,arguments)},We.prototype.mergeWith=function(e){var t=r.call(arguments,1);return it(this,e,t)},We.prototype.mergeIn=function(e){var t=r.call(arguments,1);return this.updateIn(e,Ze(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},We.prototype.mergeDeep=function(){return it(this,ot,arguments)},We.prototype.mergeDeepWith=function(e){var t=r.call(arguments,1);return it(this,at(e),t)},We.prototype.mergeDeepIn=function(e){var t=r.call(arguments,1);return this.updateIn(e,Ze(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},We.prototype.sort=function(e){return Pt(Bt(this,e))},We.prototype.sortBy=function(e,t){return Pt(Bt(this,t,e))},We.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},We.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},We.prototype.asImmutable=function(){return this.__ensureOwner()},We.prototype.wasAltered=function(){return this.__altered},We.prototype.__iterator=function(e,t){return new $e(this,e,t)},We.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},We.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Qe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},We.isMap=qe;var Ue,Fe="@@__IMMUTABLE_MAP__@@",Ve=We.prototype;function He(e,t){this.ownerID=e,this.entries=t}function Xe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Be(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ke(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ye(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function $e(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Ge(e._root)}function Je(e,t){return q(e,t[0],t[1])}function Ge(e,t){return{node:e,index:0,__prev:t}}function Qe(e,t,n,r){var i=Object.create(Ve);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ze(){return Ue||(Ue=Qe(0))}function et(e,t,n){var r,i;if(e._root){var o=_(m),a=_(y);if(r=tt(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===b?-1:1:0)}else{if(n===b)return e;i=1,r=new He(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Qe(i,r):Ze()}function tt(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===b?e:(w(s),w(a),new Ye(t,r,[i,o]))}function nt(e){return e.constructor===Ye||e.constructor===Ke}function rt(e,t,n,r,i){if(e.keyHash===r)return new Ke(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&g,s=(0===n?r:r>>>n)&g,u=a===s?[rt(e,t,n+O,r,i)]:(o=new Ye(t,r,i),a<s?[e,o]:[o,e]);return new Xe(t,1<<a|1<<s,u)}function it(e,t,n){for(var r=[],i=0;i<n.length;i++){var o=n[i],a=s(o);l(o)||(a=a.map(function(e){return fe(e)})),r.push(a)}return st(e,t,r)}function ot(e,t,n){return e&&e.mergeDeep&&l(t)?e.mergeDeep(t):ve(e,t)?e:t}function at(i){return function(e,t,n){if(e&&e.mergeDeepWith&&l(t))return e.mergeDeepWith(i,t);var r=i(e,t,n);return ve(e,r)?e:r}}function st(e,i,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(r){for(var e=i?function(t,n){r.update(n,b,function(e){return e===b?t:i(e,t,n)})}:function(e,t){r.set(t,e)},t=0;t<n.length;t++)n[t].forEach(e)}):e.constructor(n[0])}function ut(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function ct(e,t,n,r){var i=r?e:x(e);return i[t]=n,i}Ve[Fe]=!0,Ve[v]=Ve.remove,Ve.removeIn=Ve.deleteIn,He.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ve(n,i[o][0]))return i[o][1];return r},He.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===b,u=this.entries,c=0,l=u.length;c<l&&!ve(r,u[c][0]);c++);var d=c<l;if(d?u[c][1]===i:s)return this;if(w(a),(s||!d)&&w(o),!s||1!==u.length){if(!d&&!s&&u.length>=lt)return function(e,t,n,r){e||(e=new S);for(var i=new Ye(e,Ee(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,u,r,i);var f=e&&e===this.ownerID,h=f?u:x(u);return d?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),f?(this.entries=h,this):new He(e,h)}},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var i=1<<((0===e?t:t>>>e)&g),o=this.bitmap;return 0==(o&i)?r:this.nodes[ut(o&i-1)].get(e+O,t,n,r)},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=(0===t?n:n>>>t)&g,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&i===b)return this;var d=ut(c&u-1),f=this.nodes,h=l?f[d]:void 0,p=tt(h,e,t+O,n,r,i,o,a);if(p===h)return this;if(!l&&p&&f.length>=dt)return function(e,t,n,r,i){for(var o=0,a=new Array(j),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Be(e,o+1,a)}(e,f,c,s,p);if(l&&!p&&2===f.length&&nt(f[1^d]))return f[1^d];if(l&&p&&1===f.length&&nt(p))return p;var v=e&&e===this.ownerID,m=l?p?c:c^u:c|u,y=l?p?ct(f,d,p,v):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}(f,d,v):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}(f,d,p,v);return v?(this.bitmap=m,this.nodes=y,this):new Xe(e,m,y)},Be.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var i=(0===e?t:t>>>e)&g,o=this.nodes[i];return o?o.get(e+O,t,n,r):r},Be.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=(0===t?n:n>>>t)&g,u=i===b,c=this.nodes,l=c[s];if(u&&!l)return this;var d=tt(l,e,t+O,n,r,i,o,a);if(d===l)return this;var f=this.count;if(l){if(!d&&--f<ft)return function(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new Xe(e,i,a)}(e,c,f,s)}else f++;var h=e&&e===this.ownerID,p=ct(c,s,d,h);return h?(this.count=f,this.nodes=p,this):new Be(e,f,p)},Ke.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ve(n,i[o][0]))return i[o][1];return r},Ke.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=i===b;if(n!==this.keyHash)return s?this:(w(a),w(o),rt(this,e,t,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!ve(r,u[c][0]);c++);var d=c<l;if(d?u[c][1]===i:s)return this;if(w(a),(s||!d)&&w(o),s&&2===l)return new Ye(e,this.keyHash,u[1^c]);var f=e&&e===this.ownerID,h=f?u:x(u);return d?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),f?(this.entries=h,this):new Ke(e,this.keyHash,h)},Ye.prototype.get=function(e,t,n,r){return ve(n,this.entry[0])?this.entry[1]:r},Ye.prototype.update=function(e,t,n,r,i,o,a){var s=i===b,u=ve(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(w(a),s?void w(o):u?e&&e===this.ownerID?(this.entry[1]=i,this):new Ye(e,this.keyHash,[r,i]):(w(o),rt(this,e,t,Ee(r),[r,i])))},He.prototype.iterate=Ke.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Xe.prototype.iterate=Be.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},Ye.prototype.iterate=function(e,t){return e(this.entry)},e($e,W),$e.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return Je(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return Je(e,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return Je(e,o.entry);t=this._stack=Ge(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var lt=j/4,dt=j/2,ft=j/4;function ht(e){var t=wt();if(null==e)return t;if(pt(e))return e;var r=c(e),i=r.size;return 0===i?t:(Ae(i),0<i&&i<j?jt(0,i,O,null,new yt(r.toArray())):t.withMutations(function(n){n.setSize(i),r.forEach(function(e,t){return n.set(t,e)})}))}function pt(e){return!(!e||!e[vt])}e(ht,je),ht.of=function(){return this(arguments)},ht.prototype.toString=function(){return this.__toString("List [","]")},ht.prototype.get=function(e,t){if(0<=(e=M(this,e))&&e<this.size){var n=Et(this,e+=this._origin);return n&&n.array[e&g]}return t},ht.prototype.set=function(e,t){return function(e,t,n){if((t=M(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Mt(e,t).set(0,n):Mt(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,o=_(y);return t>=It(e._capacity)?r=St(r,e.__ownerID,0,t,n,o):i=St(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):jt(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},ht.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ht.prototype.insert=function(e,t){return this.splice(e,0,t)},ht.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=O,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):wt()},ht.prototype.push=function(){var n=arguments,r=this.size;return this.withMutations(function(e){Mt(e,0,r+n.length);for(var t=0;t<n.length;t++)e.set(r+t,n[t])})},ht.prototype.pop=function(){return Mt(this,0,-1)},ht.prototype.unshift=function(){var n=arguments;return this.withMutations(function(e){Mt(e,-n.length);for(var t=0;t<n.length;t++)e.set(t,n[t])})},ht.prototype.shift=function(){return Mt(this,1)},ht.prototype.merge=function(){return Ct(this,void 0,arguments)},ht.prototype.mergeWith=function(e){var t=r.call(arguments,1);return Ct(this,e,t)},ht.prototype.mergeDeep=function(){return Ct(this,ot,arguments)},ht.prototype.mergeDeepWith=function(e){var t=r.call(arguments,1);return Ct(this,at(e),t)},ht.prototype.setSize=function(e){return Mt(this,0,e)},ht.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:Mt(this,P(e,n),k(t,n))},ht.prototype.__iterator=function(t,e){var n=0,r=Ot(this,e);return new W(function(){var e=r();return e===_t?{value:void 0,done:!0}:q(t,n++,e)})},ht.prototype.__iterate=function(e,t){for(var n,r=0,i=Ot(this,t);(n=i())!==_t&&!1!==e(n,r++,this););return r},ht.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?jt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},ht.isList=pt;var vt="@@__IMMUTABLE_LIST__@@",mt=ht.prototype;function yt(e,t){this.array=e,this.ownerID=t}mt[vt]=!0,mt[v]=mt.remove,mt.setIn=Ve.setIn,mt.deleteIn=mt.removeIn=Ve.removeIn,mt.update=Ve.update,mt.updateIn=Ve.updateIn,mt.mergeIn=Ve.mergeIn,mt.mergeDeepIn=Ve.mergeDeepIn,mt.withMutations=Ve.withMutations,mt.asMutable=Ve.asMutable,mt.asImmutable=Ve.asImmutable,mt.wasAltered=Ve.wasAltered,yt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&g;if(r>=this.array.length)return new yt([],e);var i,o=0===r;if(0<t){var a=this.array[r];if((i=a&&a.removeBefore(e,t-O,n))===a&&o)return this}if(o&&!i)return this;var s=xt(this,e);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},yt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&g;if(i>=this.array.length)return this;if(0<t){var o=this.array[i];if((r=o&&o.removeAfter(e,t-O,n))===o&&i===this.array.length-1)return this}var a=xt(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var bt,gt,_t={};function Ot(e,v){var m=e._origin,y=e._capacity,b=It(y),g=e._tail;return _(e._root,e._level,0);function _(e,t,n){return 0===t?(l=e,f=(d=n)===b?g&&g.array:l&&l.array,h=m<d?0:m-d,j<(p=y-d)&&(p=j),function(){if(h===p)return _t;var e=v?--p:h++;return f&&f[e]}):(i=t,o=n,s=(r=e)&&r.array,u=m<o?0:m-o>>i,j<(c=1+(y-o>>i))&&(c=j),function(){for(;;){if(a){var e=a();if(e!==_t)return e;a=null}if(u===c)return _t;var t=v?--c:u++;a=_(s&&s[t],i-O,o+(t<<i))}});var r,i,o,a,s,u,c,l,d,f,h,p}}function jt(e,t,n,r,i,o,a){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function wt(){return bt||(bt=jt(0,0,O))}function St(e,t,n,r,i,o){var a,s=r>>>n&g,u=e&&s<e.array.length;if(!u&&void 0===i)return e;if(0<n){var c=e&&e.array[s],l=St(c,t,n-O,r,i,o);return l===c?e:((a=xt(e,t)).array[s]=l,a)}return u&&e.array[s]===i?e:(w(o),a=xt(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function xt(e,t){return t&&e&&t===e.ownerID?e:new yt(e?e.array.slice():[],t)}function Et(e,t){if(t>=It(e._capacity))return e._tail;if(t<1<<e._level+O){for(var n=e._root,r=e._level;n&&0<r;)n=n.array[t>>>r&g],r-=O;return n}}function Mt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new S,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(s<=a)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new yt(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=O);l&&(a+=l,i+=l,s+=l,o+=l);for(var d=It(o),f=It(s);1<<u+O<=f;)c=new yt(c&&c.array.length?[c]:[],r),u+=O;var h=e._tail,p=f<d?Et(e,s-1):d<f?new yt([],r):h;if(h&&d<f&&a<o&&h.array.length){for(var v=c=xt(c,r),m=u;O<m;m-=O){var y=d>>>m&g;v=v.array[y]=xt(v.array[y],r)}v.array[d>>>O&g]=h}if(s<o&&(p=p&&p.removeAfter(r,0,s)),f<=a)a-=f,s-=f,u=O,c=null,p=p&&p.removeBefore(r,0,a);else if(i<a||f<d){for(l=0;c;){var b=a>>>u&g;if(b!==f>>>u&g)break;b&&(l+=(1<<u)*b),u-=O,c=c.array[b]}c&&i<a&&(c=c.removeBefore(r,u,a-l)),c&&f<d&&(c=c.removeAfter(r,u,f-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=p,e.__hash=void 0,e.__altered=!0,e):jt(a,s,u,c,p)}function Ct(e,t,n){for(var r=[],i=0,o=0;o<n.length;o++){var a=n[o],s=c(a);s.size>i&&(i=s.size),l(a)||(s=s.map(function(e){return fe(e)})),r.push(s)}return i>e.size&&(e=e.setSize(i)),st(e,t,r)}function It(e){return e<j?0:e-1>>>O<<O}function Pt(t){return null==t?Tt():kt(t)?t:Tt().withMutations(function(n){var e=s(t);Ae(e.size),e.forEach(function(e,t){return n.set(t,e)})})}function kt(e){return qe(e)&&p(e)}function Lt(e,t,n,r){var i=Object.create(Pt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Tt(){return gt||(gt=Lt(Ze(),wt()))}function Dt(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),u=void 0!==s;if(n===b){if(!u)return e;a.size>=j&&a.size>=2*o.size?(i=a.filter(function(e,t){return void 0!==e&&s!==t}),r=i.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Lt(r,i)}function Nt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function zt(e){this._iter=e,this.size=e.size}function Rt(e){this._iter=e,this.size=e.size}function At(e){this._iter=e,this.size=e.size}function Wt(i){var e=en(i);return e._iter=i,e.size=i.size,e.flip=function(){return i},e.reverse=function(){var e=i.reverse.apply(this);return e.flip=function(){return i.reverse()},e},e.has=function(e){return i.includes(e)},e.includes=function(e){return i.has(e)},e.cacheResult=tn,e.__iterateUncached=function(n,e){var r=this;return i.__iterate(function(e,t){return!1!==n(t,e,r)},e)},e.__iteratorUncached=function(e,t){if(e!==N)return i.__iterator(e===D?T:D,t);var n=i.__iterator(e,t);return new W(function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})},e}function qt(o,a,s){var e=en(o);return e.size=o.size,e.has=function(e){return o.has(e)},e.get=function(e,t){var n=o.get(e,b);return n===b?t:a.call(s,n,e,o)},e.__iterateUncached=function(r,e){var i=this;return o.__iterate(function(e,t,n){return!1!==r(a.call(s,e,t,n),t,i)},e)},e.__iteratorUncached=function(r,e){var i=o.__iterator(N,e);return new W(function(){var e=i.next();if(e.done)return e;var t=e.value,n=t[0];return q(r,n,a.call(s,t[1],n,o),e)})},e}function Ut(i,n){var e=en(i);return e._iter=i,e.size=i.size,e.reverse=function(){return i},i.flip&&(e.flip=function(){var e=Wt(i);return e.reverse=function(){return i.flip()},e}),e.get=function(e,t){return i.get(n?e:-1-e,t)},e.has=function(e){return i.has(n?e:-1-e)},e.includes=function(e){return i.includes(e)},e.cacheResult=tn,e.__iterate=function(n,e){var r=this;return i.__iterate(function(e,t){return n(e,t,r)},!e)},e.__iterator=function(e,t){return i.__iterator(e,!t)},e}function Ft(s,u,c,l){var e=en(s);return l&&(e.has=function(e){var t=s.get(e,b);return t!==b&&!!u.call(c,t,e,s)},e.get=function(e,t){var n=s.get(e,b);return n!==b&&u.call(c,n,e,s)?n:t}),e.__iterateUncached=function(r,e){var i=this,o=0;return s.__iterate(function(e,t,n){if(u.call(c,e,t,n))return o++,r(e,l?t:o-1,i)},e),o},e.__iteratorUncached=function(i,e){var o=s.__iterator(N,e),a=0;return new W(function(){for(;;){var e=o.next();if(e.done)return e;var t=e.value,n=t[0],r=t[1];if(u.call(c,r,n,s))return q(i,l?n:a++,r,e)}})},e}function Vt(s,e,t,u){var n=s.size;if(void 0!==e&&(e|=0),void 0!==t&&(t===1/0?t=n:t|=0),I(e,t,n))return s;var c=P(e,n),r=k(t,n);if(c!=c||r!=r)return Vt(s.toSeq().cacheResult(),e,t,u);var l,i=r-c;i==i&&(l=i<0?0:i);var o=en(s);return o.size=0===l?l:s.size&&l||void 0,!u&&oe(s)&&0<=l&&(o.get=function(e,t){return 0<=(e=M(this,e))&&e<l?s.get(e+c,t):t}),o.__iterateUncached=function(n,e){var r=this;if(0===l)return 0;if(e)return this.cacheResult().__iterate(n,e);var i=0,o=!0,a=0;return s.__iterate(function(e,t){if(!o||!(o=i++<c))return a++,!1!==n(e,u?t:a-1,r)&&a!==l}),a},o.__iteratorUncached=function(t,e){if(0!==l&&e)return this.cacheResult().__iterator(t,e);var n=0!==l&&s.__iterator(t,e),r=0,i=0;return new W(function(){for(;r++<c;)n.next();if(++i>l)return{value:void 0,done:!0};var e=n.next();return u||t===D?e:q(t,i-1,t===T?void 0:e.value[1],e)})},o}function Ht(t,c,l,d){var e=en(t);return e.__iterateUncached=function(r,e){var i=this;if(e)return this.cacheResult().__iterate(r,e);var o=!0,a=0;return t.__iterate(function(e,t,n){if(!o||!(o=c.call(l,e,t,n)))return a++,r(e,d?t:a-1,i)}),a},e.__iteratorUncached=function(i,e){var o=this;if(e)return this.cacheResult().__iterator(i,e);var a=t.__iterator(N,e),s=!0,u=0;return new W(function(){var e,t,n;do{if((e=a.next()).done)return d||i===D?e:q(i,u++,i===T?void 0:e.value[1],e);var r=e.value;t=r[0],n=r[1],s&&(s=c.call(l,n,t,o))}while(s);return i===N?e:q(i,t,n,e)})},e}function Xt(e,u,c){var t=en(e);return t.__iterateUncached=function(o,t){var a=0,s=!1;return function n(e,r){var i=this;e.__iterate(function(e,t){return(!u||r<u)&&l(e)?n(e,r+1):!1===o(e,c?t:a++,i)&&(s=!0),!s},t)}(e,0),a},t.__iteratorUncached=function(n,r){var i=e.__iterator(n,r),o=[],a=0;return new W(function(){for(;i;){var e=i.next();if(!1===e.done){var t=e.value;if(n===N&&(t=t[1]),u&&!(o.length<u)||!l(t))return c?e:q(n,a++,t,e);o.push(i),i=t.__iterator(n,r)}else i=o.pop()}return{value:void 0,done:!0}})},t}function Bt(n,r,i){r||(r=nn);var e=d(n),o=0,a=n.toSeq().map(function(e,t){return[t,e,o++,i?i(e,t,n):e]}).toArray();return a.sort(function(e,t){return r(e[3],t[3])||e[2]-t[2]}).forEach(e?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),e?Y(a):f(n)?$(a):J(a)}function Kt(n,r,i){if(r||(r=nn),i){var e=n.toSeq().map(function(e,t){return[e,i(e,t,n)]}).reduce(function(e,t){return Yt(r,e[1],t[1])?t:e});return e&&e[0]}return n.reduce(function(e,t){return Yt(r,e,t)?t:e})}function Yt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||0<r}function $t(e,a,s){var t=en(e);return t.size=new te(s).map(function(e){return e.size}).min(),t.__iterate=function(e,t){for(var n,r=this.__iterator(D,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},t.__iteratorUncached=function(t,n){var r=s.map(function(e){return e=u(e),H(n?e.reverse():e)}),i=0,o=!1;return new W(function(){var e;return o||(e=r.map(function(e){return e.next()}),o=e.some(function(e){return e.done})),o?{value:void 0,done:!0}:q(t,i++,a.apply(null,e.map(function(e){return e.value})))})},t}function Jt(e,t){return oe(e)?t:e.constructor(t)}function Gt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Qt(e){return Ae(e.size),E(e)}function Zt(e){return d(e)?s:f(e)?c:i}function en(e){return Object.create((d(e)?Y:f(e)?$:J).prototype)}function tn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):K.prototype.cacheResult.call(this)}function nn(e,t){return t<e?1:e<t?-1:0}function rn(e){var t=H(e);if(!t){if(!B(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(u(e))}return t}function on(n,r){var i,o=function(e){if(e instanceof o)return e;if(!(this instanceof o))return new o(e);if(!i){i=!0;var t=Object.keys(n);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){be(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(a,t),a.size=t.length,a._name=r,a._keys=t,a._defaultValues=n}this._map=We(e)},a=o.prototype=Object.create(an);return a.constructor=o}e(Pt,We),Pt.of=function(){return this(arguments)},Pt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Pt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Tt()},Pt.prototype.set=function(e,t){return Dt(this,e,t)},Pt.prototype.remove=function(e){return Dt(this,e,b)},Pt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Pt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Pt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Pt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Lt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Pt.isOrderedMap=kt,Pt.prototype[a]=!0,Pt.prototype[v]=Pt.prototype.remove,e(Nt,Y),Nt.prototype.get=function(e,t){return this._iter.get(e,t)},Nt.prototype.has=function(e){return this._iter.has(e)},Nt.prototype.valueSeq=function(){return this._iter.valueSeq()},Nt.prototype.reverse=function(){var e=this,t=Ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Nt.prototype.map=function(e,t){var n=this,r=qt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Nt.prototype.__iterate=function(n,t){var r,i=this;return this._iter.__iterate(this._useKeys?function(e,t){return n(e,t,i)}:(r=t?Qt(this):0,function(e){return n(e,t?--r:r++,i)}),t)},Nt.prototype.__iterator=function(t,n){if(this._useKeys)return this._iter.__iterator(t,n);var r=this._iter.__iterator(D,n),i=n?Qt(this):0;return new W(function(){var e=r.next();return e.done?e:q(t,n?--i:i++,e.value,e)})},Nt.prototype[a]=!0,e(zt,$),zt.prototype.includes=function(e){return this._iter.includes(e)},zt.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},zt.prototype.__iterator=function(t,e){var n=this._iter.__iterator(D,e),r=0;return new W(function(){var e=n.next();return e.done?e:q(t,r++,e.value,e)})},e(Rt,J),Rt.prototype.has=function(e){return this._iter.includes(e)},Rt.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},Rt.prototype.__iterator=function(t,e){var n=this._iter.__iterator(D,e);return new W(function(){var e=n.next();return e.done?e:q(t,e.value,e.value,e)})},e(At,Y),At.prototype.entrySeq=function(){return this._iter.toSeq()},At.prototype.__iterate=function(n,e){var r=this;return this._iter.__iterate(function(e){if(e){Gt(e);var t=l(e);return n(t?e.get(1):e[1],t?e.get(0):e[0],r)}},e)},At.prototype.__iterator=function(r,e){var i=this._iter.__iterator(D,e);return new W(function(){for(;;){var e=i.next();if(e.done)return e;var t=e.value;if(t){Gt(t);var n=l(t);return q(r,n?t.get(0):t[0],n?t.get(1):t[1],e)}}})},zt.prototype.cacheResult=Nt.prototype.cacheResult=Rt.prototype.cacheResult=At.prototype.cacheResult=tn,e(on,Oe),on.prototype.toString=function(){return this.__toString(un(this)+" {","}")},on.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},on.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},on.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=sn(this,Ze()))},on.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+un(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:sn(this,r)},on.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:sn(this,t)},on.prototype.wasAltered=function(){return this._map.wasAltered()},on.prototype.__iterator=function(e,t){var n=this;return s(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},on.prototype.__iterate=function(e,t){var n=this;return s(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},on.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?sn(this,t,e):(this.__ownerID=e,this._map=t,this)};var an=on.prototype;function sn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function un(e){return e._name||e.constructor.name||"Record"}function cn(n){return null==n?mn():ln(n)&&!p(n)?n:mn().withMutations(function(t){var e=i(n);Ae(e.size),e.forEach(function(e){return t.add(e)})})}function ln(e){return!(!e||!e[fn])}an[v]=an.remove,an.deleteIn=an.removeIn=Ve.removeIn,an.merge=Ve.merge,an.mergeWith=Ve.mergeWith,an.mergeIn=Ve.mergeIn,an.mergeDeep=Ve.mergeDeep,an.mergeDeepWith=Ve.mergeDeepWith,an.mergeDeepIn=Ve.mergeDeepIn,an.setIn=Ve.setIn,an.update=Ve.update,an.updateIn=Ve.updateIn,an.withMutations=Ve.withMutations,an.asMutable=Ve.asMutable,an.asImmutable=Ve.asImmutable,e(cn,we),cn.of=function(){return this(arguments)},cn.fromKeys=function(e){return this(s(e).keySeq())},cn.prototype.toString=function(){return this.__toString("Set {","}")},cn.prototype.has=function(e){return this._map.has(e)},cn.prototype.add=function(e){return pn(this,this._map.set(e,!0))},cn.prototype.remove=function(e){return pn(this,this._map.remove(e))},cn.prototype.clear=function(){return pn(this,this._map.clear())},cn.prototype.union=function(){var n=r.call(arguments,0);return 0===(n=n.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations(function(t){for(var e=0;e<n.length;e++)i(n[e]).forEach(function(e){return t.add(e)})}):this.constructor(n[0])},cn.prototype.intersect=function(){var n=r.call(arguments,0);if(0===n.length)return this;n=n.map(function(e){return i(e)});var t=this;return this.withMutations(function(e){t.forEach(function(t){n.every(function(e){return e.includes(t)})||e.remove(t)})})},cn.prototype.subtract=function(){var n=r.call(arguments,0);if(0===n.length)return this;n=n.map(function(e){return i(e)});var t=this;return this.withMutations(function(e){t.forEach(function(t){n.some(function(e){return e.includes(t)})&&e.remove(t)})})},cn.prototype.merge=function(){return this.union.apply(this,arguments)},cn.prototype.mergeWith=function(e){var t=r.call(arguments,1);return this.union.apply(this,t)},cn.prototype.sort=function(e){return yn(Bt(this,e))},cn.prototype.sortBy=function(e,t){return yn(Bt(this,t,e))},cn.prototype.wasAltered=function(){return this._map.wasAltered()},cn.prototype.__iterate=function(n,e){var r=this;return this._map.__iterate(function(e,t){return n(t,t,r)},e)},cn.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},cn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},cn.isSet=ln;var dn,fn="@@__IMMUTABLE_SET__@@",hn=cn.prototype;function pn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function vn(e,t){var n=Object.create(hn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function mn(){return dn||(dn=vn(Ze()))}function yn(n){return null==n?jn():bn(n)?n:jn().withMutations(function(t){var e=i(n);Ae(e.size),e.forEach(function(e){return t.add(e)})})}function bn(e){return ln(e)&&p(e)}hn[fn]=!0,hn[v]=hn.remove,hn.mergeDeep=hn.merge,hn.mergeDeepWith=hn.mergeWith,hn.withMutations=Ve.withMutations,hn.asMutable=Ve.asMutable,hn.asImmutable=Ve.asImmutable,hn.__empty=mn,hn.__make=vn,e(yn,cn),yn.of=function(){return this(arguments)},yn.fromKeys=function(e){return this(s(e).keySeq())},yn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},yn.isOrderedSet=bn;var gn,_n=yn.prototype;function On(e,t){var n=Object.create(_n);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function jn(){return gn||(gn=On(Tt()))}function wn(e){return null==e?In():Sn(e)?e:In().unshiftAll(e)}function Sn(e){return!(!e||!e[En])}_n[a]=!0,_n.__empty=jn,_n.__make=On,e(wn,je),wn.of=function(){return this(arguments)},wn.prototype.toString=function(){return this.__toString("Stack [","]")},wn.prototype.get=function(e,t){var n=this._head;for(e=M(this,e);n&&e--;)n=n.next;return n?n.value:t},wn.prototype.peek=function(){return this._head&&this._head.value},wn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;0<=n;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Cn(e,t)},wn.prototype.pushAll=function(e){if(0===(e=c(e)).size)return this;Ae(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Cn(t,n)},wn.prototype.pop=function(){return this.slice(1)},wn.prototype.unshift=function(){return this.push.apply(this,arguments)},wn.prototype.unshiftAll=function(e){return this.pushAll(e)},wn.prototype.shift=function(){return this.pop.apply(this,arguments)},wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):In()},wn.prototype.slice=function(e,t){if(I(e,t,this.size))return this;var n=P(e,this.size),r=k(t,this.size);if(r!==this.size)return je.prototype.slice.call(this,e,t);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Cn(i,o)},wn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Cn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},wn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},wn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new W(function(){if(r){var e=r.value;return r=r.next,q(t,n++,e)}return{value:void 0,done:!0}})},wn.isStack=Sn;var xn,En="@@__IMMUTABLE_STACK__@@",Mn=wn.prototype;function Cn(e,t,n,r){var i=Object.create(Mn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function In(){return xn||(xn=Cn(0))}function Pn(t,n){var e=function(e){t.prototype[e]=n[e]};return Object.keys(n).forEach(e),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(e),t}Mn[En]=!0,Mn.withMutations=Ve.withMutations,Mn.asMutable=Ve.asMutable,Mn.asImmutable=Ve.asImmutable,Mn.wasAltered=Ve.wasAltered,u.Iterator=W,Pn(u,{toArray:function(){Ae(this.size);var n=new Array(this.size||0);return this.valueSeq().__iterate(function(e,t){n[t]=e}),n},toIndexedSeq:function(){return new zt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Nt(this,!0)},toMap:function(){return We(this.toKeyedSeq())},toObject:function(){Ae(this.size);var n={};return this.__iterate(function(e,t){n[t]=e}),n},toOrderedMap:function(){return Pt(this.toKeyedSeq())},toOrderedSet:function(){return yn(d(this)?this.valueSeq():this)},toSet:function(){return cn(d(this)?this.valueSeq():this)},toSetSeq:function(){return new Rt(this)},toSeq:function(){return f(this)?this.toIndexedSeq():d(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wn(d(this)?this.valueSeq():this)},toList:function(){return ht(d(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=r.call(arguments,0);return Jt(this,function(e,t){var n=d(e),r=[e].concat(t).map(function(e){return l(e)?n&&(e=s(e)):e=n?se(e):ue(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var i=r[0];if(i===e||n&&d(i)||f(e)&&f(i))return i}var o=new te(r);return n?o=o.toKeyedSeq():f(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),o}(this,e))},includes:function(t){return this.some(function(e){return ve(e,t)})},entries:function(){return this.__iterator(N)},every:function(r,i){Ae(this.size);var o=!0;return this.__iterate(function(e,t,n){if(!r.call(i,e,t,n))return o=!1}),o},filter:function(e,t){return Jt(this,Ft(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Ae(this.size),this.__iterate(t?e.bind(t):e)},join:function(t){Ae(this.size),t=void 0!==t?""+t:",";var n="",r=!0;return this.__iterate(function(e){r?r=!1:n+=t,n+=null!=e?e.toString():""}),n},keys:function(){return this.__iterator(T)},map:function(e,t){return Jt(this,qt(this,e,t))},reduce:function(r,e,i){var o,a;return Ae(this.size),arguments.length<2?a=!0:o=e,this.__iterate(function(e,t,n){o=a?(a=!1,e):r.call(i,o,e,t,n)}),o},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Jt(this,Ut(this,!0))},slice:function(e,t){return Jt(this,Vt(this,e,t,!0))},some:function(e,t){return!this.every(Nn(e),t)},sort:function(e){return Jt(this,Bt(this,e))},values:function(){return this.__iterator(D)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return E(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return n=this,r=e,i=t,o=We().asMutable(),n.__iterate(function(e,t){o.update(r.call(i,e,t,n),0,function(e){return e+1})}),o.asImmutable();var n,r,i,o},equals:function(e){return me(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(Dn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Nn(e),t)},findEntry:function(r,i,e){var o=e;return this.__iterate(function(e,t,n){if(r.call(i,e,t,n))return!(o=[t,e])}),o},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(C)},flatMap:function(e,t){return Jt(this,(r=e,i=t,o=Zt(n=this),n.toSeq().map(function(e,t){return o(r.call(i,e,t,n))}).flatten(!0)));var n,r,i,o},flatten:function(e){return Jt(this,Xt(this,e,!0))},fromEntrySeq:function(){return new At(this)},get:function(n,e){return this.find(function(e,t){return ve(t,n)},void 0,e)},getIn:function(e,t){for(var n,r=this,i=rn(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,b):b)===b)return t}return r},groupBy:function(e,t){return function(r,e,i){var o=d(r),a=(p(r)?Pt():We()).asMutable();r.__iterate(function(t,n){a.update(e.call(i,t,n,r),function(e){return(e=e||[]).push(o?[n,t]:t),e})});var t=Zt(r);return a.map(function(e){return Jt(r,t(e))})}(this,e,t)},has:function(e){return this.get(e,b)!==b},hasIn:function(e){return this.getIn(e,b)!==b},isSubset:function(t){return t="function"==typeof t.includes?t:u(t),this.every(function(e){return t.includes(e)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:u(e)).isSubset(this)},keyOf:function(t){return this.findKey(function(e){return ve(e,t)})},keySeq:function(){return this.toSeq().map(Tn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Kt(this,e)},maxBy:function(e,t){return Kt(this,t,e)},min:function(e){return Kt(this,e?zn(e):Wn)},minBy:function(e,t){return Kt(this,t?zn(t):Wn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Jt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Jt(this,Ht(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Nn(e),t)},sortBy:function(e,t){return Jt(this,Bt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Jt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Jt(this,(u=e,c=t,(r=en(n=this)).__iterateUncached=function(r,e){var i=this;if(e)return this.cacheResult().__iterate(r,e);var o=0;return n.__iterate(function(e,t,n){return u.call(c,e,t,n)&&++o&&r(e,t,i)}),o},r.__iteratorUncached=function(i,e){var o=this;if(e)return this.cacheResult().__iterator(i,e);var a=n.__iterator(N,e),s=!0;return new W(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var t=e.value,n=t[0],r=t[1];return u.call(c,r,n,o)?i===N?e:q(i,n,r,e):{value:void 0,done:!(s=!1)}})},r));var n,u,c,r},takeUntil:function(e,t){return this.takeWhile(Nn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t,n,r=p(e),i=d(e),o=r?1:0;return t=e.__iterate(i?r?function(e,t){o=31*o+qn(Ee(e),Ee(t))|0}:function(e,t){o=o+qn(Ee(e),Ee(t))|0}:r?function(e){o=31*o+Ee(e)|0}:function(e){o=o+Ee(e)|0}),n=Se(n=o,3432918353),n=Se(n<<15|n>>>-15,461845907),n=Se(n<<13|n>>>-13,5),n=Se((n=(n+3864292196|0)^t)^n>>>16,2246822507),n=xe((n=Se(n^n>>>13,3266489909))^n>>>16)}(this))}});var kn=u.prototype;kn[t]=!0,kn[A]=kn.values,kn.__toJS=kn.toArray,kn.__toStringMapper=Rn,kn.inspect=kn.toSource=function(){return this.toString()},kn.chain=kn.flatMap,kn.contains=kn.includes,Pn(s,{flip:function(){return Jt(this,Wt(this))},mapEntries:function(n,r){var i=this,o=0;return Jt(this,this.toSeq().map(function(e,t){return n.call(r,[t,e],o++,i)}).fromEntrySeq())},mapKeys:function(n,r){var i=this;return Jt(this,this.toSeq().flip().map(function(e,t){return n.call(r,e,t,i)}).flip())}});var Ln=s.prototype;function Tn(e,t){return t}function Dn(e,t){return[t,e]}function Nn(e){return function(){return!e.apply(this,arguments)}}function zn(e){return function(){return-e.apply(this,arguments)}}function Rn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function An(){return x(arguments)}function Wn(e,t){return e<t?1:t<e?-1:0}function qn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Ln[n]=!0,Ln[A]=kn.entries,Ln.__toJS=kn.toObject,Ln.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Rn(e)},Pn(c,{toKeyedSeq:function(){return new Nt(this,!1)},filter:function(e,t){return Jt(this,Ft(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Jt(this,Ut(this,!1))},slice:function(e,t){return Jt(this,Vt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=P(e,e<0?this.count():this.size);var r=this.slice(0,e);return Jt(this,1===n?r:r.concat(x(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Jt(this,Xt(this,e,!1))},get:function(n,e){return(n=M(this,n))<0||this.size===1/0||void 0!==this.size&&n>this.size?e:this.find(function(e,t){return t===n},void 0,e)},has:function(e){return 0<=(e=M(this,e))&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Jt(this,(a=e,(t=en(o=this)).size=o.size&&2*o.size-1,t.__iterateUncached=function(n,e){var r=this,i=0;return o.__iterate(function(e,t){return(!i||!1!==n(a,i++,r))&&!1!==n(e,i++,r)},e),i},t.__iteratorUncached=function(e,t){var n,r=o.__iterator(D,t),i=0;return new W(function(){return(!n||i%2)&&(n=r.next()).done?n:i%2?q(e,i++,a):q(e,i++,n.value,n)})},t));var o,a,t},interleave:function(){var e=[this].concat(x(arguments)),t=$t(this.toSeq(),$.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Jt(this,n)},keySeq:function(){return ge(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Jt(this,Ht(this,e,t,!1))},zip:function(){return Jt(this,$t(this,An,[this].concat(x(arguments))))},zipWith:function(e){var t=x(arguments);return Jt(t[0]=this,$t(this,e,t))}}),c.prototype[o]=!0,c.prototype[a]=!0,Pn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=kn.includes,i.prototype.contains=i.prototype.includes,Pn(Y,s.prototype),Pn($,c.prototype),Pn(J,i.prototype),Pn(Oe,s.prototype),Pn(je,c.prototype),Pn(we,i.prototype),{Iterable:u,Seq:K,Collection:_e,Map:We,OrderedMap:Pt,List:ht,Stack:wn,Set:cn,OrderedSet:yn,Record:on,Range:ge,Repeat:ye,is:ve,fromJS:fe}}()},40:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},41:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},417:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(1),r=n(21),a=n(7),s=n(0),u=n(2),i=n(3),c=n.n(i),l=n(5),d=n.n(l),f=n(69),h=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=i.call.apply(i,[this].concat(n))||this,Object(u.a)(Object(s.a)(Object(s.a)(t)),"state",{revealed:!!t.props.children}),Object(u.a)(Object(s.a)(Object(s.a)(t)),"activeElement",t.state.revealed?document.activeElement:null),Object(u.a)(Object(s.a)(Object(s.a)(t)),"handleKeyUp",function(e){"Escape"!==e.key&&"Esc"!==e.key&&27!==e.keyCode||!t.props.children||t.props.noEsc||t.props.onClose()}),Object(u.a)(Object(s.a)(Object(s.a)(t)),"getSiblings",function(){return Array.apply(void 0,t.node.parentElement.childNodes).filter(function(e){return e!==t.node})}),Object(u.a)(Object(s.a)(Object(s.a)(t)),"setRef",function(e){t.node=e}),t}Object(a.a)(e,i);var t=e.prototype;return t.componentDidMount=function(){window.addEventListener("keyup",this.handleKeyUp,!1),this.history=this.context.router?this.context.router.history:Object(f.a)()},t.componentWillReceiveProps=function(e){e.children&&!this.props.children?(this.activeElement=document.activeElement,this.getSiblings().forEach(function(e){return e.setAttribute("inert",!0)})):e.children||this.setState({revealed:!1}),!e.children&&this.props.children&&(this.activeElement.focus(),this.activeElement=null)},t.componentDidUpdate=function(e){var t=this;!this.props.children&&e.children&&(this.getSiblings().forEach(function(e){return e.removeAttribute("inert")}),this.handleModalClose()),this.props.children&&(requestAnimationFrame(function(){t.setState({revealed:!0})}),e.children||this.handleModalOpen())},t.componentWillUnmount=function(){window.removeEventListener("keyup",this.handleKeyUp)},t.handleModalClose=function(){this.unlistenHistory();var e=this.history.location.state;e&&e.mastodonModalOpen&&this.history.goBack()},t.handleModalOpen=function(){var e=this,t=this.history,n=Object(r.a)({},t.location.state,{mastodonModalOpen:!0});t.push(t.location.pathname,n),this.unlistenHistory=t.listen(function(){e.props.onClose()})},t.render=function(){var e=this.props,t=e.children,n=e.onClose,r=this.state.revealed,i=!!t;return i?c.a.createElement("div",{className:"modal-root",ref:this.setRef,style:{opacity:r?1:0}},Object(o.a)("div",{style:{pointerEvents:i?"auto":"none"}},void 0,Object(o.a)("div",{role:"presentation",className:"modal-root__overlay",onClick:n}),Object(o.a)("div",{role:"dialog",className:"modal-root__container"},void 0,t))):c.a.createElement("div",{className:"modal-root",ref:this.setRef,style:{opacity:0}})},e}(c.a.PureComponent);Object(u.a)(h,"contextTypes",{router:d.a.object})},419:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(1),r=n(7),a=n(0),s=n(2),i=n(3),u=n.n(i),c=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=i.call.apply(i,[this].concat(n))||this,Object(s.a)(Object(a.a)(Object(a.a)(t)),"state",{revealed:!!t.props.children}),Object(s.a)(Object(a.a)(Object(a.a)(t)),"activeElement",t.state.revealed?document.activeElement:null),Object(s.a)(Object(a.a)(Object(a.a)(t)),"handleKeyUp",function(e){"Escape"!==e.key&&"Esc"!==e.key&&27!==e.keyCode||!t.props.children||t.props.onClose()}),Object(s.a)(Object(a.a)(Object(a.a)(t)),"getSiblings",function(){return Array.apply(void 0,t.node.parentElement.childNodes).filter(function(e){return e!==t.node})}),Object(s.a)(Object(a.a)(Object(a.a)(t)),"setRef",function(e){t.node=e}),t}Object(r.a)(e,i);var t=e.prototype;return t.componentDidMount=function(){window.addEventListener("keyup",this.handleKeyUp,!1)},t.componentWillReceiveProps=function(e){e.children&&!this.props.children?(this.activeElement=document.activeElement,this.getSiblings().forEach(function(e){return e.setAttribute("inert",!0)})):e.children||this.setState({revealed:!1}),!e.children&&this.props.children&&(this.activeElement.focus(),this.activeElement=null)},t.componentDidUpdate=function(e){var t=this;!this.props.children&&e.children&&this.getSiblings().forEach(function(e){return e.removeAttribute("inert")}),this.props.children&&requestAnimationFrame(function(){t.setState({revealed:!0})})},t.componentWillUnmount=function(){window.removeEventListener("keyup",this.handleKeyUp)},t.render=function(){var e=this.props,t=e.children,n=e.onClose,r=this.state.revealed,i=!!t;return i?u.a.createElement("div",{className:"modal-root",ref:this.setRef,style:{opacity:r?1:0}},Object(o.a)("div",{style:{pointerEvents:i?"auto":"none"}},void 0,Object(o.a)("div",{role:"presentation",className:"modal-root__overlay",onClick:n}),Object(o.a)("div",{role:"dialog",className:"modal-root__container"},void 0,t))):u.a.createElement("div",{className:"modal-root",ref:this.setRef,style:{opacity:0}})},e}(u.a.PureComponent)},420:function(e,t,n){"use strict";var r,i,o,f=n(1),a=n(7),s=n(0),u=n(2),c=n(3),l=n.n(c),d=n(157),h=n.n(d),p=n(26),v=n.n(p),m=n(5),y=n.n(m),b=n(138),g=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=i.call.apply(i,[this].concat(t))||this,Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleLoadedData",function(){n.props.time&&(n.video.currentTime=n.props.time)}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"setRef",function(e){n.video=e}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleClick",function(e){e.stopPropagation();var t=n.props.onClick;t&&t()}),n}Object(a.a)(e,i);var t=e.prototype;return t.componentDidMount=function(){this.video.addEventListener("loadeddata",this.handleLoadedData)},t.componentWillUnmount=function(){this.video.removeEventListener("loadeddata",this.handleLoadedData)},t.render=function(){var e=this.props,t=e.src,n=e.muted,r=e.controls,i=e.alt;return Object(f.a)("div",{className:"extended-video-player"},void 0,l.a.createElement("video",{ref:this.setRef,src:t,autoPlay:!0,role:"button",tabIndex:"0","aria-label":i,title:i,muted:n,controls:r,loop:!r,onClick:this.handleClick}))},e}(l.a.PureComponent),_=n(12),O=n.n(_),j=n(6),w=n(47),S=n(24),x=n(279);n.d(t,"a",function(){return M});var E=Object(j.f)({close:{id:"lightbox.close",defaultMessage:"Close"},previous:{id:"lightbox.previous",defaultMessage:"Previous"},next:{id:"lightbox.next",defaultMessage:"Next"}}),M=Object(j.g)((o=i=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=i.call.apply(i,[this].concat(t))||this,Object(u.a)(Object(s.a)(Object(s.a)(n)),"state",{index:null,navigationHidden:!1}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleSwipe",function(e){n.setState({index:e%n.props.media.size})}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleNextClick",function(){n.setState({index:(n.getIndex()+1)%n.props.media.size})}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handlePrevClick",function(){n.setState({index:(n.props.media.size+n.getIndex()-1)%n.props.media.size})}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleChangeIndex",function(e){var t=Number(e.currentTarget.getAttribute("data-index"));n.setState({index:t%n.props.media.size})}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"handleKeyDown",function(e){switch(e.key){case"ArrowLeft":n.handlePrevClick(),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":n.handleNextClick(),e.preventDefault(),e.stopPropagation()}}),Object(u.a)(Object(s.a)(Object(s.a)(n)),"toggleNavigation",function(){n.setState(function(e){return{navigationHidden:!e.navigationHidden}})}),n}Object(a.a)(e,i);var t=e.prototype;return t.componentDidMount=function(){window.addEventListener("keydown",this.handleKeyDown,!1)},t.componentWillUnmount=function(){window.removeEventListener("keydown",this.handleKeyDown)},t.getIndex=function(){return null!==this.state.index?this.state.index:this.props.index},t.render=function(){var i=this,e=this.props,t=e.media,n=e.intl,o=e.onClose,r=this.state.navigationHidden,a=this.getIndex(),s=[],u=1<t.size&&Object(f.a)("button",{tabIndex:"0",className:"media-modal__nav media-modal__nav--left",onClick:this.handlePrevClick,"aria-label":n.formatMessage(E.previous)},void 0,Object(f.a)("i",{className:"fa fa-fw fa-chevron-left"})),c=1<t.size&&Object(f.a)("button",{tabIndex:"0",className:"media-modal__nav  media-modal__nav--right",onClick:this.handleNextClick,"aria-label":n.formatMessage(E.next)},void 0,Object(f.a)("i",{className:"fa fa-fw fa-chevron-right"}));1<t.size&&(s=t.map(function(e,t){var n=["media-modal__button"];return t===a&&n.push("media-modal__button--active"),Object(f.a)("li",{className:"media-modal__page-dot"},t,Object(f.a)("button",{tabIndex:"0",className:n.join(" "),onClick:i.handleChangeIndex,"data-index":t},void 0,t+1))}));var l=t.map(function(e){var t=e.getIn(["meta","original","width"])||null,n=e.getIn(["meta","original","height"])||null;if("image"===e.get("type"))return Object(f.a)(x.a,{previewSrc:e.get("preview_url"),src:e.get("url"),width:t,height:n,alt:e.get("description"),onClick:i.toggleNavigation},e.get("url"));if("video"!==e.get("type"))return"gifv"===e.get("type")?Object(f.a)(g,{src:e.get("url"),muted:!0,controls:!1,width:t,height:n,alt:e.get("description"),onClick:i.toggleNavigation},e.get("preview_url")):null;var r=i.props.time;return Object(f.a)(b.default,{preview:e.get("preview_url"),src:e.get("url"),width:e.get("width"),height:e.get("height"),startTime:r||0,onCloseVideo:o,detailed:!0,alt:e.get("description")},e.get("url"))}).toArray(),d=O()("media-modal__navigation",{"media-modal__navigation--hidden":r});return Object(f.a)("div",{className:"modal-root__modal media-modal"},void 0,Object(f.a)("div",{className:"media-modal__closer",role:"presentation",onClick:o},void 0,Object(f.a)(h.a,{style:{width:"100%",height:"100%"},containerStyle:{alignItems:"center"},onChangeIndex:this.handleSwipe,onSwitching:this.handleSwitching,index:a},void 0,l)),Object(f.a)("div",{className:d},void 0,Object(f.a)(w.a,{className:"media-modal__close",title:n.formatMessage(E.close),icon:"times",onClick:o,size:40}),u,c,Object(f.a)("ul",{className:"media-modal__pagination"},void 0,s)))},e}(S.a),Object(u.a)(i,"propTypes",{media:v.a.list.isRequired,index:y.a.number.isRequired,onClose:y.a.func.isRequired,intl:y.a.object.isRequired}),r=o))||r},46:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return r({},s,t,{val:e})};var i,o=n(323),a=(i=o)&&i.__esModule?i:{default:i},s=r({},a.default.noWobble,{precision:.01});e.exports=t.default},47:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var _=n(1),O=n(21),r=n(7),o=n(0),a=n(2),i=n(3),s=n.n(i),j=n(108),u=n(46),w=n.n(u),c=n(12),S=n.n(c),l=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=i.call.apply(i,[this].concat(n))||this,Object(a.a)(Object(o.a)(Object(o.a)(t)),"handleClick",function(e){e.preventDefault(),t.props.disabled||t.props.onClick(e)}),t}return Object(r.a)(e,i),e.prototype.render=function(){var n=this,r=Object(O.a)({fontSize:this.props.size+"px",height:1.28571429*this.props.size+"px",lineHeight:this.props.size+"px"},this.props.style,this.props.active?this.props.activeStyle:{});this.props.label?r.textAlign="left":r.width=1.28571429*this.props.size+"px";var e=this.props,t=e.active,i=e.animate,o=e.className,a=e.disabled,s=e.expanded,u=e.icon,c=e.inverted,l=e.flip,d=e.overlay,f=e.pressed,h=e.tabIndex,p=e.title,v=S()(o,"icon-button",{active:t,disabled:a,inverted:c,overlayed:d}),m=t?l?-180:-360:0,y={rotate:m},b={stiffness:this.props.flip?60:120,damping:7},g={rotate:i?w()(m,b):0};return i?Object(_.a)(j.a,{defaultStyle:y,style:g},void 0,function(e){var t=e.rotate;return Object(_.a)("button",{"aria-label":p,"aria-pressed":f,"aria-expanded":s,title:p,className:v,onClick:n.handleClick,style:r,tabIndex:h},void 0,Object(_.a)("i",{style:{transform:"rotate("+t+"deg)"},className:"fa fa-fw fa-"+u,"aria-hidden":"true"}),n.props.label)}):Object(_.a)("button",{"aria-label":p,"aria-pressed":f,"aria-expanded":s,title:p,className:v,onClick:this.handleClick,style:r,tabIndex:h},void 0,Object(_.a)("i",{className:"fa fa-fw fa-"+u,"aria-hidden":"true"}))},e}(s.a.PureComponent);Object(a.a)(l,"defaultProps",{size:18,active:!1,disabled:!1,animate:!1,overlay:!1,tabIndex:"0"})},49:function(e,t,n){"use strict";var r=function(){};e.exports=r},54:function(e,t,n){var b=n(95),g=n(310),_=n(311),O=Math.max,j=Math.min;e.exports=function(r,i,e){var o,a,s,u,c,l,d=0,f=!1,h=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function p(e){var t=o,n=a;return o=a=void 0,d=e,u=r.apply(n,t)}function v(e){var t=e-l;return void 0===l||i<=t||t<0||h&&s<=e-d}function m(){var e,t,n=g();if(v(n))return y(n);c=setTimeout(m,(t=i-((e=n)-l),h?j(t,s-(e-d)):t))}function y(e){return c=void 0,t&&o?p(e):(o=a=void 0,u)}function n(){var e,t=g(),n=v(t);if(o=arguments,a=this,l=t,n){if(void 0===c)return d=e=l,c=setTimeout(m,i),f?p(e):u;if(h)return c=setTimeout(m,i),p(l)}return void 0===c&&(c=setTimeout(m,i)),u}return i=_(i)||0,b(e)&&(f=!!e.leading,s=(h="maxWait"in e)?O(_(e.maxWait)||0,i):s,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==c&&clearTimeout(c),o=l=a=c=void(d=0)},n.flush=function(){return void 0===c?u:y(g())},n}},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showLoading=t.resetLoading=t.loadingBarReducer=t.loadingBarMiddleware=t.LoadingBar=t.ImmutableLoadingBar=t.hideLoading=void 0;var r=n(188),i=u(r),o=u(n(315)),a=n(101),s=u(n(316));function u(e){return e&&e.__esModule?e:{default:e}}t.hideLoading=a.hideLoading,t.ImmutableLoadingBar=s.default,t.LoadingBar=r.LoadingBar,t.loadingBarMiddleware=o.default,t.loadingBarReducer=a.loadingBarReducer,t.resetLoading=a.resetLoading,t.showLoading=a.showLoading,t.default=i.default},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},635:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return E});var r=n(1),c=n(31),l=n(21),d=n(40),o=n(7),a=n(0),s=n(2),f=n(3),h=n.n(f),i=n(38),p=n.n(i),v=n(6),u=n(98),m=n(521),y=n(139),b=n(447),g=n(419),_=n(398),O=n(4),j=Object(u.getLocale)(),w=j.localeData,S=j.messages;Object(v.e)(w);var x={MediaGallery:m.default,Video:y.default,Card:b.a},E=function(i){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=i.call.apply(i,[this].concat(t))||this,Object(s.a)(Object(a.a)(Object(a.a)(r)),"state",{media:null,index:null,time:null}),Object(s.a)(Object(a.a)(Object(a.a)(r)),"handleOpenMedia",function(e,t){document.body.classList.add("with-modals--active"),r.setState({media:e,index:t})}),Object(s.a)(Object(a.a)(Object(a.a)(r)),"handleOpenVideo",function(e,t){var n=Object(O.List)([e]);document.body.classList.add("with-modals--active"),r.setState({media:n,time:t})}),Object(s.a)(Object(a.a)(Object(a.a)(r)),"handleCloseMedia",function(){document.body.classList.remove("with-modals--active"),r.setState({media:null,index:null,time:null})}),r}return Object(o.a)(e,i),e.prototype.render=function(){var u=this,e=this.props,t=e.locale,n=e.components;return Object(r.a)(v.d,{locale:t,messages:S},void 0,Object(r.a)(f.Fragment,{},void 0,[].map.call(n,function(e,t){var n=e.getAttribute("data-component"),r=x[n],i=JSON.parse(e.getAttribute("data-props")),o=i.media,a=i.card,s=Object(d.a)(i,["media","card"]);return Object.assign(s,Object(l.a)({},o?{media:Object(O.fromJS)(o)}:{},a?{card:Object(O.fromJS)(a)}:{},"Video"===n?{onOpenVideo:u.handleOpenVideo}:{onOpenMedia:u.handleOpenMedia})),p.a.createPortal(h.a.createElement(r,Object(c.a)({},s,{key:"media-"+t})),e)}),Object(r.a)(g.a,{onClose:this.handleCloseMedia},void 0,this.state.media&&Object(r.a)(_.a,{media:this.state.media,index:this.state.index||0,time:this.state.time,onClose:this.handleCloseMedia}))))},e}(f.PureComponent)},66:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var v=n(1),m=n(21),r=n(7),o=n(0),a=n(2),i=n(3),s=n.n(i),y=n(141),u=n(46),b=n.n(u),c=n(12),g=n.n(c),_=n(33),l=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=i.call.apply(i,[this].concat(n))||this,Object(a.a)(Object(o.a)(Object(o.a)(t)),"handleClick",function(e){e.preventDefault(),t.props.disabled||t.props.onClick(e)}),t}return Object(r.a)(e,i),e.prototype.render=function(){var n=this,r=Object(m.a)({fontSize:this.props.size+"px",width:1.28571429*this.props.size+"px",height:1.28571429*this.props.size+"px",lineHeight:this.props.size+"px"},this.props.style,this.props.active?this.props.activeStyle:{}),e=this.props,t=e.active,i=e.animate,o=e.className,a=e.disabled,s=e.expanded,u=e.icon,c=e.inverted,l=e.overlay,d=e.pressed,f=e.tabIndex,h=e.title,p=g()(o,"icon-button",{active:t,disabled:a,inverted:c,overlayed:l});return i?Object(v.a)(y.a,{defaultStyle:{rotate:t?-360:0},style:{rotate:i?b()(t?-360:0,{stiffness:120,damping:7}):0}},void 0,function(e){var t=e.rotate;return Object(v.a)("button",{"aria-label":h,"aria-pressed":d,"aria-expanded":s,title:h,className:p,onClick:n.handleClick,style:r,tabIndex:f},void 0,Object(v.a)(_.a,{id:u,style:{transform:"rotate("+t+"deg)"},fixedWidth:!0,"aria-hidden":"true"}))}):Object(v.a)("button",{"aria-label":h,"aria-pressed":d,"aria-expanded":s,title:h,className:p,onClick:this.handleClick,style:r,tabIndex:f},void 0,Object(v.a)(_.a,{id:u,fixedWidth:!0,"aria-hidden":"true"}))},e}(s.a.PureComponent);Object(a.a)(l,"defaultProps",{size:18,active:!1,disabled:!1,animate:!1,overlay:!1,tabIndex:"0"})},682:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return E});var r=n(1),c=n(31),l=n(21),d=n(40),o=n(7),a=n(0),s=n(2),f=n(3),h=n.n(f),i=n(38),p=n.n(i),v=n(6),u=n(98),m=n(457),y=n(138),b=n(446),g=n(417),_=n(420),O=n(4),j=Object(u.getLocale)(),w=j.localeData,S=j.messages;Object(v.e)(w);var x={MediaGallery:m.default,Video:y.default,Card:b.a},E=function(i){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=i.call.apply(i,[this].concat(t))||this,Object(s.a)(Object(a.a)(Object(a.a)(r)),"state",{media:null,index:null,time:null}),Object(s.a)(Object(a.a)(Object(a.a)(r)),"handleOpenMedia",function(e,t){document.body.classList.add("with-modals--active"),r.setState({media:e,index:t})}),Object(s.a)(Object(a.a)(Object(a.a)(r)),"handleOpenVideo",function(e,t){var n=Object(O.List)([e]);document.body.classList.add("with-modals--active"),r.setState({media:n,time:t})}),Object(s.a)(Object(a.a)(Object(a.a)(r)),"handleCloseMedia",function(){document.body.classList.remove("with-modals--active"),r.setState({media:null,index:null,time:null})}),r}return Object(o.a)(e,i),e.prototype.render=function(){var u=this,e=this.props,t=e.locale,n=e.components;return Object(r.a)(v.d,{locale:t,messages:S},void 0,Object(r.a)(f.Fragment,{},void 0,[].map.call(n,function(e,t){var n=e.getAttribute("data-component"),r=x[n],i=JSON.parse(e.getAttribute("data-props")),o=i.media,a=i.card,s=Object(d.a)(i,["media","card"]);return Object.assign(s,Object(l.a)({},o?{media:Object(O.fromJS)(o)}:{},a?{card:Object(O.fromJS)(a)}:{},"Video"===n?{onOpenVideo:u.handleOpenVideo}:{onOpenMedia:u.handleOpenMedia})),p.a.createPortal(h.a.createElement(r,Object(c.a)({},s,{key:"media-"+t})),e)}),Object(r.a)(g.a,{onClose:this.handleCloseMedia},void 0,this.state.media&&Object(r.a)(_.a,{media:this.state.media,index:this.state.index||0,time:this.state.time,onClose:this.handleCloseMedia}))))},e}(f.PureComponent)},70:function(e,t,n){var o=n(54),a=n(95);e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),o(e,t,{leading:r,maxWait:t,trailing:i})}},74:function(e,t,n){var r=n(275),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},77:function(e,t,n){"use strict";n.d(t,"d",function(){return m}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a});var h=n(162),r=function(){return Math.random().toString(36).substring(7).split("").join(".")},p={INIT:"@@redux/INIT"+r(),REPLACE:"@@redux/REPLACE"+r(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r()}};function v(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function m(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(m)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function d(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var n=!0;return c(),s.push(t),function(){if(n){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");n=!1,c();var e=s.indexOf(t);s.splice(e,1)}}}function f(e){if(!v(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:p.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,f({type:p.REPLACE})}})[h.a]=function(){var e,n=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(l())}return t(),{unsubscribe:n(t)}}})[h.a]=function(){return this},e},r}function s(e,t){return function(){return t(e.apply(this,arguments))}}function i(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];"function"==typeof a&&(r[o]=s(a,t))}return r}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function o(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return function(i){return function(){var e=i.apply(void 0,arguments),t=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},n={getState:e.getState,dispatch:function(){return t.apply(void 0,arguments)}},r=o.map(function(e){return e(n)});return function(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,n,r;t=i,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return i}({},e,{dispatch:t=a.apply(void 0,r)(e.dispatch)})}}}},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=r,e.exports=t.default},95:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},98:function(e,t,n){"use strict";n.r(t);var r=n(11);n.d(t,"setLocale",function(){return r.setLocale}),n.d(t,"getLocale",function(){return r.getLocale})}}]);
//# sourceMappingURL=media_container.js.map
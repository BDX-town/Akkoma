(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{663:function(t,e,a){"use strict";a.r(e),a.d(e,"default",function(){return x});var s,c,o,d=a(0),i=a(2),n=a(6),p=a(1),r=(a(3),a(8)),u=a(15),l=a.n(u),b=a(4),h=a.n(b),j=a(19),O=a(24),m=a(233),I=a(120),g=a(227),v=a(5),f=a(13),w=a(29),M=a(175),L=a(580),_=a(710),R=a(147),y=a(39),A=Object(v.List)(),x=Object(r.connect)(function(t,e){var a,s=e.params.username,c=e.withReplies,o=void 0!==c&&c,i=t.get("me"),n=t.getIn(["accounts"]),p=t.getIn(["accounts",-1,"username"],"").toLowerCase()===s.toLowerCase(),d=Object(y.e)(t),r=-1,u=s,l=null;p?r=null:(r=(a=n.find(function(t){return s.toLowerCase()===t.getIn(["acct"],"").toLowerCase()}))?a.getIn(["id"],null):-1,u=a?a.getIn(["acct"],""):"",l=a?a.get("url"):"");var b=o?r+":with_replies":r,h=t.getIn(["relationships",r,"blocked_by"],!1);return{accountId:r,unavailable:i!==r&&h,accountUsername:u,accountApId:l,isAccount:!!t.getIn(["accounts",r]),statusIds:t.getIn(["timelines","account:"+b,"items"],A),featuredStatusIds:o?Object(v.List)():t.getIn(["timelines","account:"+r+":pinned","items"],A),isLoading:t.getIn(["timelines","account:"+b,"isLoading"]),hasMore:t.getIn(["timelines","account:"+b,"hasMore"]),me:i,patronEnabled:d.getIn(["extensions","patron","enabled"])}})((o=c=function(c){function t(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e=c.call.apply(c,[this].concat(a))||this,Object(p.a)(Object(i.a)(e),"handleLoadMore",function(t){e.props.accountId&&-1!==e.props.accountId&&e.props.dispatch(Object(O.t)(e.props.accountId,{maxId:t,withReplies:e.props.withReplies}))}),e}Object(n.a)(t,c);var e=t.prototype;return e.componentDidMount=function(){var t=this.props,e=t.params.username,a=t.accountId,s=t.accountApId,c=t.withReplies,o=t.me,i=t.patronEnabled;a&&-1!==a?(this.props.dispatch(Object(j.B)(a)),o&&this.props.dispatch(Object(M.d)(a)),c||this.props.dispatch(Object(O.r)(a)),i&&s&&this.props.dispatch(Object(R.c)(s)),this.props.dispatch(Object(O.t)(a,{withReplies:c}))):this.props.dispatch(Object(j.C)(e))},e.componentDidUpdate=function(t){var e=this.props,a=e.me,s=e.accountId,c=e.withReplies,o=e.accountApId,i=e.patronEnabled;(s&&-1!==s&&s!==t.accountId&&s||c!==t.withReplies)&&(this.props.dispatch(Object(j.B)(s)),a&&this.props.dispatch(Object(M.d)(s)),c||this.props.dispatch(Object(O.r)(s)),i&&o&&this.props.dispatch(Object(R.c)(o)),this.props.dispatch(Object(O.t)(s,{withReplies:c})))},e.render=function(){var t=this.props,e=t.statusIds,a=t.featuredStatusIds,s=t.isLoading,c=t.hasMore,o=t.isAccount,i=t.accountId,n=t.unavailable,p=t.accountUsername;return o||-1===i?-1===i||!e&&s?Object(d.a)(g.a,{},void 0,Object(d.a)(I.a,{})):n?Object(d.a)(g.a,{},void 0,Object(d.a)("div",{className:"empty-column-indicator"},void 0,Object(d.a)(w.a,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"}))):Object(d.a)(g.a,{},void 0,Object(d.a)("div",{className:"account__section-headline"},void 0,Object(d.a)(_.a,{exact:!0,to:"/@"+p},void 0,Object(d.a)(w.a,{id:"account.posts",defaultMessage:"Posts"})),Object(d.a)(_.a,{exact:!0,to:"/@"+p+"/with_replies"},void 0,Object(d.a)(w.a,{id:"account.posts_with_replies",defaultMessage:"Posts and replies"})),Object(d.a)(_.a,{exact:!0,to:"/@"+p+"/media"},void 0,Object(d.a)(w.a,{id:"account.media",defaultMessage:"Media"}))),Object(d.a)(m.a,{scrollKey:"account_timeline",statusIds:e,featuredStatusIds:a,isLoading:s,hasMore:c,onLoadMore:this.handleLoadMore,emptyMessage:Object(d.a)(w.a,{id:"empty_column.account_timeline",defaultMessage:"No posts here!"})})):Object(d.a)(g.a,{},void 0,Object(d.a)(L.a,{}))},t}(f.a),Object(p.a)(c,"propTypes",{params:h.a.object.isRequired,dispatch:h.a.func.isRequired,statusIds:l.a.list,featuredStatusIds:l.a.list,isLoading:h.a.bool,hasMore:h.a.bool,withReplies:h.a.bool,isAccount:h.a.bool,unavailable:h.a.bool}),s=o))||s}}]);
//# sourceMappingURL=account_timeline-18ec1f1219e0560efce9.chunk.js.map
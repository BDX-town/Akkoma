{"version":3,"sources":["webpack:///./app/soapbox/features/list_adder/components/list.js","webpack:///./app/soapbox/features/list_adder/components/account.js","webpack:///./app/soapbox/features/list_adder/index.js"],"names":["messages","defineMessages","remove","add","List","connect","state","listId","added","list","get","getIn","includes","dispatch","onRemove","removeFromListAdder","onAdd","addToListAdder","injectIntl","render","this","props","intl","button","icon","title","formatMessage","onClick","className","id","fixedWidth","ImmutablePureComponent","ImmutablePropTypes","map","isRequired","PropTypes","object","func","bool","Account","getAccount","makeGetAccount","accountId","account","size","getOrderedLists","createSelector","lists","toList","filter","item","sort","a","b","localeCompare","close","subheading","ListAdder","listIds","onInitialize","setupListAdder","onReset","resetListAdder","onClose","componentDidMount","componentWillUnmount","defaultMessage","onClickClose","text","ListId","string"],"mappings":"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","file":"js/features/list_adder-484dc970eefac0e575b5.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport IconButton from '../../../components/icon_button';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { removeFromListAdder, addToListAdder } from '../../../actions/lists';\nimport Icon from 'soapbox/components/icon';\n\nconst messages = defineMessages({\n  remove: { id: 'lists.account.remove', defaultMessage: 'Remove from list' },\n  add: { id: 'lists.account.add', defaultMessage: 'Add to list' },\n});\n\nconst MapStateToProps = (state, { listId, added }) => ({\n  list: state.get('lists').get(listId),\n  added: typeof added === 'undefined' ? state.getIn(['listAdder', 'lists', 'items']).includes(listId) : added,\n});\n\nconst mapDispatchToProps = (dispatch, { listId }) => ({\n  onRemove: () => dispatch(removeFromListAdder(listId)),\n  onAdd: () => dispatch(addToListAdder(listId)),\n});\n\nexport default @connect(MapStateToProps, mapDispatchToProps)\n@injectIntl\nclass List extends ImmutablePureComponent {\n\n  static propTypes = {\n    list: ImmutablePropTypes.map.isRequired,\n    intl: PropTypes.object.isRequired,\n    onRemove: PropTypes.func.isRequired,\n    onAdd: PropTypes.func.isRequired,\n    added: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    added: false,\n  };\n\n  render() {\n    const { list, intl, onRemove, onAdd, added } = this.props;\n\n    let button;\n\n    if (added) {\n      button = <IconButton icon='times' title={intl.formatMessage(messages.remove)} onClick={onRemove} />;\n    } else {\n      button = <IconButton icon='plus' title={intl.formatMessage(messages.add)} onClick={onAdd} />;\n    }\n\n    return (\n      <div className='list'>\n        <div className='list__wrapper'>\n          <div className='list__display-name'>\n            <Icon id='list-ul' className='column-link__icon' fixedWidth />\n            {list.get('title')}\n          </div>\n\n          <div className='account__relationship'>\n            {button}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { makeGetAccount } from '../../../selectors';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport Avatar from '../../../components/avatar';\nimport DisplayName from '../../../components/display_name';\nimport { injectIntl } from 'react-intl';\n\nconst makeMapStateToProps = () => {\n  const getAccount = makeGetAccount();\n\n  const mapStateToProps = (state, { accountId }) => ({\n    account: getAccount(state, accountId),\n  });\n\n  return mapStateToProps;\n};\n\n\nexport default @connect(makeMapStateToProps)\n@injectIntl\nclass Account extends ImmutablePureComponent {\n\n  static propTypes = {\n    account: ImmutablePropTypes.map.isRequired,\n  };\n\n  render() {\n    const { account } = this.props;\n    return (\n      <div className='account'>\n        <div className='account__wrapper'>\n          <div className='account__display-name'>\n            <div className='account__avatar-wrapper'><Avatar account={account} size={36} /></div>\n            <DisplayName account={account} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { connect } from 'react-redux';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport { setupListAdder, resetListAdder } from '../../actions/lists';\nimport { createSelector } from 'reselect';\nimport List from './components/list';\nimport Account from './components/account';\nimport IconButton from 'soapbox/components/icon_button';\nimport NewListForm from '../lists/components/new_list_form';\nimport ColumnSubheading from '../ui/components/column_subheading';\n// hack\n\nconst getOrderedLists = createSelector([state => state.get('lists')], lists => {\n  if (!lists) {\n    return lists;\n  }\n\n  return lists.toList().filter(item => !!item).sort((a, b) => a.get('title').localeCompare(b.get('title')));\n});\n\nconst mapStateToProps = (state, { accountId }) => ({\n  listIds: getOrderedLists(state).map(list=>list.get('id')),\n  account: state.getIn(['accounts', accountId]),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onInitialize: accountId => dispatch(setupListAdder(accountId)),\n  onReset: () => dispatch(resetListAdder()),\n});\n\nconst messages = defineMessages({\n  close: { id: 'lightbox.close', defaultMessage: 'Close' },\n  subheading: { id: 'lists.subheading', defaultMessage: 'Your lists' },\n  add: { id: 'lists.new.create', defaultMessage: 'Add List' },\n});\n\nexport default @connect(mapStateToProps, mapDispatchToProps)\n@injectIntl\nclass ListAdder extends ImmutablePureComponent {\n\n  static propTypes = {\n    accountId: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n    onInitialize: PropTypes.func.isRequired,\n    onReset: PropTypes.func.isRequired,\n    listIds: ImmutablePropTypes.list.isRequired,\n    account: ImmutablePropTypes.map,\n  };\n\n  componentDidMount() {\n    const { onInitialize, accountId } = this.props;\n    onInitialize(accountId);\n  }\n\n  componentWillUnmount() {\n    const { onReset } = this.props;\n    onReset();\n  }\n\n  onClickClose = () => {\n    this.props.onClose('LIST_ADDER');\n  };\n\n  render() {\n    const { accountId, listIds, intl } = this.props;\n\n    return (\n      <div className='modal-root__modal compose-modal'>\n        <div className='compose-modal__header'>\n          <h3 className='compose-modal__header__title'>\n            <FormattedMessage id='list_adder.header_title' defaultMessage='Add or Remove from Lists' />\n          </h3>\n          <IconButton className='compose-modal__close' title={intl.formatMessage(messages.close)} icon='times' onClick={this.onClickClose} size={20} />\n        </div>\n        <div className='compose-modal__content'>\n          <div className='list-adder'>\n            <div className='list-adder__account'>\n              <Account accountId={accountId} />\n            </div>\n\n            <br />\n\n            <ColumnSubheading text={intl.formatMessage(messages.add)} />\n            <NewListForm />\n\n            <br />\n\n            <ColumnSubheading text={intl.formatMessage(messages.subheading)} />\n            <div className='list-adder__lists'>\n              {listIds.map(ListId => <List key={ListId} listId={ListId} />)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n"],"sourceRoot":""}
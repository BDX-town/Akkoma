(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{678:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return v});var n,s,c,i=a(0),o=a(2),r=a(6),u=a(1),p=(a(3),a(8)),d=a(9),g=a(32),b=a(13),f=a(4),l=a.n(f),h=a(588),k=a(220),m=a(228),j=a(11),O=a.n(j),M=Object(d.c)({heading:{id:"column.backups",defaultMessage:"Backups"},create:{id:"backups.actions.create",defaultMessage:"Create backup"},emptyMessage:{id:"backups.empty_message",defaultMessage:"No backups found. {action}"},emptyMessageAction:{id:"backups.empty_message.action",defaultMessage:"Create one now?"},pending:{id:"backups.pending",defaultMessage:"Pending"}}),v=Object(p.connect)(function(e){return{backups:e.get("backups").toList().sortBy(function(e){return e.get("inserted_at")})}})(n=Object(g.c)((c=s=function(s){function e(){for(var t,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t=s.call.apply(s,[this].concat(a))||this,Object(u.a)(Object(o.a)(t),"state",{isLoading:!0}),Object(u.a)(Object(o.a)(t),"handleCreateBackup",function(e){t.props.dispatch(Object(k.c)()),e.preventDefault()}),Object(u.a)(Object(o.a)(t),"makeColumnMenu",function(){return[{text:t.props.intl.formatMessage(M.create),action:t.handleCreateBackup}]}),t}Object(r.a)(e,s);var t=e.prototype;return t.componentDidMount=function(){var e=this;this.props.dispatch(Object(k.d)()).then(function(){e.setState({isLoading:!1})}).catch(function(){})},t.render=function(){var e=this.props,t=e.intl,a=e.backups,n=this.state.isLoading,s=n&&0===a.count(),c=Object(i.a)("a",{href:"#",onClick:this.handleCreateBackup},void 0,t.formatMessage(M.emptyMessageAction));return Object(i.a)(h.a,{icon:"cloud-download",heading:t.formatMessage(M.heading),menu:this.makeColumnMenu()},void 0,Object(i.a)(m.a,{isLoading:n,showLoading:s,scrollKey:"backups",emptyMessage:t.formatMessage(M.emptyMessage,{action:c})},void 0,a.map(function(e){return Object(i.a)("div",{className:O()("backup",{"backup--pending":!e.get("processed")})},e.get("id"),e.get("processed")?Object(i.a)("a",{href:e.get("url"),target:"_blank"},void 0,e.get("inserted_at")):Object(i.a)("div",{},void 0,t.formatMessage(M.pending),": ",e.get("inserted_at")))})))},e}(b.a),Object(u.a)(s,"propTypes",{intl:l.a.object.isRequired}),n=c))||n)||n}}]);
//# sourceMappingURL=backups-52bf3a044e4b589ffa76.chunk.js.map
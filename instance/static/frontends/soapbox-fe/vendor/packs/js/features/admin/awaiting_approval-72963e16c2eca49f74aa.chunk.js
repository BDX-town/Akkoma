(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{685:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return M});var n,i,c,o=t(0),s=t(2),r=t(6),p=t(1),d=(t(3),t(9)),u=t(32),l=t(8),g=t(13),v=t(4),m=t.n(v),f=t(15),h=t.n(f),b=t(227),j=t(23),O=t(228),w=t(31),_=t(50),y=Object(d.c)({heading:{id:"column.admin.awaiting_approval",defaultMessage:"Awaiting Approval"},emptyMessage:{id:"admin.awaiting_approval.empty_message",defaultMessage:"There is nobody waiting for approval. When a new user signs up, you can review them here."},approved:{id:"admin.awaiting_approval.approved_message",defaultMessage:"{acct} was approved!"},rejected:{id:"admin.awaiting_approval.rejected_message",defaultMessage:"{acct} was rejected."}}),M=Object(l.connect)(function(a){return{users:a.getIn(["admin","awaitingApproval"]).toList().map(function(e){return a.getIn(["admin","users",e])})}})(n=Object(u.c)((c=i=function(n){function e(){for(var i,e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return i=n.call.apply(n,[this].concat(a))||this,Object(p.a)(Object(s.a)(i),"state",{isLoading:!0}),Object(p.a)(Object(s.a)(i),"handleApprove",function(a){var e=i.props,t=e.dispatch,n=e.intl;return function(e){t(Object(w.q)([a])).then(function(){var e=n.formatMessage(y.approved,{acct:"@"+a});t(_.a.success(e))}).catch(function(){})}}),Object(p.a)(Object(s.a)(i),"handleReject",function(a){var e=i.props,t=e.dispatch,n=e.intl;return function(e){t(Object(w.u)([a])).then(function(){var e=n.formatMessage(y.rejected,{acct:"@"+a});t(_.a.info(e))}).catch(function(){})}}),i}Object(r.a)(e,n);var a=e.prototype;return a.componentDidMount=function(){var e=this;(0,this.props.dispatch)(Object(w.y)({page:1,filters:"local,need_approval"})).then(function(){return e.setState({isLoading:!1})}).catch(function(){})},a.render=function(){var t=this,e=this.props,a=e.intl,n=e.users,i=this.state.isLoading,c=i&&0===n.count();return Object(o.a)(b.a,{icon:"user",heading:a.formatMessage(y.heading),backBtnSlim:!0},void 0,Object(o.a)(O.a,{isLoading:i,showLoading:c,scrollKey:"awaiting-approval",emptyMessage:a.formatMessage(y.emptyMessage)},void 0,n.map(function(e,a){return Object(o.a)("div",{className:"unapproved-account"},e.get("id"),Object(o.a)("div",{className:"unapproved-account__bio"},void 0,Object(o.a)("div",{className:"unapproved-account__nickname"},void 0,"@",e.get("nickname")),Object(o.a)("blockquote",{className:"md"},void 0,e.get("registration_reason"))),Object(o.a)("div",{className:"unapproved-account__actions"},void 0,Object(o.a)(j.a,{icon:"check",size:22,onClick:t.handleApprove(e.get("nickname"))}),Object(o.a)(j.a,{icon:"close",size:22,onClick:t.handleReject(e.get("nickname"))})))})))},e}(g.a),Object(p.a)(i,"propTypes",{intl:m.a.object.isRequired,users:h.a.list.isRequired}),n=c))||n)||n}}]);
//# sourceMappingURL=awaiting_approval-72963e16c2eca49f74aa.chunk.js.map
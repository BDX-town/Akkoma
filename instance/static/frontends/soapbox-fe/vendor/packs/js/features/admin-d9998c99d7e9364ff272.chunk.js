(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{705:function(a,e,t){"use strict";t.r(e);var s,n,d,i,o=t(0),c=t(6),r=t(1),l=(t(3),t(9)),u=t(32),b=t(29),v=t(8),p=t(13),h=t(4),j=t.n(h),O=t(15),m=t.n(O),g=t(227),_=t(2),f=t(62),N=t(31),M=t(50),w=Object(l.c)({saved:{id:"admin.dashboard.settings_saved",defaultMessage:"Settings saved!"}}),y=function(a){return a.get("approval_required")&&a.get("registrations")?"approval":a.get("registrations")?"open":"closed"},k=Object(v.connect)(function(a){return{mode:y(a.get("instance"))}})(s=Object(u.c)(s=function(s){function a(){for(var d,a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];return d=s.call.apply(s,[this].concat(e))||this,Object(r.a)(Object(_.a)(d),"onChange",function(a){var e=d.props,t=e.dispatch,s=e.intl,n=[{group:":pleroma",key:":instance",value:{open:[{tuple:[":registrations_open",!0]},{tuple:[":account_approval_required",!1]}],approval:[{tuple:[":registrations_open",!0]},{tuple:[":account_approval_required",!0]}],closed:[{tuple:[":registrations_open",!1]}]}[a.target.value]}];t(Object(N.C)(n)).then(function(){t(M.a.success(s.formatMessage(w.saved)))}).catch(function(){})}),d}return Object(c.a)(a,s),a.prototype.render=function(){var a=this.props.mode;return Object(o.a)(f.i,{},void 0,Object(o.a)(f.b,{},void 0,Object(o.a)(f.f,{label:Object(o.a)(b.a,{id:"admin.dashboard.registration_mode_label",defaultMessage:"Registrations"}),onChange:this.onChange},void 0,Object(o.a)(f.g,{label:Object(o.a)(b.a,{id:"admin.dashboard.registration_mode.open_label",defaultMessage:"Open"}),hint:Object(o.a)(b.a,{id:"admin.dashboard.registration_mode.open_hint",defaultMessage:"Anyone can join."}),checked:"open"===a,value:"open"}),Object(o.a)(f.g,{label:Object(o.a)(b.a,{id:"admin.dashboard.registration_mode.approval_label",defaultMessage:"Approval Required"}),hint:Object(o.a)(b.a,{id:"admin.dashboard.registration_mode.approval_hint",defaultMessage:"Users can sign up, but their account only gets activated when an admin approves it."}),checked:"approval"===a,value:"approval"}),Object(o.a)(f.g,{label:Object(o.a)(b.a,{id:"admin.dashboard.registration_mode.closed_label",defaultMessage:"Closed"}),hint:Object(o.a)(b.a,{id:"admin.dashboard.registration_mode.closed_hint",defaultMessage:"Nobody can sign up. You can still invite people."}),checked:"closed"===a,value:"closed"}))))},a}(p.a))||s)||s,q=t(64),C=t(150),I=t.n(C);t.d(e,"default",function(){return S});var R=Object(l.c)({heading:{id:"column.admin.dashboard",defaultMessage:"Dashboard"}}),S=Object(v.connect)(function(a){return{instance:a.get("instance")}})(n=Object(u.c)((i=d=function(a){function e(){return a.apply(this,arguments)||this}return Object(c.a)(e,a),e.prototype.render=function(){var a=this.props,e=a.intl,t=a.instance,s=Object(q.b)(t.get("version")),n=t.getIn(["stats","user_count"]),d=t.getIn(["pleroma","stats","mau"]),i=n&&d?Math.round(d/n*100):null;return Object(o.a)(g.a,{icon:"tachometer",heading:e.formatMessage(R.heading),backBtnSlim:!0},void 0,Object(o.a)("div",{className:"dashcounters"},void 0,d&&Object(o.a)("div",{className:"dashcounter"},void 0,Object(o.a)("div",{},void 0,Object(o.a)("div",{className:"dashcounter__num"},void 0,Object(o.a)(l.b,{value:d})),Object(o.a)("div",{className:"dashcounter__label"},void 0,Object(o.a)(b.a,{id:"admin.dashcounters.mau_label",defaultMessage:"monthly active users"})))),Object(o.a)("div",{className:"dashcounter"},void 0,Object(o.a)("a",{href:"/pleroma/admin/#/users/index",target:"_blank"},void 0,Object(o.a)("div",{className:"dashcounter__num"},void 0,Object(o.a)(l.b,{value:n})),Object(o.a)("div",{className:"dashcounter__label"},void 0,Object(o.a)(b.a,{id:"admin.dashcounters.user_count_label",defaultMessage:"total users"})))),i&&Object(o.a)("div",{className:"dashcounter"},void 0,Object(o.a)("div",{},void 0,Object(o.a)("div",{className:"dashcounter__num"},void 0,i,"%"),Object(o.a)("div",{className:"dashcounter__label"},void 0,Object(o.a)(b.a,{id:"admin.dashcounters.retention_label",defaultMessage:"user retention"})))),Object(o.a)("div",{className:"dashcounter"},void 0,Object(o.a)("a",{href:"/pleroma/admin/#/statuses/index",target:"_blank"},void 0,Object(o.a)("div",{className:"dashcounter__num"},void 0,Object(o.a)(l.b,{value:t.getIn(["stats","status_count"])})),Object(o.a)("div",{className:"dashcounter__label"},void 0,Object(o.a)(b.a,{id:"admin.dashcounters.status_count_label",defaultMessage:"posts"})))),Object(o.a)("div",{className:"dashcounter"},void 0,Object(o.a)("div",{},void 0,Object(o.a)("div",{className:"dashcounter__num"},void 0,Object(o.a)(l.b,{value:t.getIn(["stats","domain_count"])})),Object(o.a)("div",{className:"dashcounter__label"},void 0,Object(o.a)(b.a,{id:"admin.dashcounters.domain_count_label",defaultMessage:"peers"}))))),Object(o.a)(k,{}),Object(o.a)("div",{className:"dashwidgets"},void 0,Object(o.a)("div",{className:"dashwidget"},void 0,Object(o.a)("h4",{},void 0,Object(o.a)(b.a,{id:"admin.dashwidgets.software_header",defaultMessage:"Software"})),Object(o.a)("ul",{},void 0,Object(o.a)("li",{},void 0,"Soapbox FE ",Object(o.a)("span",{className:"pull-right"},void 0,I.a.version)),Object(o.a)("li",{},void 0,s.software," ",Object(o.a)("span",{className:"pull-right"},void 0,s.version))))))},e}(p.a),Object(r.a)(d,"propTypes",{intl:j.a.object.isRequired,instance:m.a.map.isRequired}),n=i))||n)||n}}]);
//# sourceMappingURL=admin-d9998c99d7e9364ff272.chunk.js.map
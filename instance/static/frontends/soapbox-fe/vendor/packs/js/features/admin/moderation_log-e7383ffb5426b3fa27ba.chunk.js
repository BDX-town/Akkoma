(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{686:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return M});var n,o,i,s=a(0),r=a(2),c=a(6),d=a(1),g=(a(3),a(9)),l=a(32),u=a(8),m=a(15),h=a.n(m),p=a(13),b=a(4),f=a.n(b),j=a(227),y=a(228),O=a(31),v=Object(g.c)({heading:{id:"column.admin.moderation_log",defaultMessage:"Moderation Log"},emptyMessage:{id:"admin.moderation_log.empty_message",defaultMessage:"You have not performed any moderation actions yet. When you do, a history will be shown here."}}),M=Object(u.connect)(function(t){return{items:t.getIn(["admin_log","index"]).map(function(e){return t.getIn(["admin_log","items",String(e)])}),hasMore:0<t.getIn(["admin_log","total"],0)-t.getIn(["admin_log","index"]).count()}})(n=Object(l.c)((i=o=function(o){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=o.call.apply(o,[this].concat(t))||this,Object(d.a)(Object(r.a)(a),"state",{isLoading:!0,lastPage:0}),Object(d.a)(Object(r.a)(a),"handleLoadMore",function(){var t=a.state.lastPage+1;a.setState({isLoading:!0}),a.props.dispatch(Object(O.w)({page:t})).then(function(e){return a.setState({isLoading:!1,lastPage:t})}).catch(function(){})}),a}Object(c.a)(e,o);var t=e.prototype;return t.componentDidMount=function(){var t=this;(0,this.props.dispatch)(Object(O.w)()).then(function(e){return t.setState({isLoading:!1,lastPage:1})}).catch(function(){})},t.render=function(){var e=this.props,t=e.intl,a=e.items,n=e.hasMore,o=this.state.isLoading,i=o&&0===a.count();return Object(s.a)(j.a,{icon:"balance-scale",heading:t.formatMessage(v.heading),backBtnSlim:!0},void 0,Object(s.a)(y.a,{isLoading:o,showLoading:i,scrollKey:"moderation-log",emptyMessage:t.formatMessage(v.emptyMessage),hasMore:n,onLoadMore:this.handleLoadMore},void 0,a.map(function(e,t){return Object(s.a)("div",{className:"logentry"},t,Object(s.a)("div",{className:"logentry__message"},void 0,e.get("message")),Object(s.a)("div",{className:"logentry__timestamp"},void 0,Object(s.a)(g.a,{value:new Date(1e3*e.get("time")),hour12:!1,year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})))})))},e}(p.a),Object(d.a)(o,"propTypes",{intl:f.a.object.isRequired,list:h.a.list}),n=i))||n)||n}}]);
//# sourceMappingURL=moderation_log-e7383ffb5426b3fa27ba.chunk.js.map